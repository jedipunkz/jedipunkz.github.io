<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°</title>
<meta name="keywords" content="" />
<meta name="description" content="Posts - jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="https://jedipunkz.github.io/post/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.44044074f4b4d7b018bfd3febcc1fa76eb874db64213f920feacf263e3028a73.css" integrity="sha256-RARAdPS017AYv9P&#43;vMH6duuHTbZCE/kg/qzyY&#43;MCinM=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jedipunkz.github.io/pix/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jedipunkz.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jedipunkz.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jedipunkz.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://jedipunkz.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.101.0" />
<link rel="alternate" type="application/rss+xml" href="https://jedipunkz.github.io/post/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-30563095-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Posts" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://jedipunkz.github.io/post/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://jedipunkz.github.io/post/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jedipunkz.github.io" accesskey="h" title="jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚° (Alt + H)">jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jedipunkz.github.io/about" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>Posts</h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>OpenStack HA æ§‹æˆã‚’ Chef ã§ãƒ‡ãƒ—ãƒ­ã‚¤
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚@jedipunkz ã§ã™ã€‚
OpenStack ã‚’é‹ç”¨ã™ã‚‹ä¸­ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯é‡è¦ã§ã™ã€‚ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒãƒ¼ãƒ‰ãŒè½ã¡ã‚‹ã¨ã€ ä»®æƒ³ãƒã‚·ãƒ³ã®æ“ä½œç­‰ãŒåˆ©ç”¨å‡ºæ¥ã¾ã›ã‚“ã€‚ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å†—é•·æ§‹æˆã‚’å–ã‚‹ãƒã‚¤ãƒ³ãƒˆã¯å…¬å¼ wiki ã‚µã‚¤ãƒˆã«è¨˜è¿°ã‚ã‚‹ã®ã§ã™ãŒ PaceMaker ã‚’ä½¿ã£ãŸæ§‹æˆã§ã—ã‚“ã©ã„ã§ã™ã€‚ä½•ã‚ˆã‚Šé‹ç”¨ ã™ã‚‹äººãŒæ··ä¹±ã™ã‚‹ä»•çµ„ã¿ã¯é¿ã‘ãŸã„ã§ã™ã€‚
RackSpace ç¤¾ã®ç®¡ç†ã—ã¦ã„ã‚‹ Chef Cookbooks ã® Roles ã« â€˜ha-controller1â€™, â€˜ha-controller2â€™ ã¨ã„ã†ãƒ¢ãƒãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ã“ã‚Œã‚’ä½¿ã£ãŸ HA æ§‹æˆã®æ§‹ç¯‰æ–¹æ³•ã« ã¤ã„ã¦æ›¸ã„ã¦ã„ã“ã†ã‹ã¨æ€ã„ã¾ã™ã€‚
æ§‹æˆ æœ€å°æ§‹æˆã‚’ä½œã‚ŠãŸã„ã¨æ€ã„ã¾ã™ã€‚HA ã®ãŸã‚ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒãƒ¼ãƒ‰2å°, ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆãƒãƒ¼ ãƒ‰1å°, Chef ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³1å°, Chef ã‚µãƒ¼ãƒãƒãƒ¼ãƒ‰1å°ã€‚
&#43;----------------&#43;----------------&#43;----------------&#43;----------------&#43;--------------- public network | | | eth0 | | 10.0.0.0/24 &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | controller01 | | controller01 | | compute01 | | chef server | | workstation | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | eth1 &#43;------------------------------------------------- fixed range network 172....</p>
  </section>
  <footer class="entry-footer"><span title='2013-07-17 00:00:00 +0000 UTC'>July 17, 2013</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to OpenStack HA æ§‹æˆã‚’ Chef ã§ãƒ‡ãƒ—ãƒ­ã‚¤" href="https://jedipunkz.github.io/post/2013/07/17/openstach-ha-chef-deploy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Chef ã§ OpenStack ãƒ‡ãƒ—ãƒ­ã‚¤
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚@jedipunkz ã§ã™ã€‚
å‰å›ã®è¨˜äº‹ã§ OpenCenter ã‚’ä½¿ã£ãŸ OpenStack ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¡Œã„ã¾ã—ãŸãŒã€ãƒ‡ãƒ—ãƒ­ã‚¤ã® ä»•çµ„ã¿ã®å®Ÿä½“ã¯ Opscode Chef ã§ã™ã€‚æ…£ã‚Œã¦ã„ã‚‹äººã§ã‚ã‚Œã° Chef ã‚’å˜ç‹¬ã§ä½¿ã£ãŸæ–¹ãŒ ã‚ˆã•ãã†ã§ã™ã€‚åƒ•ã‚‚ã“ã®æ–¹æ³•ã‚’ä»Šå¾Œå–ã‚ã†ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
å¹¾ã¤ã‹ã®æ§‹æˆã‚’è©¦ã—ã¦ã„ã‚‹æœ€ä¸­ã§ã™ãŒã€ä»Šå› nova-network ã‚’ä½¿ã£ãŸã‚ªãƒ¼ãƒ«ã‚¤ãƒ³ãƒ¯ãƒ³æ§‹ æˆã‚’ä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚NIC ã®æ•°ã¯1ã¤ã§ã™ã€‚ãƒãƒ¼ãƒˆ PC ã‚„ VPS ã‚µãƒ¼ãƒ“ã‚¹ä¸Šã«ã‚‚ æ§‹ç¯‰ã§ãã‚‹ã¨æ€ã„ã¾ã™ã®ã§è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
ä»Šå›ã¯ Chef ã‚µãƒ¼ãƒã®æ§‹ç¯‰ã‚„ Knife ã®ç’°å¢ƒæ§‹ç¯‰ã«é–¢ã—ã¦ã¯å‰²æ„›ã—ã¾ã™ã€‚
ã¾ãŸå…¨ã¦ã®æ“ä½œã¯ workstation ãƒãƒ¼ãƒ‰ã§è¡Œã„ã¾ã™ã€‚çš†ã•ã‚“ãŠæ‰‹æŒã¡ã® Macbook ç­‰ã§ã™ã€‚ ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹å…ˆã¯ OpenStack ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚µãƒ¼ãƒã§ã™ã€‚
æ‰‹é † Chef Cookbook ã‚’å–å¾— RackSpace ç¤¾ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ã¦ã„ã‚‹ Chef Cookbook ã‚’ä½¿ã„ã¾ã™ã€‚å„ Cookbook ãŒ git submodule åŒ–ã•ã‚Œã¦ã„ã‚‹ã®ã§ â€“recursive ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¾ã™ã€‚
% git clone https://github.com/rcbops/chef-cookbooks.git ~/openstack-chef-repo % cd openstack-chef-repo â€˜v4.0.0â€™ ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ master ãƒ–ãƒ©ãƒ³ãƒã¯ä»Šç¾åœ¨ (2013/07/08) folsom ãƒ™ãƒ¼ã‚¹ã®æ§‹æˆã«ãªã£ã¦ã„ã‚‹ã®ã§ â€˜grizzlyâ€™ ã®ãŸã‚ã®ãƒ–ãƒ©ãƒ³ãƒ â€˜v4....</p>
  </section>
  <footer class="entry-footer"><span title='2013-07-08 00:00:00 +0000 UTC'>July 8, 2013</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Chef ã§ OpenStack ãƒ‡ãƒ—ãƒ­ã‚¤" href="https://jedipunkz.github.io/post/2013/07/08/chef-openstack-deploy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>å†…éƒ¨ã§ Chef ã‚’ä½¿ã£ã¦ã„ã‚‹ OpenCenter ã§ OpenStack æ§‹ç¯‰
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚@jedipunkz ã§ã™ã€‚
ç¬¬13å› OpenStack å‹‰å¼·ä¼šã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚å†…å®¹ã®æ¿ƒã„åç©«ã®ã‚ã‚‹å‹‰å¼·ä¼šã§ã—ãŸã€‚ å‚åŠ ã—ã¦ã‚ˆã‹ã£ãŸã€‚ç‰¹ã«ãˆãã¡ã•ã‚“ã® OpenCenter ã«é–¢ã™ã‚‹ãƒ—ãƒ¬ã‚¼ãƒ³ (ä¸‹è¨˜ã®ã‚¹ãƒ©ã‚¤ãƒ‰ å‚ç…§ã®ã“ã¨) ã«ã¯é©šãã¾ã—ãŸã€‚ã¡ã‚‡ã†ã©å½“æ—¥ RackSpace ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒç®¡ç†ã—ã¦ã„ã‚‹ github ä¸Šã® Chef Cookbooks ã‚’ä½¿ã£ã¦ OpenStack æ§‹ç¯‰ã§ããŸãï¼ã¨æ„Ÿå‹•ã—ã¦ã„ãŸã®ã«ã€ ãã®æ™©ã®ã†ã¡ã« Chef ã‚’ä½¿ã£ã¦ GUI ã§ï¼ OpenStack ãŒè‡ªå‹•æ§‹ç¯‰å‡ºæ¥ã‚‹ã ãªã‚“ã¦â€¦ã€‚
ãˆãã¡ã•ã‚“ã®ã‚¹ãƒ©ã‚¤ãƒ‰è³‡æ–™ã¯ã“ã¡ã‚‰ã€‚
http://www.slideshare.net/guchi_hiro/open-centeropenstack
æ—©é€Ÿã€ç§ã‚‚æ‰‹å…ƒã§ OpenCenter ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚ãˆãã¡ã•ã‚“ã€æƒ…å ±ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸãƒ¼ã€‚
å®Ÿã¯ç§ ã¨ã—ã¦ã¯ Chef å˜ä½“ã§ OpenStack ã‚’æ§‹ç¯‰ã—ãŸã„ã®ã§ã™ãŒã€OpenCenter ãŒã©ã† Cookbook ã‚„ Roles, Environment ã‚’å‰²ã‚Šå½“ã¦ã¦ã„ã‚‹ã®ã‹çŸ¥ã‚ŠãŸã‹ã£ãŸã®ã§ã€ OpenCenter ã‚’ä½¿ã£ã¦æ§‹ç¯‰ã—ã¦ã¿ã¾ã—ãŸã€‚ä»Šå›ã¯ãã®æº–å‚™ã€‚ä»Šæ—¥ã¯ OpenCenter ã§çš†ã• ã‚“ã‚‚ OpenStack ã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã‚­ãƒ£ãƒ—ãƒãƒ£ä»˜ãã§æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ãŒã€æ¬¡ã®æ©Ÿä¼šã« Chef å˜ä½“ã§ã® OpenStack ã®æ§‹ç¯‰æ–¹æ³•ã‚’ç´¹ä»‹å‡ºæ¥ã‚Œã°ã„ã„ãªãã¨æ€ã£ã¦ã„ã¾ã™ã€‚
æ§‹æˆ &#43;---------------&#43;---------------&#43;---------------&#43;---------------&#43;-------------- public network |eth0 |eth0 |eth1 |eth1 | eth1 |10.200.10.11 |10.200.10.12 |10.200.10.13 |10.200.10.14 |10.200.10.15 &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; | opencenter | | oc-chef | |oc-controller| | oc-compute01| | oc-compute02| &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; |10....</p>
  </section>
  <footer class="entry-footer"><span title='2013-07-02 00:00:00 +0000 UTC'>July 2, 2013</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to å†…éƒ¨ã§ Chef ã‚’ä½¿ã£ã¦ã„ã‚‹ OpenCenter ã§ OpenStack æ§‹ç¯‰" href="https://jedipunkz.github.io/post/2013/07/02/chef-opencenter-openstack/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Sensu ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã‚’ Chef ã§åˆ¶å¾¡
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚@jedipunkz ã§ã™ã€‚
è‡ªå‹•åŒ–ã®åŸºç›¤ã‚’å°å…¥ã™ã‚‹ãŸã‚ã«è‰²ã€…èª¿ã¹ã¦ã„ã‚‹ã®ã§ã™ãŒã€ç›£è¦–ã‚‚è‡ªå‹•åŒ–ã—ãªãã¡ã‚ƒï¼ã¨ ã„ã†ã“ã¨ã§ Sensu ã‚’èª¿ã¹ã¦ãŸã®ã§ã™ãŒ Chef ã¨ã®ç›¸æ€§ãƒãƒƒãƒãƒªãªæ„Ÿã˜ã§ã€è‡ªåˆ†çš„ã«ã‚¤ ã‚±ã¦ã‚‹ãªã¨æ€ã„ã¾ã—ãŸã€‚
å…¬å¼ã‚µã‚¤ãƒˆ http://www.sonian.com/cloud-monitoring-sensu/ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ http://docs.sensuapp.org/0.9/index.html é–‹ç™ºå…ƒãŒäºˆã‚ Chef ã® Cookbook (æ­£ç¢ºã«ã¯ãƒ©ãƒƒãƒ‘ãƒ¼ Cookbook é–‹ç™ºã®ãŸã‚ã® Cookbook ã§ Include ã—ã¦ä½¿ã†) ã‚’ç”¨æ„ã—ã¦ãã‚Œã¦ã„ãŸã‚Šã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å®¹æ˜“ã«ã™ã‚‹ ãŸã‚ã® Omnibus å½¢å¼ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æä¾›ã ã£ãŸã‚Šã€‚Omnibus ãªã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨å…± ã« Sensu ãŒæ¨å¥¨ã™ã‚‹ Ruby ä¸€å¼ã‚‚ä¸€ç·’ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚Chef ã¨åŒã˜ã§ã™ã­ã€‚
ä»Šå›ç´¹ä»‹ã—ãŸã„ã®ã¯ã€Chef ã§ Sensu ã‚’æ§‹ç¯‰ãƒ»åˆ¶å¾¡ã™ã‚‹æ–¹æ³•ã§ã™ã€‚
&#43;--------------&#43; &#43;--------------&#43; | chef-server | | workstation | &#43;--------------&#43; &#43;--------------&#43; | | &#43;----------------&#43; | &#43;--------------&#43; | sensu-server | &#43;--------------&#43; | &#43;----------------&#43;----------------&#43;----------------&#43; | | | | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | sensu-client | | sensu-client | | sensu-client | | sensu-client | ....</p>
  </section>
  <footer class="entry-footer"><span title='2013-06-20 00:00:00 +0000 UTC'>June 20, 2013</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Sensu ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã‚’ Chef ã§åˆ¶å¾¡" href="https://jedipunkz.github.io/post/2013/06/20/sensu-chef-controll/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Chef ã‚’ Ruby ã‚³ãƒ¼ãƒ‰å†…ã§åˆ©ç”¨ã™ã‚‹
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚@jedipunkz ã§ã™ã€‚
require â€˜chefâ€™ ã—ã¦ Ruby ã‚³ãƒ¼ãƒ‰ã®ä¸­ã§ chef ã‚’åˆ©ç”¨ã—ãŸã„ã¨æ€ã£ã¦è‰²ã€…èª¿ã¹ã¦ã„ãŸ ã®ã§ã™ãŒã€ãã‚‚ãã‚‚ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãŒç„¡ãã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚‚ã”ãã‚ãšã‹ã—ã‹ãƒãƒƒãƒˆä¸Šã«è¦‹ ã¤ã‘ã‚‰ã‚Œãªã„çŠ¶æ…‹ã§ã—ãŸã€‚çµå±€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ç†è§£ã—ã¦ã„ãä¸–ç•Œãªã‚ã‘ã§ã™ãŒã€ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒå¹¾ã¤ã‹ã‚ã‚‹ã¨ä»–ã®äººã«å½¹ç«‹ã¤ã‹ãªãã¨æ€ã„ã€ãƒ–ãƒ­ã‚°ã«è¼‰ã›ã¦ã„ã“ã†ã‹ ãªãã¨ã€‚
ã¾ãš Chef ã‚µãƒ¼ãƒã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ã¯ä¸‹è¨˜ã®æƒ…å ±ãŒå¿…è¦ã§ã™ã€‚
ãƒ¦ãƒ¼ã‚¶å ãƒ¦ãƒ¼ã‚¶ç”¨ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆéµ Chef ã‚µãƒ¼ãƒã® URL ã“ã‚Œã‚‰ã¯ Chef::Config ã§è¨˜ã—ã¦ã„ãã¾ã™ã€‚
ã§ã¯æ—©é€Ÿã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ã¾ãšã¯ data bags å†…ãƒ‡ãƒ¼ã‚¿ã®ä¸€è¦§ã‚’å–å¾—ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã§ ã™ã€‚data bags å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¨ã§å–å¾—ã—é…åˆ—ã§è¡¨ç¤ºã—ã¾ã™ã€‚
#!/usr/bin/env ruby require &#39;rubygems&#39; require &#39;chef/rest&#39; require &#39;chef/search/query&#39; Chef::Config[:node_name]=&#39;user01&#39; Chef::Config[:client_key]=&#39;/home/user01/user01.pem&#39; Chef::Config[:chef_server_url]=&#34;https://10.200.9.22&#34; Chef::DataBag::list.each do |bag_name, url| Chef::DataBag::load(bag_name).each do |item_name, url| item = Chef::DataBagItem.load(bag_name, item_name).to_hash puts item end end æ¬¡ã¯ data bags ã«ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚json_data ã¨ã„ã† JSON å½¢å¼ã®ãƒ‡ãƒ¼ ã‚¿ã‚’ test_data ã¨ã„ã† data bag ã«æ”¾ã‚Šè¾¼ã‚“ã§ã„ã¾ã™ã€‚...</p>
  </section>
  <footer class="entry-footer"><span title='2013-06-12 00:00:00 +0000 UTC'>June 12, 2013</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Chef ã‚’ Ruby ã‚³ãƒ¼ãƒ‰å†…ã§åˆ©ç”¨ã™ã‚‹" href="https://jedipunkz.github.io/post/2013/06/12/chef-ruby-code/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Ceph ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆ
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚@jedipunkz ã§ã™ã€‚
Ceph ã‚’é‹ç”¨ã™ã‚‹ä¸Šã§è€ƒæ…®ã—ãªã‘ã‚Œã°ã„ã‘ãªã„ã®ãŒãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®è² è·ã§ã™ã€‚ç‰¹ã« OSD åŒå£«ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆã«ã¯ç›¸å½“ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®è² è·ãŒæ›ã‹ã‚‹ã“ã¨ãŒæƒ³ åƒå‡ºæ¥ã¾ã™ã€‚
ã“ã®ãŸã‚ MDS, MON ã®é€šä¿¡ã«å½±éŸ¿ã‚’ä¸ãˆãªã„ã‚ˆã†ã€OSD ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒ¼ãƒˆãƒ“ãƒ¼ ãƒˆã®ãŸã‚ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’åˆ¥ã«è¨­ã‘ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ãªæ§‹æˆã®æ§˜ã§ã™ã€‚ã“ã®ãƒãƒƒ ãƒˆãƒ¯ãƒ¼ã‚¯ã®ã“ã¨ã‚’ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ Ceph çš„ã«è¨€ã†ãã†ã§ã™ã€‚
ã“ã‚“ãªæ¥ç¶šã«ãªã‚Šã¾ã™ã€‚
&#43;------&#43; |Client| &#43;------&#43; | &#43;-------&#43;-------&#43;-------&#43;-------&#43;------ public network | | | | | &#43;-----&#43; &#43;-----&#43; &#43;-----&#43; &#43;-----&#43; &#43;-----&#43; | MON | | MDS | | OSD | | OSD | | OSD | &#43;-----&#43; &#43;-----&#43; &#43;-----&#43; &#43;-----&#43; &#43;-----&#43; | | | ----------------&#43;-------&#43;-------&#43;------ cluster network ä¸Šå›³ã®æ§˜ã« MON, MDS ã¯ public ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã— OSD ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒãƒ¼ ãƒˆãƒ“ãƒ¼ãƒˆã®ã¿ cluster ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä»‹ã—ã¾ã™ã€‚Client ã¨ MDS ã¨ã®é€šä¿¡ã«å½±éŸ¿ã‚’ä¸ ãˆãªã„æ§‹æˆã«ãªã‚Šã¾ã™ã€‚...</p>
  </section>
  <footer class="entry-footer"><span title='2013-05-25 00:00:00 +0000 UTC'>May 25, 2013</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Ceph ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆ" href="https://jedipunkz.github.io/post/2013/05/25/ceph-cluster-network/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>OpenStack &#43; Ceph é€£æº
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚æœ€è¿‘ OpenStack ã®å°å…¥ã«å‘ã‘ã¦ä¿å®ˆæ€§ã‚„å¯ç”¨æ€§ã«ã¤ã„ã¦èª¿æŸ»ã—ã¦ã„ã‚‹ @jedipunkz ã§ã™ã€‚
OpenStack ã¯ MySQL ã®ãƒ€ãƒ³ãƒ—ã‚„ OS ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ»ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ã¨ã£ ã¦ãŠã‘ã°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å¾©æ—§ã‚‚å‡ºæ¥ã¾ã™ã—ã€Grizzly ç‰ˆã® Quantum ã§ã¯å†—é•·ã‚„åˆ†æ•£ãŒ å–ã‚Œã‚‹ã®ã§éšœå®³æ™‚ã«è€ãˆã‚‰ã‚Œã¾ã™ã€‚ã¾ãŸ Quantum ã®å¾©æ—§ã¯æ‰‹å‹•ã‚‚ã§å¯èƒ½ã§ã™ã€‚æœ€å¾Œã® æ‚©ã¿ã ã£ãŸ Cinder ã®æ¥ç¶šå…ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã™ãŒã€OpenStack ã®ã‚¹ã‚¿ãƒ³ã‚¹ã¨ã—ã¦ã¯é«˜ä¾¡ãª ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å–ã‚‹ã‹ã€Ceph, SheepDog ã®ã‚ˆã†ãªã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ ã‚¹ã‚’ä½¿ã†ã‹ã€ã§ã—ãŸã€‚ã§ã€ä»Šå›ã¯ Ceph ã‚’ OpenStack ã«é€£æºã•ã›ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚
ã“ã®ä½œæ¥­ã«ã‚ˆã‚Š Cinder ã®æ¥ç¶šå…ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãŒ Ceph ã«ãªã‚‹ã®ã¨ Glance ã® OS ã‚¤ãƒ¡ãƒ¼ ã‚¸ãƒ»ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã®ä¿ç®¡å…ˆãŒ Ceph ã«ãªã‚Šã¾ã™ã€‚
ä¸‹è¨˜ã®å‚è€ƒè³‡æ–™ãŒå®Œæˆåº¦é«˜ãã€ã»ã¼å†…å®¹ã¯ãã®ã¾ã¾ã§ã™ã€‚è‹¥å¹²ä»˜ã‘è¶³ã—ã¦ã„ã¾ã™ãŒã€‚
å‚è€ƒè³‡æ–™ http://ceph.com/docs/master/rbd/rbd-openstack/
å‰æã®æ§‹æˆ &#43;-------------&#43;-------------&#43;--------------------------------------------- Public/API Network | | | &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; | | | | |vm|vm|.. | | | | | | | | controller| | network | &#43;-----------&#43; | ceph01 | | ceph01 | | ceph01 | | | | | | compute | | | | | | | | | | | | | | | | | | | &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; &#43;-----------&#43; | | | | | | | | &#43;-------------&#43;-----)-------&#43;-----)-------&#43;-------------&#43;-------------&#43;-- Management/API Network | | &#43;-------------&#43;-----------------------------------&#43;-- Data Network Ceph ã¯ OpenStack ã® Management Network ä¸Šã«é…ç½® Ceph ã¯3å°æ§‹æˆ (ä½•å°ã§ã‚‚å¯) OpenStack ã‚‚3å°æ§‹æˆ (ä½•å°ã§ã‚‚å¯) é€£æºå‡¦ç†ã™ã‚‹ã®ã¯ controller, compute ãƒãƒ¼ãƒ‰ ã§ã¯æ—©é€Ÿæ‰‹é †ã§ã™ãŒã€OpenStack ã¨ Ceph ã®æ§‹ç¯‰æ‰‹é †ã¯å‰²æ„›ã—ã¾ã™ã€‚ç§ã®ä»–ã®è¨˜äº‹ã‚’å‚ è€ƒã«ã—ã¦ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚...</p>
  </section>
  <footer class="entry-footer"><span title='2013-05-19 00:00:00 +0000 UTC'>May 19, 2013</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to OpenStack &#43; Ceph é€£æº" href="https://jedipunkz.github.io/post/2013/05/19/openstack-ceph/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Chef Cookbook ã§ãƒ¦ãƒ¼ã‚¶ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—è¿½åŠ 
    </h2>
  </header>
  <section class="entry-content">
    <p>ã“ã‚“ã«ã¡ã¯ã€‚@jedipunkz ã§ã™ã€‚ ä»Šå›ã¯ Opscode Chef ã§ãƒ¦ãƒ¼ã‚¶ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ã¾ã¨ã‚ã¾ã™ã€‚
â€˜usersâ€™ Cookbook ã‚’ä½¿ã„ã¾ã™ã€‚
% cd ${YOUR_CHEF_REPO} % ${EDITOR} Berksfile cookbook &#39;users&#39; % berks install --path ./cookbooks data_bag ã‚’ä½¿ã£ã¦ãƒ¦ãƒ¼ã‚¶ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—ã®ç®¡ç†ã‚’ã—ãŸã„ã®ã§ç®¡ç†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¾ ã™ã€‚
% mkdir -p data_bags/users data_bags/users/jedipunkz.json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦å†…å®¹ã‚’æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚
{ &#34;id&#34;: &#34;jedipunkz&#34;, &#34;ssh_keys&#34;: &#34;ssh-rsa AAAABx92tstses jedipunkz@somewhere&#34;, &#34;groups&#34;: [ &#34;sysadmin&#34;, &#34;sudo&#34; ], &#34;uid&#34;: 2001, &#34;shell&#34;: &#34;\/usr\/bin\/zsh&#34;, &#34;comment&#34;: &#34;jedipunkz sysadmin&#34;, &#34;password&#34;: &#34;$1$s%H8BMHlB$7s3h30y9IB1SklftZXYhvssJ&#34; } json ãƒ•ã‚¡ã‚¤ãƒ«ã®èª¬æ˜ã§ã™ã€‚
id : ãƒ¦ãƒ¼ã‚¶å ssh_keys : SSH å…¬é–‹éµ groups : æ‰€å±ã•ã›ã‚‹ã‚°ãƒ«ãƒ¼ãƒ— uid : unix id sheell : ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ« comment : ã‚³ãƒ¡ãƒ³ãƒˆ passwd : ãƒãƒƒã‚·ãƒ¥åŒ–ã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ ç‰¹ã«ãƒãƒƒã‚·ãƒ¥åŒ–ã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã§ç”Ÿæˆå‡ºæ¥ã¾ã™ã€‚...</p>
  </section>
  <footer class="entry-footer"><span title='2013-05-18 00:00:00 +0000 UTC'>May 18, 2013</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Chef Cookbook ã§ãƒ¦ãƒ¼ã‚¶ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—è¿½åŠ " href="https://jedipunkz.github.io/post/2013/05/18/chef-cookbook-adding-users/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://jedipunkz.github.io/post/page/10/">Â« Prev Page</a>
    <a class="next" href="https://jedipunkz.github.io/post/page/12/">Next Page Â»</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://jedipunkz.github.io">jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
