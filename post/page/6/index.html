<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | jedipunkz 🚀 のブログ</title>
<meta name="keywords" content="" />
<meta name="description" content="Posts - jedipunkz 🚀 のブログ">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="https://jedipunkz.github.io/post/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.44044074f4b4d7b018bfd3febcc1fa76eb874db64213f920feacf263e3028a73.css" integrity="sha256-RARAdPS017AYv9P&#43;vMH6duuHTbZCE/kg/qzyY&#43;MCinM=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jedipunkz.github.io/pix/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jedipunkz.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jedipunkz.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jedipunkz.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://jedipunkz.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.97.3" />
<link rel="alternate" type="application/rss+xml" href="https://jedipunkz.github.io/post/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-30563095-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Posts" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://jedipunkz.github.io/post/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://jedipunkz.github.io/post/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jedipunkz.github.io" accesskey="h" title="jedipunkz 🚀 のブログ (Alt + H)">jedipunkz 🚀 のブログ</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jedipunkz.github.io/about" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>Posts</h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Mesos &#43; Marathon &#43; Deimos &#43; Docker を試してみた!
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
以前 Mesos, Docker について記事にしました。
http://jedipunkz.github.io/blog/2013/09/28/mesos-architecture-number-1/ http://jedipunkz.github.io/blog/2013/10/01/methos-architecture-number-2-docker-on-mesos/
Twitter で Docker 関連のオーケストレーションツールについて呟いていたら @everpeace さんから こんな情報をもらいました。
@jedipunkz 元々meos-dockerっていうmesos executorがあったんですけど、mesosがcontainer部分をpluggableにしたので、それに合わせてdeimosっていうmesos用のexternal containerizer が作られました。
— Shingo Omura (@everpeace) 2014, 6月 12  Deimos !!! 知らなかった。Mesos の Docker プラグインらしく下記の場所にありました。
https://github.com/mesosphere/deimos
色々調べいたら、こんな資料が見つかりました。どうやらまだ公開されて4日しか経っていないようです。
http://mesosphere.io/learn/run-docker-on-mesosphere/
Mesos &#43; Marathon &#43; Deimos &#43; Docker をオールインワン構成で構築する手順が書かれています。
内容はほぼ同じですが、一応自分がやってみて理解したことをまとめたいので下記に記していきます。
構築してみる 手順をまとめてスクリプトにしました。パッケージは Ubuntu 13.10 用のようですが 14.04 のホスト で実行出来ました。14.04 のパッケージはまだ見つかっていません。
#!/bin/bash # disable ipv6 echo &#39;net.ipv6.conf.all.disable_ipv6 = 1&#39; | sudo tee -a /etc/sysctl.conf echo &#39;net.ipv6.conf.default.disable_ipv6 = 1&#39; | sudo tee -a /etc/sysctl....</p>
  </section>
  <footer class="entry-footer"><span title='2014-06-13 00:00:00 +0000 UTC'>June 13, 2014</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Mesos &#43; Marathon &#43; Deimos &#43; Docker を試してみた!" href="https://jedipunkz.github.io/post/2014/06/13/mesos-marathon-deimos-docker/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>クラウドライブラリ Fog で AWS を操作！..のサンプル
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
最近 OpenStack でサービスを開発！.. じゃなくて AWS でプロトタイプサービス作っ ているのですが、Ruby で開発したかったので Fog を使っています。EC2 と ELB の API を叩くコードになりつつあるのですが、サンプルコードって世の中に中々無いと気 がついたので、このブログ記事にサンプルコードを載せたいと思います。
Fog とは ? Fog http://fog.io/ はクラウドライブラリソフトウェアです。AWS, Rackspace, CloudStack, OpenStack .. と数ある世の中のクラウドプラットフォームを扱うために 用意されたソフトウェアです。対応しているプラットフォームの種別は下記を見ると参 考になります。
http://fog.io/about/provider_documentation.html
ドキュメントがまだまだ揃っていなく、Fog のコードを覗きながら実装するしかない状 況です。なので「こう使えば良い！」というお手本があまりネット上にも無い気がしま す。
ドキュメントは一応下記にあります。 が使い方がよくわからない・・！(´；ω；｀)ﾌﾞﾜｯ
http://rubydoc.info/gems/fog/frames/index
EC2 インスタンスを使ってみる まずは AWS EC2 の API を叩いて t1.micro インスタンスを立ち上げてみましょう。
require &#39;fog&#39;  compute = Fog::Compute.new({  :provider =&gt; &#39;AWS&#39;,  :aws_access_key_id =&gt; &#39;....&#39;,  :aws_secret_access_key =&gt; &#39;....&#39;,  :region =&gt; &#39;ap-northeast-1&#39; })  server = compute....</p>
  </section>
  <footer class="entry-footer"><span title='2014-05-29 00:00:00 +0000 UTC'>May 29, 2014</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to クラウドライブラリ Fog で AWS を操作！..のサンプル" href="https://jedipunkz.github.io/post/2014/05/29/fog-aws-ec2-elb/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>stackforge/openstack-chef-repo で OpenStack Icehouse デプロイ
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
またまた OpenStack のデプロイをどうするか？についてです。
今まで自分の中では Rackspace Private Cloud で使われている Rackspace 管理の rcbops/chef-cookbooks が今現在使うならベストの選択だと思っていました。これは内 部で Chef が使われていてしかも Cookbooks が Github 上で公開されています。 Apache ライセンスで使えるので、サービス構築にも使えちゃうというモノ。
先日、ある OpenStack コアデベロッパーの方から「jedipunkz さん、やっぱり rcbops がいいですか？運営とかどうなっているんでしょう？マージの規準とかどうなのかな？」 と質問受けました。確かにマージの基準は Rackspace Private Cloud がベースになり ますし、管理しているエンジニアの一覧を見ていると Rackspace 社のエンジニアがメ インですし、今後どうなるのか分からない…。
逃げ道は用意したほうが良さそう。
ということで、以前自分も暑かったことのある StackForge の openstack-chef-repo を久々に使ってみました。Icehouse 構成がこの時点で既に組めるようになっていて、 以前よりだい〜ぶ完成度増した感があります。今回は nova-network 構成を作ってみた のですが、Neutron 構成ももちろん出来そうなので後に調べてまた公開したいです。
StackForge とは StackForge は OpenStack のデプロイ・CI の仕組みとして公式に用いられているもの。 公式サイトは下記の場所にある。
http://ci.openstack.org/stackforge.html
StackForge の openstack-chef-repo は下記の場所にある。
https://github.com/stackforge/openstack-chef-repo
openstack-chef-repo はまだ ‘stable/icehouse’ ブランチが生成されていない。が直 ちに master からブランチが切られる様子。...</p>
  </section>
  <footer class="entry-footer"><span title='2014-04-25 00:00:00 +0000 UTC'>April 25, 2014</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to stackforge/openstack-chef-repo で OpenStack Icehouse デプロイ" href="https://jedipunkz.github.io/post/2014/04/25/stackforge-openstack-chef-repo-icehouse-deploy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Mirantis OpenStack (Neutron GRE)を組んでみた！
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
皆さん、Mirantis OpenStack はご存知ですか？ OpenStack ディストリビューションの 1つです。以下、公式サイトです。
http://software.mirantis.com/main/
この Mirantis OpenStack を使って OpenStack Havana (Neutron GRE) 構成を作ってみ ました。その時のメモを書いていきたいと思います。
構成は? 構成は下記の通り。
※ CreativeCommon
特徴は
 Administrative Network : Fuel Node, DHCP &#43; PXE ブート用 Management Network : 各コンポーネント間 API 用 Public/Floating IP Network : パブリック API, VM Floating IP 用 Storage Network : Cinder 配下ストレージ &lt;-&gt; インスタンス間用 要インターネット接続 : Public/Floating Networks Neutron(GRE) 構成  です。タグ VLAN 使って物理ネットワークの本数を減らすことも出来るはずですが、僕 の環境では何故かダメだったので上記の4つの物理ネットワークを別々に用意しました。
Fuel ノードの構築 Fuel ノードとは、OpenStack の各ノードをデプロイするための管理ノードのことです。 DHCP &#43; PXE を管理する Cobbler やデプロイツールの Puppet が内部で稼働し、 Administrative Network 上で稼働したノードを管理・その後デプロイします。...</p>
  </section>
  <footer class="entry-footer"><span title='2014-04-23 00:00:00 +0000 UTC'>April 23, 2014</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Mirantis OpenStack (Neutron GRE)を組んでみた！" href="https://jedipunkz.github.io/post/2014/04/23/mirantis-openstack/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Geard のポートマッピングについて調べてみた
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
今週 Redhat が ‘Redhat Enterprise Linux Atomic Host’ しましたよね。Docker を特 徴としたミニマムな OS だとのこと。その内部で用いられている技術 Geard について 少し調べてみました。複数コンテナの関連付けが可能なようです。ここでは調べた結果 について簡単にまとめていきます。
参考資料 http://openshift.github.io/geard/deploy_with_geard.html
利用方法 ここではホスト OS に Fedora20 を用意します。
まず Geard をインストール
% sudo yum install --enablerepo=updates-testing geard 下記の json ファイルを作成します。ここにはコンテナをデプロイするための情報と関 連付けのための情報を記します。
$ ${EDITOR} rockmongo_mongodb.json {  &#34;containers&#34;:[  {  &#34;name&#34;:&#34;rockmongo&#34;,  &#34;count&#34;:1,  &#34;image&#34;:&#34;derekwaynecarr/rockmongo&#34;,  &#34;publicports&#34;:[{&#34;internal&#34;:80,&#34;external&#34;:6060}],  &#34;links&#34;:[{&#34;to&#34;:&#34;mongodb&#34;}]  },  {  &#34;name&#34;:&#34;mongodb&#34;,  &#34;count&#34;:1,  &#34;image&#34;:&#34;ccoleman/ubuntu-mongodb&#34;,  &#34;publicports&#34;:[{&#34;internal&#34;:27017}]  }  ] } 上記のファイルの解説。...</p>
  </section>
  <footer class="entry-footer"><span title='2014-04-22 00:00:00 +0000 UTC'>April 22, 2014</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Geard のポートマッピングについて調べてみた" href="https://jedipunkz.github.io/post/2014/04/22/geard-port-mapping/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>OpenStack Havana Cinder,Glance の分散ストレージ Ceph 連携
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは！@jedipunkz です。
今回は Havana 版の OpenStack Glance, Cinder と分散ストレージの Ceph を連携させ る手順を書いていきます。元ネタはこちら。下記の Ceph の公式サイトに手順です。
https://ceph.com/docs/master/rbd/rbd-openstack/
この手順から下記の変更を行って、ここでは記していきます。
 Nova &#43; Ceph 連携させない cinder-backup は今のところ動作確認出来ていないので省く 諸々の手順がそのままでは実施出来ないので補足を入れていく。  cinder-backup は Cinder で作成した仮想ディスクのバックアップを Ceph ストレージ 上に取ることが出来るのですが、そもそも Ceph 上にある仮想ディスクを Ceph にバッ クアップ取っても意味が薄いですし、まだ動いていないので今回は省きます。LVM やそ の他ストレージを使った Cinder 連携をされている方にとっては cinder-backup の Ceph 連携は意味が大きくなってくると思います。
構成 下記の通りの物理ネットワーク6つの構成です。 OpenStack, Ceph 共に最小構成を前提にします。
 &#43;--------------------------------------------------------------------- external | &#43;--------------&#43;--(-----------&#43;--------------&#43;------------------------------------------ public | | | | | &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; | controller | | network | | compute | | ceph01 | | ceph02 | | ceph03 | &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; &#43;------------&#43; | | | | | | | | | | | | | | | | &#43;--------------&#43;--(-----------&#43;--(-----------&#43;--(--(--------&#43;--(--(--------&#43;--(--(------- management | | | | | | | | | | | &#43;--------------&#43;--(-----------(--(-----------(--(-----------(--(------- guest | | | | | | | | &#43;--------------------------------&#43;-----------&#43;--(-----------&#43;--(-----------&#43;--(------- storage | | | &#43;--------------&#43;--------------&#43;------- cluster 特徴...</p>
  </section>
  <footer class="entry-footer"><span title='2014-04-04 00:00:00 +0000 UTC'>April 4, 2014</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to OpenStack Havana Cinder,Glance の分散ストレージ Ceph 連携" href="https://jedipunkz.github.io/post/2014/04/04/openstack-havana-cinder-glance-ceph/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>rcbops/chef-cookbooks で Keystone 2013.2.2(Havana) &#43; Swift 1.10.0 を構築
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
追記 2014/03/20 : 一旦削除していた記事なのですが、無事動作が確認出来たので再度アッ プします！
第17回 OpenStack 勉強会で rcbops/chef-cookbooks の話をしてきたのですが会場から 質問がありました。「Havana の Swift 構成を作る Cookbooks はどこにありますか？」 と。私が試したのが Grizzly 時代のモノで、よく rcbops/chef-cookbooks を見てみる と Havana ブランチ又は Havana に対応したリリースタグのファイル構成に Swift が 綺麗サッパリ消えているではありませんか・・！下記の Swift の Cookbooks は幸い github 上に残っていました。
https://github.com/rcbops-cookbooks/swift
が rcbops/chef-cookbooks との関連付けが切れています・・。ぐあぁ。
ということで Havana 構成の Keystone 2013.2.2 と Swift 1.10.0 の構成を Chef で 作らねば！と思い色々試していたら結構あっさりと出来ました。今回はその方法を書い ていきたいと思います！
構成 構成は…以前の記事 http://jedipunkz.github.io/blog/2013/10/27/swift-chef/ と同じです。
&#43;-----------------&#43; | load balancer | &#43;-----------------&#43; | &#43;-------------------&#43;-------------------&#43;-------------------&#43;-------------------&#43;---------------------- proxy network | | | | | &#43;-----------------&#43; &#43;-----------------&#43; &#43;-----------------&#43; &#43;-----------------&#43; &#43;-----------------&#43; | chef server | | chef workstation| | swift-mange | | swift-proxy01 | | swift-proxy02 | &#43;-----------------&#43; &#43;-----------------&#43; &#43;-----------------&#43; &#43;-----------------&#43; &#43;-----------------&#43; ....</p>
  </section>
  <footer class="entry-footer"><span title='2014-03-16 00:00:00 +0000 UTC'>March 16, 2014</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to rcbops/chef-cookbooks で Keystone 2013.2.2(Havana) &#43; Swift 1.10.0 を構築" href="https://jedipunkz.github.io/post/2014/03/16/rcbops-chef-cookbooks-keystone-havana-swift-1-10-0.deploy/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Sensu,Chef,OpenStack,Fog を使ったオレオレオートスケーラを作ってみた！
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
今まで監視システムの Sensu やクラウドプラットフォームの OpenStack、コンフィギュ レーションマネージメントツールの Chef やクラウドライブラリの Fog 等使ってきま したが、これらを組み合わせるとオレオレオートスケーラ作れるんじゃないか？と思い、 ちょろっと作ってみました。
ちなみに自分はインフラエンジニアでしかも運用の出身なので Ruby に関しては初心者 レベルです。Chef で扱っているのと Rails アプリを作った経験はありますが、その程 度。Fog というクラウドライブラリにコントリビュートしたことはアリますが..。ちな みに Fog のコントリビュート内容は OpenStack Neutron(当時 Quantum) の仮想ルータ の操作を行う実装です。
そんな自分ですが…設計1周間・実装1周間でマネージャと CLI が出来ました。 また暫く放置していたマネージャと CLI に WebUI くっつけようかなぁ？と思って sinatra の学習を始めたのですが、学習を初めて 1.5 日で WebUI が動くところまで行 きました。何故か？Ruby には有用な技術が揃っているから・・！(´；ω；｀)ﾌﾞﾜｯ
オレオレオートスケーラ ‘sclman’ の置き場所 https://github.com/jedipunkz/sclman
スクリーンショット &#43;&#43;&#43;
構成は？ &#43;-------------- public network &#43;-------------&#43; | |sclman-api.rb| &#43;----&#43;----&#43;---&#43; | sclman.rb | | vm | vm |.. | |sclman-cli.rb| &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; | openstack | | chef server | | sensu server| | workstation | &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; &#43;-------------&#43; | | | | &#43;---------------&#43;---------------&#43;---------------&#43;--------------- management network ‘sclman’ っていう名前です。上図の workstation ノードで稼働します。処理の流れは...</p>
  </section>
  <footer class="entry-footer"><span title='2014-03-05 00:00:00 +0000 UTC'>March 5, 2014</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Theme PaperMod</footer>
  <a class="entry-link" aria-label="post link to Sensu,Chef,OpenStack,Fog を使ったオレオレオートスケーラを作ってみた！" href="https://jedipunkz.github.io/post/2014/03/05/sensu-chef-openstack-fog-autoscaler/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://jedipunkz.github.io/post/page/5/">« Prev Page</a>
    <a class="next" href="https://jedipunkz.github.io/post/page/7/">Next Page »</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://jedipunkz.github.io">jedipunkz 🚀 のブログ</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
