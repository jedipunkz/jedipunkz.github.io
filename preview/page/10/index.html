<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.148.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>jedipunkz 🚀 のブログ</title>

<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="Theme PaperMod">
<link rel="canonical" href="https://jedipunkz.github.io/preview/">
<link crossorigin="anonymous" href="/preview/assets/css/stylesheet.450f36617000261ed5ef323092a7c0037b2347dba027313b5a32ada072cab418.css" integrity="sha256-RQ82YXAAJh7V7zIwkqfAA3sjR9ugJzE7WjKtoHLKtBg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jedipunkz.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jedipunkz.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jedipunkz.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jedipunkz.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://jedipunkz.github.io/preview/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://jedipunkz.github.io/preview/index.xml">
<link rel="alternate" type="application/json" href="https://jedipunkz.github.io/preview/index.json">
<link rel="alternate" hreflang="en" href="https://jedipunkz.github.io/preview/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="stylesheet" href="/css/custom.css">
<style>
 
.post-content code,
.post-content pre code,
.post-content .highlight code,
.post-content .highlighttable code {
    font-size: 1em !important;
}

 
.post-content p code,
.post-content li code,
.post-content td code {
    font-size: 1em !important;
}
</style>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-2H91XCYVZ8"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-2H91XCYVZ8');
        }
      </script><meta property="og:url" content="https://jedipunkz.github.io/preview/">
  <meta property="og:site_name" content="jedipunkz 🚀 のブログ">
  <meta property="og:title" content="jedipunkz 🚀 のブログ">
  <meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
      <meta property="og:image" content="https://jedipunkz.github.io/preview/jedipunkz.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://jedipunkz.github.io/preview/jedipunkz.jpg">
<meta name="twitter:title" content="jedipunkz 🚀 のブログ">
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "jedipunkz 🚀 のブログ",
  "url": "https://jedipunkz.github.io/preview/",
  "description": "Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod",
  "logo": "https://jedipunkz.github.io/favicon.ico",
  "sameAs": [
      "http://x.com/jedipunkz", "https://github.com/jedipunkz"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jedipunkz.github.io/preview/" accesskey="h" title="jedipunkz 🚀 のブログ (Alt + H)">jedipunkz 🚀 のブログ</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jedipunkz.github.io/preview/about" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2>実用的な Swift 構成を Chef でデプロイ
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
以前、“Swift HA 構成を Chef でデプロイ” というタイトルで記事を書きました。
http://jedipunkz.github.io/blog/2013/07/26/swift-ha-chef-deploy/
こちらですが、Swift-Proxy, MySQL, Keystone をそれぞれ haproxy, keepalived で HA 組みました。ですが、これは実用的なのかどうか自分でずっと考えていました。
MySQL と KeepAlived はできればシングル構成にしたいのと、Swift-Proxy は HA で組 みたい。MySQL は Master/Master レプリケーション構成になり、どちらかのノードが 障害を起こし万が一復旧が難しくなった時、構築し直しがしんどくなります。かと言っ て Swift-Proxy をシングル構成にすると今度はノード追加・削除の作業時にサービス 断が発生します。Swift-Proxy を再起動書ける必要があるからです。なので Swift-Proxy は引き続き HA 構成にしたい。
もう一点、見直したいと思っていました。
日経コンピュータから出版されている “仮想化大全 2014” の記事を読んでいて 気がついたのですが。Swift には下記の通りそれぞれのサーバがあります。
swift-proxy-server swift-account-server swift-container-server swift-object-server Swift には下記のような特徴がある事がわかりました。
swift-object swift-object は swift-accout, swift-container とは物理リソースの扱いに全く異な る特性を持っています。swift-account, swift-container はクライアントからのリクエ ストに対して “アカウントの存在を確認”, “ACL 情報の確認” 等を行うサーバであるの に対して swift-object はストレージ上のオブジェクトをクライアントに提供、または 逆に格納するサーバです。よって、Disk I/O の利用特性として swift-account, container は SSD 等、高スループットの Disk を利用するケースが推奨されるのに対 して swift-object はオブジェクトの実体を格納する必要があるため Disk 容量の大き なストレージを要する。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to 実用的な Swift 構成を Chef でデプロイ" href="https://jedipunkz.github.io/preview/post/2013/10/27/swift-chef/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>test-kitchen と OpenStack で Chef Cookbooks テスト (後篇)
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
前回、OpenStack と test-kitchen を使った環境構築方法を書きました。下記の記事で す。
http://jedipunkz.github.io/blog/2013/10/13/test-kitchn-openstack-chef-cookbooks-test/
今回は実際にテストを書く方法を記していたい思います。
今回使用するテストツールは下記の2つです。
rspec と serverspec busser-bats 参考資料 Creationline lab さんの資料を参考にさせて頂きました。
http://www.creationline.com/lab/2933
用意するモノ達 OpenStack にアクセスするためのユーザ・パスワード Keystone の AUTH_URL テストに用いる OS イメージの Image ID テナント ID nova 管理のキーペアの作成 これらは OpenStack を普段から利用されている方なら馴染みのモノかと思います。
.kitchen.yml ファイルの作成 下記の通り .kitchen.yml ファイルを test-kitchen のルートディレクトリで作成しま す。今後の操作は全てこのディレクトリで作業行います。
“&lt;&gt;” で括った箇所が環境に合わせた設定になります。
また、ここでは前回同様に ’ntp’ の Cookbook をテストする前提で記します。
&#43;&#43;&#43; driver_plugin: openstack suites: - name: default run_list: - recipe[ntp::default] attributes: {} platforms: - name: ubuntu-12.04 driver_config: openstack_username: &lt;openstack_username&gt; openstack_api_key: &lt;openstack_password&gt; openstack_auth_url: http://&lt;openstack_ip_addr&gt;:5000/v2.0/tokens image_ref: &lt;image_id&gt; flavor_ref: 1 key_name: &lt;key_name&gt; openstack_tenant: &lt;tenant_name&gt; username: &lt;ssh_username&gt; private_key_path: &lt;path_to_secretkey&gt; - name: centos-64 driver_config: openstack_username: &lt;openstack_username&gt; openstack_api_key: &lt;openstack_password&gt; openstack_auth_url: http://&lt;openstack_ip_addr&gt;:5000/v2.0/tokens image_ref: &lt;image_id&gt; flavor_ref: 1 key_name: &lt;key_name&gt; openstack_tenant: &lt;tenant_name&gt; username: &lt;ssh_username&gt; private_key_path: &lt;path_to_secretkey&gt; busser-bats テスト &#43;&#43;&#43;
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to test-kitchen と OpenStack で Chef Cookbooks テスト (後篇)" href="https://jedipunkz.github.io/preview/post/2013/10/20/test-kitchen-openstack-chef-cookbooks-test-2/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>test-kitchen と OpenStack で Chef Cookbooks テスト(前篇)
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
test-kitchen &#43; Vagrant を利用して複数環境で Chef Cookbooks のテストを行う方法は 結構皆さん利用されていると思うのですが Vagrant だと手元のマシンに仮想マシンが バシバシ立ち上げるので僕はあまり好きではないです。そこで、OpenStack のインスタ ンスをその代替で使えればいいなぁと結構前から思っていたのですが、今回うまくいっ たのでその方法を記します。
用意するモノ OpenStack 環境一式 Chef がインストールされた OS イメージとその ID test-kitchen を実行するワークステーション (お手持ちの Macbook 等) OS イメージの作成ですが Veewee などで自動構築できますし、インスタンス上で Chef のインストールを行った後にスナップショットを作成してそれを利用しても構いません。
test-kitchen のインストール test-kitchen をインストールします。versoin 1.0.0 はまだリリースされていないの で github から master ブランチを取得してビルドします。直近で OpenStack に関連 する不具合の修正等が入っているのでこの方法を取ります。
% git clone https://github.com/opscode/test-kitchen.git % cd test-kitchen % bundle install % rake build # &lt;--- gem をビルド % gen install ./pkg/test-kitchen-1.0.0.dev.gem 現時点 (2013/10/13) で berkshelf の利用しているソフトウェアと衝突を起こす問題 があるので bundle で解決します。下記のように Gemfile に gem ‘kitchen-openstack’ と記述します。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to test-kitchen と OpenStack で Chef Cookbooks テスト(前篇)" href="https://jedipunkz.github.io/preview/post/2013/10/13/test-kitchn-openstack-chef-cookbooks-test/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>GlusterFS の各クラスタタイプ構築
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
GlusterFS をちょっと前に調べてました。何故かと言うと OpenStack Havana がもうす ぐリリースされるのですが、Havana から GlusterFS がサポートされる予定だからです。
この辺りに色々情報が載っています。
http://www.gluster.org/category/openstack/
その前に GlusterFS を構築出来ないといけないので、今回はその方法を書いていきま す。各クラスタタイプ毎に特徴や構築方法が異なるのでその辺りを重点的に。
環境 Ubuntu Server 12.04.3 LTS PPA レポジトリ利用 /dev/sdb を OS 領域とは別の disk としてサーバに追加する 用いる PPA レポジトリ Ubuntu 12.04.3 LTS の GlusterFS バージョンは 3.2 です。3.4 系が今回使いたかっ たので下記の PPA レポジトリを利用させてもらいます。ちゃんと構築するなら自分で パッケージを作成することをオススメします。
https://launchpad.net/~semiosis/&#43;archive/ubuntu-glusterfs-3.4
準備 ここからの手順は全てのサーバで操作します。
レポジトリの利用方法 % sudo aptitude install python-software-properties % sudo add-apt-repository ppa:semiosis/ubuntu-glusterfs-3.4 % sudo apt-get update GlusterFS3.4 のインストール % sudo apt-get install glusterfs-server gluserfs-client xfsprogs のインストール glusterfs は xfs を扱うため xfsprogs をインストールする。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to GlusterFS の各クラスタタイプ構築" href="https://jedipunkz.github.io/preview/post/2013/10/12/glusterfs-install/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Methos アーキテクチャ #2 (Docker on Mesos)
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
Mesos アーキテクチャについて2つめの記事です。
http://jedipunkz.github.io/blog/2013/09/28/mesos-architecture-number-1/
上記の前回の記事で Mesos 自体のアーキテクチャについて触れましたが、今回は Mesos &#43; Marathon &#43; Docker の構成について理解したことを書いていこうと思います。
mesos クラスタは 幾つかの mesos masters と沢山の mesos slaves から成っており、 mesos slaves の上では docker を操作する executor が稼働している。marathon は mesos master の上で稼働する mesos framework である。init や upstart の様な存在 であることが言え、REST API を持ち container の動作を制御する。marathon には ruby の client 等も存在する。下記がそれ。
https://github.com/mesosphere/marathon_client
構成 &#43;-----------------&#43; | docker registry | index.docker.io (もしくは local registry) &#43;-----------------&#43; | &#43;----------------&#43; | | &#43;--------------&#43; &#43;--------------&#43; | mesos master | | mesos master | &#43;--------------&#43; &#43;--------------&#43; | | |----------------&#43;-----------------------------------| &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | mesos slave | | mesos slave | ... | mesos slave | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | | | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | mesos slave | | mesos slave | ... | mesos slave | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; . . . . . . . . . &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | mesos slave | | mesos slave | ... | mesos slave | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; オファから docker が稼働するまでの流れ 上記の構成の図を見ながら理解していきましょう。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Methos アーキテクチャ #2 (Docker on Mesos)" href="https://jedipunkz.github.io/preview/post/2013/10/01/methos-architecture-number-2-docker-on-mesos/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>DevOps Day Tokyo 2013 参加レポート
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
DevOps Day Tokyo 2013 に参加してきました。たくさんの刺激を受けたのでレポート書 いておきます。
開催日 : 2013年09月28日 場所 : 東京六本木ミッドタウン Yahoo! Japan さま URL : http://www.devopsdays.org/events/2013-tokyo/ Making Operation Visible Nick Galbreath (@ngalbreath) さん DevOps の拠点 Etsy に努めた経緯のある DevOps リーダ Galbreath さん。DevOps の 概略から何が必要でありどう行動に起こせばよいか説明してくださいました。
Making operations visible - devopsdays tokyo 2013 from Nick Galbreath こちら、Galbreath さんの当日の資料。
DevOps が実行出来ない理由 Tool が足りない 社風の影響 見えないモノが価値がないと事業から考えられている 出来る事は、価値があるモノの社内への説明と、Tool を使った可視化。データの可視 化が重要。Ops の人は結構「データをどこそこの部署に見せても理解してもらえない」 だとか「データを閲覧させると万が一の時にシステムが破損する」等と考えがち。が、 ビジネス寄りの人にとって重要なグラフが含まれていたり、アカウント担当の人に役立 つものも含まれている。ましてシステムが破損することなど決して無い。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to DevOps Day Tokyo 2013 参加レポート" href="https://jedipunkz.github.io/preview/post/2013/09/29/devops-day-tokyo-2013-report/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Mesos アーキテクチャ #1
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
今回はクラスタマネージャである Mesos について書こうと思います。
Mesos は Apache Software Foundation によって管理されるソフトウェアで分散アプリ ケーションをクラスタ化することが出来るマネージャです。Twitter が採用しているこ とで有名だそうで、開発にも積極的に参加しているそうです。
http://mesos.apache.org/
@riywo さんが既に Mesos &#43; Marathon &#43; Zookeper &#43; Docker な構成を組む手順をブロ グで紹介されていますので是非試してみると面白いと思います。
http://tech.riywo.com/blog/2013/09/27/mesos-introduction-1/
私は理解した Mesos のアーキテクチャについて少し書いていきたいと思います。
全体の構造 &#43;-----------&#43; | zookeeper | | quorum | &#43;-----------&#43; | &#43;----------------&#43;----------------&#43; | | | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | mesos-master | | mesos-master | | mesos-master | | active | | hot standby | | hot standby | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; ... | &#43;----------------&#43;----------------&#43; | | | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | mesos-slave | | mesos-slave | | mesos-slave | | executor | | executor | | executor | | &#43;----&#43;&#43;----&#43; | | &#43;----&#43;&#43;----&#43; | | &#43;----&#43;&#43;----&#43; | | |task||task| | | |task||task| | | |task||task| | | &#43;----&#43;&#43;----&#43; | | &#43;----&#43;&#43;----&#43; | | &#43;----&#43;&#43;----&#43; | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; ... 基本的に few masters &#43; many slaves の構成です。task は slaves の上で走ります。 master はオファーによりアプリケーション(フレームワーク)に対して CPU, メモリの リソースをシェア出来ます。リソースは slave ID, resource1: amount1, resource2, amount2, … といった配列を含みます。master はポリシに従いそれぞれ のフレームワークに対してリソースをどれだけ提供するか決定します。プラグイン形式 で様々なポリシを取り込む仕組みになっています。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Mesos アーキテクチャ #1" href="https://jedipunkz.github.io/preview/post/2013/09/28/mesos-architecture-number-1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Chef で kibana &#43; elasticsearch &#43; fluentd デプロイしてみた
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
前回 kibana &#43; elasticsearch &#43; fluentd を構築する方法を載せたのだけど手動で構築 したので格好悪いなぁと思っていました。いうことで！ Chef でデプロイする方法を調 べてみました。
意外と簡単に出来たし、スッキリした形でデプロイ出来たのでオススメです。
前提の環境は… Ubuntu 12.04 LTS precise Chef サーバ構成 入力するログは nginx (例) オールインワン構成 Cookbook が他の OS に対応しているか確認していないので Ubuntu を前提にしていま す。Chef サーバのデプロイや knife の設定は済んでいるものとして説明していきます。 例で nginx のログを入力します。なので nginx も Chef でデプロイします。ここは他 のものに置き換えてもらっても大丈夫です。手順を省略化するためオールインワン構成 で説明します。nginx, fluentd は複数のノードに配置することも手順を読み替えれば もちろん可能です。
Cookbook の準備 お決まり。Cookbooks の取得に Berkshelf を用いる。
% cd chef-repo % gem install berkshelf % ${EDITOR} Berksfile cookbook &#39;elasticsearch&#39;, git: &#39;https://github.com/elasticsearch/cookbook-elasticsearch.git&#39; cookbook &#39;td-agent&#39;, git: &#39;https://github.com/treasure-data/chef-td-agent.git&#39; cookbook &#39;kibana&#39;, git: &#39;https://github.com/realityforge/chef-kibana.git&#39; cookbook &#39;nginx&#39;, git: &#39;https://github.com/opscode-cookbooks/nginx.git&#39; Cookbooks を取得します。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Chef で kibana &#43; elasticsearch &#43; fluentd デプロイしてみた" href="https://jedipunkz.github.io/preview/post/2013/09/13/chef-kibana-elasticsearch-fluentd/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://jedipunkz.github.io/preview/page/9/">« Prev</a>
    <a class="next" href="https://jedipunkz.github.io/preview/page/11/">Next »</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jedipunkz.github.io/preview/">jedipunkz 🚀 のブログ</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
