<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | jedipunkz 🚀 のブログ</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - jedipunkz 🚀 のブログ">
<meta name="author" content="jedipunkz">
<link rel="canonical" href="https://jedipunkz.rocks/preview/post/">
<link crossorigin="anonymous" href="/preview/assets/css/stylesheet.eca3ac94ad376a8ec0046583cdd8089aed44c59e803a22faa31fb0e2cf0cc260.css" integrity="sha256-7KOslK03ao7ABGWDzdgImu1ExZ6AOiL6ox&#43;w4s8MwmA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jedipunkz.rocks/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jedipunkz.rocks/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jedipunkz.rocks/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jedipunkz.rocks/apple-touch-icon.png">
<link rel="mask-icon" href="https://jedipunkz.rocks/preview/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://jedipunkz.rocks/preview/post/index.xml">
<link rel="alternate" hreflang="en" href="https://jedipunkz.rocks/preview/post/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-2H91XCYVZ8"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-2H91XCYVZ8');
        }
      </script><meta property="og:url" content="https://jedipunkz.rocks/preview/post/">
  <meta property="og:site_name" content="jedipunkz 🚀 のブログ">
  <meta property="og:title" content="Posts">
  <meta property="og:description" content="SRE・インフラ・Kubernetes・DevOpsについて学ぶ技術ブログ">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
      <meta property="og:image" content="https://jedipunkz.rocks/preview/jedipunkz.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://jedipunkz.rocks/preview/jedipunkz.jpg">
<meta name="twitter:title" content="Posts">
<meta name="twitter:description" content="SRE・インフラ・Kubernetes・DevOpsについて学ぶ技術ブログ">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://jedipunkz.rocks/preview/post/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jedipunkz.rocks/preview/" accesskey="h" title="jedipunkz 🚀 のブログ (Alt + H)">jedipunkz 🚀 のブログ</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jedipunkz.rocks/preview/about" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://jedipunkz.rocks/preview/">Home</a></div>
  <h1>Posts</h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Chef で kibana &#43; elasticsearch &#43; fluentd デプロイしてみた
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
前回 kibana &#43; elasticsearch &#43; fluentd を構築する方法を載せたのだけど手動で構築 したので格好悪いなぁと思っていました。いうことで！ Chef でデプロイする方法を調 べてみました。
意外と簡単に出来たし、スッキリした形でデプロイ出来たのでオススメです。
前提の環境は… Ubuntu 12.04 LTS precise Chef サーバ構成 入力するログは nginx (例) オールインワン構成 Cookbook が他の OS に対応しているか確認していないので Ubuntu を前提にしていま す。Chef サーバのデプロイや knife の設定は済んでいるものとして説明していきます。 例で nginx のログを入力します。なので nginx も Chef でデプロイします。ここは他 のものに置き換えてもらっても大丈夫です。手順を省略化するためオールインワン構成 で説明します。nginx, fluentd は複数のノードに配置することも手順を読み替えれば もちろん可能です。
Cookbook の準備 お決まり。Cookbooks の取得に Berkshelf を用いる。
% cd chef-repo % gem install berkshelf % ${EDITOR} Berksfile cookbook &#39;elasticsearch&#39;, git: &#39;https://github.com/elasticsearch/cookbook-elasticsearch.git&#39; cookbook &#39;td-agent&#39;, git: &#39;https://github.com/treasure-data/chef-td-agent.git&#39; cookbook &#39;kibana&#39;, git: &#39;https://github.com/realityforge/chef-kibana.git&#39; cookbook &#39;nginx&#39;, git: &#39;https://github.com/opscode-cookbooks/nginx.git&#39; Cookbooks を取得します。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Chef で kibana &#43; elasticsearch &#43; fluentd デプロイしてみた" href="https://jedipunkz.rocks/preview/post/chef-kibana-elasticsearch-fluentd/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>第14回 OpenStack 勉強会参加ログ
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
OpenStack 第14回勉強会 ハッカソンに参加してきました。その時の自分の作業ログを 記しておきます。自分の作業内容は ‘OpenStack &#43; Docker 構築’ です。
場所 : CreationLine さま 日時 : 2013年9月8日(土) 当日の atnd。
http://atnd.org/events/42891
当日発表のあった内容
Ansible で OpenStack を実際に皆の前でデプロイ！ Yoshiyama さん開発 LogCas お披露目 Havana の機能改善・機能追加内容確認 その他 Horizon の機能についてだったり openstack.jp の運用についてなど 自分が話を聞きながら黙々とやったことは
OpenStack &#43; Docker 構築 結果… NG 動かず。時間切れ。公式の wiki の手順がだいぶ変なので手順を修正しながら進めました。
公式の wiki はこちらにあります。
https://wiki.openstack.org/wiki/Docker
その修正しながらメモった手順を下記に貼り付けておきます。
作業環境 ホスト : Ubuntu 12.04.3 Precise OpenStack バージョン : devstack (2013/09/08 master ブランチ) 構成 : オールインワン (with heat, ceilometer, neutron) 普通に動かすとエラーが出力される これは devstack (2013/09/08 時点) での不具合なので直ちに修正されるかも。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to 第14回 OpenStack 勉強会参加ログ" href="https://jedipunkz.rocks/preview/post/14th-openstack-study-hackathon/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Kibana3 &#43; elasticsearch &#43; fluentd を試した
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
{% img /pix/kibana3.png %}
前回の記事で Kibana &#43; elasticsearch &#43; fluentd を試しましたが、ツイッターで @nora96o さんに “Kibana3 使うと、幸せになれますよ！” と教えてもらいました。早 速試してみましたので、メモしておきます。
前回の記事。
http://jedipunkz.github.io/post/kibana-plus-elasticsearch-plus-fluentd/
前半の手順は前回と同様ですが、念のため書いておきます。
前提の環境 OS : Ubuntu 12.04 Precise (同じ方法で 13.04 Raring でも出来ました) 必要なパッケージのインストール 下記のパッケージを事前にインストールします。
% sudo apt-get install git-core build-essential ruby1.9.3 openjdk-7-jdk 手順を省くために Ruby はパッケージで入れました。また Java は他の物を利用しても 構いません。Ruby は fluentd が、Java は elasticsearch が必要とします。
elasticsearch のインストール 下記のサイトより elasticsearch をダウンロードします。
http://www.elasticsearch.org/download/
現時点 (2013/09/08) で最新のバージョンは 0.90.3 でした。
% wget https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-0.90.3.deb % sudo dpkg -i elasticsearch-0.90.3.deb % sudo service elasticsearch start fluentd のインストール fluentd を下記の通りインストールします。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Kibana3 &#43; elasticsearch &#43; fluentd を試した" href="https://jedipunkz.rocks/preview/post/kibana3-plus-elasticsearch-plus-fluentd/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Kibana &#43; ElasticSearch &#43; fluentd を試してみた
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
自動化の流れを検討する中でログ解析も忘れてはいけないということで ElasticSearch を使いたいなぁとぼんやり考えていて Logstash とか Kibana とかいうキーワードも目 に止まるようになってきました。
ElasticSaerch は API で情報を検索出来たりするので自動化にもってこい。バックエ ンドに Logstash を使って… と思ってたのですが最近よく聞くようになった fluentd をそろそろ真面目に使いたい！ということで、今回は Kibana &#43; ElasticSearch &#43; fluentd の組み合わせでログ解析システムを組む方法をメモしておきます。
参考にさせて頂いた URL http://memocra.blogspot.jp/2013/04/kibanakibanaelasticsearchfluentd.html
前提の環境 OS : Ubuntu 12.04 Precise (同じ方法で 13.04 Raring でも出来ました) 必要なパッケージインストール 下記のパッケージを事前にインストールします。
% sudo apt-get install git-core build-essential ruby1.9.3 openjdk-7-jdk 手順を省くために Ruby はパッケージで入れました。また Java は他の物を利用しても 構いません。Ruby は Kibana, fluentd が、Java は ElasticSearch が必要とします。
ElasticSearch のインストール 下記のサイトより ElasticSearch をダウンロードします。
http://www.elasticsearch.org/download/
現時点 (2013/09/07) で最新のバージョンは 0.90.3 でした。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Kibana &#43; ElasticSearch &#43; fluentd を試してみた" href="https://jedipunkz.rocks/preview/post/kibana-plus-elasticsearch-plus-fluentd/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Hurricane Electric &#43; Vyatta で宅内 IPv6 化
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
自宅の IPv6 化、したいなぁとぼんやり考えていたのですが、Hurricane Electric Internet Services を見つけました。IPv4 の固定グローバル IP を持っていれば誰で も IPv6 のトンネルサービスを無料で受けられるサービスです。
1つのユーザで5アカウントまで取得でき (5 エンドポイント)、1アカウントで /64 の アドレスがもらえます。また申請さえすれば (クリックするだけ) /48 も1アカウント 毎にもらえます。つまり /48 x 5 &#43; /64 x 5 … でか！
私の宅内は Vyatta で PPPOE してるのですが、各種 OS (Debian, NetBSD…) や機器 (Cisco, JunOS..)のコンフィギュレーションを自動生成してくれるので、接続するだけ であればそれをターミナルに貼り付けるだけ！です。
サービス URL Hurricane Electric は下記の URL です。アカウントもここで作成出来ます。
http://tunnelbroker.net
IPv6 接続性を確保する方法 Vyatta が IPv6 のアドレスを持ち接続性を確保するだけであれば、上に記したように コピペで出来ます。上記の URL でアカウントを作成しログインします。左メニューの “Create Regular Tunnel” を押して、自分の情報 (IPv4 のエンドポイントアドレス等) を入力します。その後、取得した IPv6 のレンジのリンクをクリックし上記メニュー “Example Configuration” を選択します。プルダウンメニューが現れるので、自宅の OS や機器に合った名前を選択します。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Hurricane Electric &#43; Vyatta で宅内 IPv6 化" href="https://jedipunkz.rocks/preview/post/hurricane-electric-vyatta-ipv6/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Vyatta で L2TP over IPsec による VPN 構築
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
以前、こんな記事をブログに記しました。2012/06 の記事です。
http://jedipunkz.github.io/post/vyatta-vpn/
その後、PPTP で保護されたネットワークの VPN パスワードを奪取出来るツールが公開 されました。2012/07 のことです。よって今では VPN に PPTP を用いることが推奨さ れていません。
ということで L2TP over IPsec による VPN 構築を Vyatta で行う方法を記します。
fig.1 : home lan と vyatta のアドレス &#43;--------&#43; &#43;-----&#43; home lan ---| vyatta | --- the internet --- | CPE | &#43;--------&#43; &#43;-----&#43; X.X.X.X/X(NAT) pppoe0 Y.Y.Y.Y この様に X.X.X.X/X と Y.Y.Y.Y/Y が関係しているとします。CPE は VPN により X.X.X.X/X に接続することが出来ます。
手順 : IPsec 下記の操作で IPsec を待ち受けるインターフェースの設定します。
% configure # edit vpn ipsec # set ipsec-interface interface pppoe0 インターフェース名は環境に合わせて設定してください。私の環境では pppoe0 です。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Vyatta で L2TP over IPsec による VPN 構築" href="https://jedipunkz.rocks/preview/post/vyatta-l2tp-ipsec-vpn/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>OpenStack nova-network IPv6 対応
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です
今更なのかもしれませんが、OpenStack の nova-network を IPv6 対応する方法を調べ てみました。何故 nova-network なのか? 自宅の構成が nova-network だからです..。 以前は Quantum (現 Neutron) 構成で使っていましたが、ノードをコントローラとコン ピュートに別けた時に NIC が足らなくなり…。
さて本題です。下記のサイトを参考にしました。ほぼそのままの手順ですが、自分のた めにもメモです。
参考 URL http://docs.openstack.org/grizzly/openstack-compute/admin/content/configuring-compute-to-use-ipv6-addresses.html
前提 OpenStack の構成は予め構築されている nova-network を用いている 構成はオールインワンでも複数台構成でも可能 手順 nova がインストールされているすべてのノードで python-netaddr をインストールし ます。私の場合は rcbops の chef cookbooks で構築したのですが、既にインストール されていました。
% sudo apt-get install python-netaddr nova-network が稼働しているノードで radvd をインストールします。これは IPv6 を Advertise しているルータ等が予め備わっている環境であっても、インストー ルする必要があります。また /etc/radvd.conf が初め無いので radvd 単体では稼働し ませんが、問題ありません。OpenStack の場合 /var/lib/nova 配下のコンフィギュレー ションファイルを読み込んでくれます。
% sudo apt-get install radvd /etc/sysctl.conf に下記の記述を追記します。RA の受信とフォワーディングを許可し ています。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to OpenStack nova-network IPv6 対応" href="https://jedipunkz.rocks/preview/post/openstack-nova-network-ipv6/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>rcbops Cookbooks で Neutron 構成 OpenStack
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。@jedipunkz です。
rcbops Cookbooks で Neutron 構成の OpenStack をデプロイする方法を書きたいと思 います。先日紹介した openstack-chef-repo にも Neutron のレシピが含まれているの ですが、まだまだ未完成で手作業をおりまぜながらのデプロイになっていまうので、今 現在のところ Neutron 構成を組みたいのであればこの rcbops の Cookbooks を用いる しかないと思います。
今回は VLAN モードの構築を紹介します。GRE モードも少し手順を修正すれば構成可能 です。最後のまとめに GRE モードの構築について少し触れています。
構成 public network &#43;----------------&#43;----------------&#43;----------------&#43;----------------&#43;---------------- | | | &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; &#43;--------------&#43; | controller01 | | network01 | | network02 | | compute01 | | compute02 | &#43;--------------&#43; &#43;-------&#43;------&#43; &#43;-------&#43;------&#43; &#43;-------&#43;------&#43; &#43;-------&#43;------&#43; | | | | | | | | | management network &#43;----------------&#43;-------o--------&#43;-------o--------&#43;-------o--------&#43;-------o-------- | | | | vm network &#43;----------------&#43;----------------&#43;----------------&#43;-------- 特徴は…
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to rcbops Cookbooks で Neutron 構成 OpenStack" href="https://jedipunkz.rocks/preview/post/rcbops-cookbooks-neutron-openstack/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://jedipunkz.rocks/preview/post/page/11/">« Prev</a>
    <a class="next" href="https://jedipunkz.rocks/preview/post/page/13/">Next »</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://jedipunkz.rocks/preview/">jedipunkz 🚀 のブログ</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
