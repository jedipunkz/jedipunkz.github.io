<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Zig å…¥é–€: æ§‹æ–‡é›† | jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°</title>
<meta name="keywords" content="">
<meta name="description" content="Zig è¨€èªã®ä¸»è¦ãªæ§‹æ–‡ã‚’ç¶²ç¾…çš„ã«ã¾ã¨ã‚ãŸå…¥é–€è¨˜äº‹ã€‚åŸºæœ¬æ§‹æ–‡ã€åˆ¶å¾¡æ§‹æ–‡ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ãªã©ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã¨ã‚‚ã«è§£èª¬">
<meta name="author" content="jedipunkz">
<link rel="canonical" href="https://jedipunkz.rocks/preview/post/zig-tutorial/">
<link crossorigin="anonymous" href="/preview/assets/css/stylesheet.eca3ac94ad376a8ec0046583cdd8089aed44c59e803a22faa31fb0e2cf0cc260.css" integrity="sha256-7KOslK03ao7ABGWDzdgImu1ExZ6AOiL6ox&#43;w4s8MwmA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jedipunkz.rocks/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jedipunkz.rocks/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jedipunkz.rocks/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jedipunkz.rocks/apple-touch-icon.png">
<link rel="mask-icon" href="https://jedipunkz.rocks/preview/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://jedipunkz.rocks/preview/post/zig-tutorial/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-2H91XCYVZ8"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-2H91XCYVZ8');
        }
      </script><meta property="og:url" content="https://jedipunkz.rocks/preview/post/zig-tutorial/">
  <meta property="og:site_name" content="jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°">
  <meta property="og:title" content="Zig å…¥é–€: æ§‹æ–‡é›†">
  <meta property="og:description" content="Zig è¨€èªã®ä¸»è¦ãªæ§‹æ–‡ã‚’ç¶²ç¾…çš„ã«ã¾ã¨ã‚ãŸå…¥é–€è¨˜äº‹ã€‚åŸºæœ¬æ§‹æ–‡ã€åˆ¶å¾¡æ§‹æ–‡ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ãªã©ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã¨ã‚‚ã«è§£èª¬">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2025-10-24T21:29:24+09:00">
    <meta property="article:modified_time" content="2025-10-24T21:29:24+09:00">
      <meta property="og:image" content="https://jedipunkz.rocks/preview/jedipunkz.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://jedipunkz.rocks/preview/jedipunkz.jpg">
<meta name="twitter:title" content="Zig å…¥é–€: æ§‹æ–‡é›†">
<meta name="twitter:description" content="Zig è¨€èªã®ä¸»è¦ãªæ§‹æ–‡ã‚’ç¶²ç¾…çš„ã«ã¾ã¨ã‚ãŸå…¥é–€è¨˜äº‹ã€‚åŸºæœ¬æ§‹æ–‡ã€åˆ¶å¾¡æ§‹æ–‡ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ãªã©ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã¨ã‚‚ã«è§£èª¬">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://jedipunkz.rocks/preview/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Zig å…¥é–€: æ§‹æ–‡é›†",
      "item": "https://jedipunkz.rocks/preview/post/zig-tutorial/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Zig å…¥é–€: æ§‹æ–‡é›†",
  "name": "Zig å…¥é–€: æ§‹æ–‡é›†",
  "description": "Zig è¨€èªã®ä¸»è¦ãªæ§‹æ–‡ã‚’ç¶²ç¾…çš„ã«ã¾ã¨ã‚ãŸå…¥é–€è¨˜äº‹ã€‚åŸºæœ¬æ§‹æ–‡ã€åˆ¶å¾¡æ§‹æ–‡ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ãªã©ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã¨ã‚‚ã«è§£èª¬",
  "keywords": [
    
  ],
  "articleBody": "ã“ã‚“ã«ã¡ã¯ @jedipunkz ã§ã™ã€‚\nã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å­¦ç¿’ã™ã‚‹æ©Ÿä¼šã‚’å¢—ã‚„ã—ã¦ã„ã‚‹æœ€ä¸­ãªã®ã§ã™ãŒã€è‡ªåˆ†ã¯åº•ãƒ¬ã‚¤ãƒ¤ãŒå¥½ããªã®ã‚’æ€ã„å‡ºã—ã€ã¾ãŸãŸã¾ã« Mitchell Hashimoto æ°ãŒ Zig ã®ã“ã¨ã‚’å‘Ÿã„ã¦ã‚‹ã®ã‚’è¦šãˆã¦ã„ãŸã®ã§ã€çªç„¶ Zig ã«å…¥é–€ã—ãŸããªã‚Šã¾ã—ãŸã€‚\nã¨ã„ã†ã“ã¨ã§å¾Œã«è‡ªåˆ†ã§ã‚‚èª­ã¿è¿”ã›ã‚‹å½¢ã«ã—ã‚ˆã†ã¨æ€ã„ Zig ã®æ§‹æ–‡é›†ã‚’è¨˜ã—ã¾ã™ã€‚\nNOTICE â€» ç¾æ™‚ç‚¹ã§ Stable ãª 0.15.1 ã‚’å‰æã«è¨˜ã—ã¾ã™ã€‚ â€» æ°—ãŒå‘ã„ãŸã¨ãã«è¨€èªä»•æ§˜ã®å¤‰åŒ–ã«å¯¾å¿œã—ã¦ä¿®æ­£ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚\nã¯ã˜ã‚ã« ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Zig è¨€èªã®ä¸»è¦ãªæ§‹æ–‡ã‚’ç¶²ç¾…çš„ã«ã¾ã¨ã‚ãŸãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚ã™ã¹ã¦ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯è¨˜äº‹ã®ä¿®æ­£æ™‚ç‚¹ã§ Stable ãªãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® Zig ã§å‹•ä½œç¢ºèªã—ã¦ã„ã¾ã™ã€‚\nç›®æ¬¡ åŸºæœ¬æ§‹æ–‡ æ¼”ç®—å­ åˆ¶å¾¡æ§‹æ–‡ é–¢æ•° é…åˆ—ã¨ã‚¹ãƒ©ã‚¤ã‚¹ æ§‹é€ ä½“ åˆ—æŒ™å‹ã¨ãƒ¦ãƒ‹ã‚ªãƒ³ ãƒã‚¤ãƒ³ã‚¿ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è¨ˆç®— ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ ãƒ†ã‚¹ãƒˆ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« 1. åŸºæœ¬æ§‹æ–‡ å¤‰æ•°å®£è¨€ Zig ã«ã¯ 2 ç¨®é¡ã®å¤‰æ•°å®£è¨€ãŒã‚ã‚Šã¾ã™ã€‚const ã¯ä¸å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥ä¸å¯ï¼‰ã€var ã¯å¯å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥å¯èƒ½ï¼‰ã‚’è¡¨ã—ã¾ã™ã€‚\nconst cat: i32 = 5; // const: ä¸å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥ä¸å¯ï¼‰ var dog: i32 = 10; // var: å¯å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥å¯èƒ½ï¼‰ dog = 15; // OK // cat = 10; // ã‚¨ãƒ©ãƒ¼: const ã¯å¤‰æ›´ä¸å¯ å‹æ¨è«– å‹ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ãªãã¦ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè‡ªå‹•çš„ã«å‹ã‚’æ¨è«–ã—ã¦ãã‚Œã¾ã™ã€‚\nconst rabbit = 20; // i32 ã¨æ¨è«–ã•ã‚Œã‚‹ const fox = 3.14; // f64 ã¨æ¨è«–ã•ã‚Œã‚‹ æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ i32 å‹ã€æµ®å‹•å°æ•°ç‚¹ãƒªãƒ†ãƒ©ãƒ«ã¯ f64 å‹ã¨ã—ã¦æ¨è«–ã•ã‚Œã¾ã™ã€‚\nåŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹ Zig ã«ã¯ã•ã¾ã–ã¾ãªåŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹ãŒã‚ã‚Šã¾ã™ã€‚\nconst bear: u8 = 255; // ç¬¦å·ãªã— 8bit æ•´æ•° (0ã€œ255) const wolf: i64 = -1000; // ç¬¦å·ä»˜ã 64bit æ•´æ•° const eagle: f32 = 2.718; // 32bit æµ®å‹•å°æ•°ç‚¹æ•° const shark: bool = true; // çœŸå½å€¤ const tiger: u8 = 'A'; // æ–‡å­—ï¼ˆu8 ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ï¼‰ æ•´æ•°å‹:\nç¬¦å·ä»˜ã: i8, i16, i32, i64, i128, isize ç¬¦å·ãªã—: u8, u16, u32, u64, u128, usize æµ®å‹•å°æ•°ç‚¹å‹:\nf16, f32, f64, f128 æ•´æ•°å‹ã®æ•°å­—ã¯ãƒ“ãƒƒãƒˆå¹…ã‚’è¡¨ã—ã¾ã™ã€‚ä¾‹ãˆã° i32 ã¯ 32 ãƒ“ãƒƒãƒˆã®ç¬¦å·ä»˜ãæ•´æ•°ã§ã™ã€‚isize ã¨ usize ã¯ãƒã‚¤ãƒ³ã‚¿ã®ã‚µã‚¤ã‚ºã¨åŒã˜ã§ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦å¤‰ã‚ã‚Šã¾ã™ã€‚\nundefinedï¼ˆæœªåˆæœŸåŒ–å€¤ï¼‰ undefined ã¯å¤‰æ•°ãŒæœªåˆæœŸåŒ–ã§ã‚ã‚‹ã“ã¨ã‚’æ˜ç¤ºçš„ã«ç¤ºã—ã¾ã™ã€‚å€¤ã¯ä¸å®šãªã®ã§ã€ä½¿ç”¨å‰ã«å¿…ãšåˆæœŸåŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nvar snake: i32 = undefined; // æœªåˆæœŸåŒ–ï¼ˆå€¤ã¯ä¸å®šï¼‰ snake = 99; // ä½¿ç”¨å‰ã«å¿…ãšåˆæœŸåŒ– // é…åˆ—ã® undefined var array: [5]i32 = undefined; for (\u0026array, 0..) |*item, i| { item.* = @intCast(i); } ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€Zig ã¯ undefined ã®é ˜åŸŸã‚’ 0xaa ãƒã‚¤ãƒˆã§åŸ‹ã‚ã¾ã™ã€‚ã“ã‚Œã¯ãƒã‚°ã®æ—©æœŸç™ºè¦‹ã«å½¹ç«‹ã¡ã¾ã™ã€‚undefined ã‚’ä½¿ã†ã“ã¨ã§ã€åˆæœŸåŒ–ãŒä¸è¦ãªå ´åˆã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã§ãã¾ã™ã€‚\nå‹å¤‰æ› Zig ã§ã¯æ˜ç¤ºçš„ãªå‹å¤‰æ›ãŒå¿…è¦ã§ã™ã€‚æ§˜ã€…ãªãƒ“ãƒ«ãƒˆã‚¤ãƒ³é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\n// @as: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å‹å¤‰æ› const num_u8 = @as(u8, 50); // @intCast: æ•´æ•°å‹é–“ã®å¤‰æ› const large_num: i64 = 42; const small_num: i32 = @intCast(large_num); // @floatCast: æµ®å‹•å°æ•°ç‚¹å‹é–“ã®å¤‰æ› const double: f64 = 3.14159265; const single: f32 = @floatCast(double); // @floatFromInt: æ•´æ•°ã‹ã‚‰æµ®å‹•å°æ•°ç‚¹ const int_val: i32 = 42; const float_val: f32 = @floatFromInt(int_val); // @intFromFloat: æµ®å‹•å°æ•°ç‚¹ã‹ã‚‰æ•´æ•°ï¼ˆåˆ‡ã‚Šæ¨ã¦ï¼‰ const pi: f32 = 3.14; const pi_int: i32 = @intFromFloat(pi); // 3 å‹å¤‰æ›ã¯æ˜ç¤ºçš„ã«è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ„å›³ã—ãªã„å‹å¤‰æ›ã«ã‚ˆã‚‹ãƒã‚°ã‚’é˜²ã’ã¾ã™ã€‚@as ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å‹ã‚’æŒ‡å®šã—ã€ä»–ã®é–¢æ•°ã¯å®Ÿè¡Œæ™‚ã®å‹å¤‰æ›ã‚’è¡Œã„ã¾ã™ã€‚\n2. æ¼”ç®—å­ ç®—è¡“æ¼”ç®—å­ æ•°å€¤ã®è¨ˆç®—ã‚’è¡Œã†æ¼”ç®—å­ã§ã™ã€‚åŠ ç®—ã€æ¸›ç®—ã€ä¹—ç®—ã¯ä¸€èˆ¬çš„ã§ã™ãŒã€é™¤ç®—ã¨å‰°ä½™ã¯ Zig ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³é–¢æ•°ã‚’ä½¿ã„ã¾ã™ã€‚\nconst lion: i32 = 10; const leopard: i32 = 3; lion + leopard // 13 åŠ ç®— lion - leopard // 7 æ¸›ç®— lion * leopard // 30 ä¹—ç®— @divTrunc(lion, leopard) // 3 æ•´æ•°é™¤ç®—ï¼ˆåˆ‡ã‚Šæ¨ã¦ï¼‰ @rem(lion, leopard) // 1 å‰°ä½™ æ³¨æ„: Zig ã§ã¯æ•´æ•°ã®é™¤ç®—ã‚„å‰°ä½™ã«ãƒ“ãƒ«ãƒˆã‚¤ãƒ³é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚„æœªå®šç¾©å‹•ä½œã‚’é˜²ããŸã‚ã§ã™ã€‚@divTrunc ã¯åˆ‡ã‚Šæ¨ã¦é™¤ç®—ã€@rem ã¯å‰°ä½™ã‚’è¨ˆç®—ã—ã¾ã™ã€‚\næ¯”è¼ƒæ¼”ç®—å­ 2 ã¤ã®å€¤ã‚’æ¯”è¼ƒã™ã‚‹æ¼”ç®—å­ã§ã™ã€‚çµæœã¯ bool å‹ï¼ˆçœŸã¾ãŸã¯å½ï¼‰ã«ãªã‚Šã¾ã™ã€‚\npanda == koala // ç­‰ã—ã„ panda != lion // ç­‰ã—ããªã„ panda \u003c lion // ã‚ˆã‚Šå°ã•ã„ panda \u003e leopard // ã‚ˆã‚Šå¤§ãã„ panda \u003c= koala // ä»¥ä¸‹ panda \u003e= leopard // ä»¥ä¸Š ã“ã‚Œã‚‰ã®æ¼”ç®—å­ã¯æ¡ä»¶åˆ†å²ï¼ˆif æ–‡ãªã©ï¼‰ã§ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚\nè«–ç†æ¼”ç®—å­ çœŸå½å€¤ï¼ˆbool å‹ï¼‰ã‚’æ“ä½œã™ã‚‹æ¼”ç®—å­ã§ã™ã€‚\nconst monkey: bool = true; const gorilla: bool = false; monkey and gorilla // false (è«–ç†ç©) monkey or gorilla // true (è«–ç†å’Œ) !monkey // false (å¦å®š) and ã¯ä¸¡æ–¹ãŒçœŸã®ã¨ãã ã‘çœŸã€or ã¯ã©ã¡ã‚‰ã‹ãŒçœŸãªã‚‰çœŸã€! ã¯çœŸå½ã‚’åè»¢ã•ã›ã¾ã™ã€‚\nãƒ“ãƒƒãƒˆæ¼”ç®—å­ æ•´æ•°ã®ãƒ“ãƒƒãƒˆå˜ä½ã§æ“ä½œã‚’è¡Œã†æ¼”ç®—å­ã§ã™ã€‚2 é€²æ•°ã§è€ƒãˆã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚\nconst zebra: u8 = 0b1010; // 10 (2é€²æ•°) const giraffe: u8 = 0b1100; // 12 (2é€²æ•°) zebra \u0026 giraffe // 0b1000 (AND) zebra | giraffe // 0b1110 (OR) zebra ^ giraffe // 0b0110 (XOR) ~zebra // 0b11110101 (NOT) zebra \u003c\u003c 1 // 0b00010100 (å·¦ã‚·ãƒ•ãƒˆ) zebra \u003e\u003e 1 // 0b0101 (å³ã‚·ãƒ•ãƒˆ) \u0026 ã¯ãƒ“ãƒƒãƒˆ ANDã€| ã¯ãƒ“ãƒƒãƒˆ ORã€^ ã¯ãƒ“ãƒƒãƒˆ XORã€~ ã¯ãƒ“ãƒƒãƒˆ NOTã€\u003c\u003c ã¯å·¦ã‚·ãƒ•ãƒˆã€\u003e\u003e ã¯å³ã‚·ãƒ•ãƒˆã‚’è¡Œã„ã¾ã™ã€‚\n3. åˆ¶å¾¡æ§‹æ–‡ if æ–‡ æ¡ä»¶ã«ã‚ˆã£ã¦å‡¦ç†ã‚’åˆ†å²ã•ã›ã‚‹æ§‹æ–‡ã§ã™ã€‚æ¡ä»¶ã¯ () ã§å›²ã¿ã€å®Ÿè¡Œã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ {} ã§å›²ã¿ã¾ã™ã€‚\nconst elephant: i32 = 15; if (elephant \u003e 10) { std.debug.print(\"elephant is large\\n\", .{}); } else if (elephant \u003e 5) { std.debug.print(\"elephant is medium\\n\", .{}); } else { std.debug.print(\"elephant is small\\n\", .{}); } else if ã§è¤‡æ•°ã®æ¡ä»¶ã‚’æ›¸ã‘ã¾ã™ã€‚ä¸Šã‹ã‚‰é †ã«è©•ä¾¡ã•ã‚Œã¦ã€æœ€åˆã«çœŸã«ãªã£ãŸæ¡ä»¶ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nif å¼ï¼ˆå€¤ã‚’è¿”ã™ï¼‰ Zig ã® if ã¯å¼ã¨ã—ã¦å€¤ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚\nconst rhino: i32 = 8; const hippo = if (rhino \u003e 10) \"large\" else \"small\"; æ¡ä»¶ã«ã‚ˆã£ã¦ç•°ãªã‚‹å€¤ã‚’å¤‰æ•°ã«ä»£å…¥ã—ãŸã„ã¨ãã«ã€ã‚³ãƒ¼ãƒ‰ãŒç°¡æ½”ã«æ›¸ã‘ã¾ã™ã€‚\nwhile æ–‡ æ¡ä»¶ãŒçœŸã®é–“ã€ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\nvar mouse: i32 = 0; while (mouse \u003c 5) { std.debug.print(\"{} \", .{mouse}); mouse += 1; } // å‡ºåŠ›: 0 1 2 3 4 ãƒ«ãƒ¼ãƒ—ã®ä¸­ã§å¤‰æ•°ã‚’å¤‰æ›´ã—ã¦ã€æœ€çµ‚çš„ã«æ¡ä»¶ãŒå½ã«ãªã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ç„¡é™ãƒ«ãƒ¼ãƒ—ã«æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚\nwhile æ–‡ï¼ˆcontinue å¼ä»˜ãï¼‰ ãƒ«ãƒ¼ãƒ—ã®æœ€å¾Œã«æ¯å›å®Ÿè¡Œã•ã‚Œã‚‹å¼ã‚’æŒ‡å®šã§ãã¾ã™ã€‚: () ã®éƒ¨åˆ†ã«æ›¸ãã¾ã™ã€‚\nvar hamster: i32 = 0; while (hamster \u003c 5) : (hamster += 1) { std.debug.print(\"{} \", .{hamster}); } // å‡ºåŠ›: 0 1 2 3 4 for æ–‡ï¼ˆé…åˆ—ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ é…åˆ—ã‚„ã‚¹ãƒ©ã‚¤ã‚¹ã®è¦ç´ ã‚’é †ç•ªã«å‡¦ç†ã—ã¾ã™ã€‚\nconst animals = [_][]const u8{ \"snake\", \"lizard\", \"turtle\" }; // è¦ç´ ã®ã¿ for (animals) |animal| { std.debug.print(\"{s} \", .{animal}); } // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ã for (animals, 0..) |animal, i| { std.debug.print(\"[{}]{s} \", .{i, animal}); } |animal| ã§å„è¦ç´ ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚‚å¿…è¦ãªã‚‰ã€0.. ã¨çµ„ã¿åˆã‚ã›ã¦ |animal, i| ã®ã‚ˆã†ã«æ›¸ã‘ã¾ã™ã€‚\nswitch æ–‡ å€¤ã«å¿œã˜ã¦å‡¦ç†ã‚’åˆ†å²ã•ã›ã¾ã™ã€‚Zig ã® switch ã¯å¼ã¨ã—ã¦å€¤ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã™ã¹ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nconst penguin: i32 = 2; const result = switch (penguin) { 1 =\u003e \"one\", 2 =\u003e \"two\", 3 =\u003e \"three\", else =\u003e \"many\", }; =\u003e ã®å·¦å´ãŒæ¡ä»¶ã€å³å´ãŒå¯¾å¿œã™ã‚‹å€¤ã‚„å‡¦ç†ã§ã™ã€‚else ã§ã™ã¹ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…ã§ãã¾ã™ã€‚\nbreak ã¨ continue ãƒ«ãƒ¼ãƒ—ã®æµã‚Œã‚’åˆ¶å¾¡ã™ã‚‹æ§‹æ–‡ã§ã™ã€‚\n// break: ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ var crow: i32 = 0; while (true) { if (crow \u003e= 3) break; std.debug.print(\"{} \", .{crow}); crow += 1; } // continue: æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¸ var sparrow: i32 = 0; while (sparrow \u003c 5) : (sparrow += 1) { if (sparrow == 2) continue; // 2 ã‚’ã‚¹ã‚­ãƒƒãƒ— std.debug.print(\"{} \", .{sparrow}); } // å‡ºåŠ›: 0 1 3 4 break ã§ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘å‡ºã—ã€continue ã§æ¬¡ã®ãƒ«ãƒ¼ãƒ—ã«é€²ã¿ã¾ã™ã€‚ç‰¹å®šã®æ¡ä»¶ã§ãƒ«ãƒ¼ãƒ—ã‚’åˆ¶å¾¡ã—ãŸã„ã¨ãã«ä½¿ã„ã¾ã™ã€‚\nãƒ©ãƒ™ãƒ«ä»˜ããƒ–ãƒ­ãƒƒã‚¯ ãƒ–ãƒ­ãƒƒã‚¯ã«ãƒ©ãƒ™ãƒ«ã‚’ä»˜ã‘ã¦ã€break ã§å€¤ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚\nconst swan = blk: { const x = 10; const y = 20; break :blk x + y; // ãƒ–ãƒ­ãƒƒã‚¯ã‹ã‚‰å€¤ã‚’è¿”ã™ }; // swan ã¯ 30 ãƒ–ãƒ­ãƒƒã‚¯ã‚’å¼ã¨ã—ã¦ä½¿ã„ã€è¨ˆç®—çµæœã‚’è¿”ã›ã¾ã™ã€‚è¤‡é›‘ãªåˆæœŸåŒ–å‡¦ç†ã‚’æ›¸ãã¨ãã«ä¾¿åˆ©ã§ã™ã€‚\nãƒ©ãƒ™ãƒ«ä»˜ããƒ«ãƒ¼ãƒ— ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒ—ã§å¤–å´ã®ãƒ«ãƒ¼ãƒ—ã‚’åˆ¶å¾¡ã§ãã¾ã™ã€‚\nvar peacock: i32 = 0; outer: while (peacock \u003c 3) : (peacock += 1) { var inner: i32 = 0; while (inner \u003c 3) : (inner += 1) { if (peacock == 1 and inner == 1) { break :outer; // å¤–å´ã®ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ } } } break :outer ã§å¤–å´ã®ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ©ãƒ™ãƒ«ã‚’ä½¿ã†ã“ã¨ã§ã€ã©ã®ãƒ«ãƒ¼ãƒ—ã‚’åˆ¶å¾¡ã™ã‚‹ã‹ã‚’æ˜ç¢ºã«æŒ‡å®šã§ãã¾ã™ã€‚\nunreachable åˆ°é”ä¸å¯èƒ½ãªã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¹ã‚’æ˜ç¤ºçš„ã«ç¤ºã—ã¾ã™ã€‚\nconst owl: i32 = 5; const owl_status = if (owl \u003e 0) \"positive\" else if (owl \u003c 0) \"negative\" else unreachable; // owl ã¯ 5 ãªã®ã§åˆ°é”ã—ãªã„ // switch ã§ã®ä½¿ç”¨ const falcon: u8 = 2; const falcon_name = switch (falcon) { 1 =\u003e \"peregrine\", 2 =\u003e \"gyrfalcon\", 3 =\u003e \"merlin\", else =\u003e unreachable, // 1-3 ä»¥å¤–ã¯æ¥ãªã„ã¨ä»®å®š }; ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ã¯ unreachable ã«åˆ°é”ã™ã‚‹ã¨ panic ã‚’ç™ºç”Ÿã•ã›ã¾ã™ã€‚ReleaseFast ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã“ã®ã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¹ã«åˆ°é”ã—ãªã„ã¨ä»®å®šã—ã¦æœ€é©åŒ–ã‚’è¡Œã„ã¾ã™ã€‚è«–ç†çš„ã«åˆ°é”ä¸å¯èƒ½ãªç®‡æ‰€ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ã§ã€ãƒã‚°ã‚’æ—©æœŸç™ºè¦‹ã§ãã¾ã™ã€‚\n4. é–¢æ•° åŸºæœ¬çš„ãªé–¢æ•° fn ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚å¼•æ•°ã¨æˆ»ã‚Šå€¤ã®å‹ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¾ã™ã€‚\nfn addDolphins(dolphin1: i32, dolphin2: i32) i32 { return dolphin1 + dolphin2; } const result = addDolphins(5, 3); // 8 é–¢æ•°åã®å¾Œã® () ã«å¼•æ•°ã€ãã®å¾Œã«æˆ»ã‚Šå€¤ã®å‹ã‚’æ›¸ãã¾ã™ã€‚return ã§å€¤ã‚’è¿”ã—ã¾ã™ã€‚\nè¤‡æ•°ã®æˆ»ã‚Šå€¤ï¼ˆæ§‹é€ ä½“ã‚’ä½¿ç”¨ï¼‰ è¤‡æ•°ã®å€¤ã‚’è¿”ã—ãŸã„ã¨ãã¯ã€æ§‹é€ ä½“ã‚’ä½¿ã„ã¾ã™ã€‚\nfn getWhaleInfo() struct { age: i32, weight: f32 } { return .{ .age = 50, .weight = 30000.5 }; } const whale_info = getWhaleInfo(); std.debug.print(\"age: {}, weight: {d:.1}\\n\", .{whale_info.age, whale_info.weight}); ç„¡åæ§‹é€ ä½“ã‚’æˆ»ã‚Šå€¤ã®å‹ã¨ã—ã¦ä½¿ãˆã¾ã™ã€‚.{} ã§æ§‹é€ ä½“ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½œæˆã—ã¦è¿”ã—ã¾ã™ã€‚\nvoid é–¢æ•° ä½•ã‚‚è¿”ã•ãªã„é–¢æ•°ã¯ void å‹ã‚’ä½¿ã„ã¾ã™ã€‚\nfn printSeal() void { std.debug.print(\"Seal!\\n\", .{}); } return æ–‡ã‚’æ›¸ã‹ãªãã¦ã‚‚ã€é–¢æ•°ã®æœ€å¾Œã¾ã§å®Ÿè¡Œã•ã‚ŒãŸã‚‰è‡ªå‹•çš„ã«æˆ»ã‚Šã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•° ! ã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚\nfn divideOtters(otter1: i32, otter2: i32) !i32 { if (otter2 == 0) { return error.DivisionByZero; } return @divTrunc(otter1, otter2); } // ä½¿ç”¨ä¾‹ const result = divideOtters(10, 2) catch |err| { std.debug.print(\"Error: {}\\n\", .{err}); return; }; !i32 ã¯ã€Œã‚¨ãƒ©ãƒ¼ã¾ãŸã¯ i32 ã‚’è¿”ã™ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å‡¦ç†ã«ä¾¿åˆ©ã§ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•° ? ã‚’ä½¿ã£ã¦ null ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚\nfn findBadger(badger_id: i32) ?i32 { if (badger_id \u003c 0) { return null; } return badger_id * 2; } // ä½¿ç”¨ä¾‹ if (findBadger(5)) |badger| { std.debug.print(\"found: {}\\n\", .{badger}); } else { std.debug.print(\"not found\\n\", .{}); } ?i32 ã¯ã€Œnull ã¾ãŸã¯ i32 ã‚’è¿”ã™ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚å€¤ãŒå­˜åœ¨ã—ãªã„ã‹ã‚‚ã—ã‚Œãªã„çŠ¶æ³ã§ä½¿ã„ã¾ã™ã€‚\nã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½¿ã£ãŸé–¢æ•° é…åˆ—ã‚„ã‚¹ãƒ©ã‚¤ã‚¹ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã§ã™ã€‚\nfn sumRaccoons(raccoons: []const i32) i32 { var total: i32 = 0; for (raccoons) |raccoon| { total += raccoon; } return total; } const array = [_]i32{ 1, 2, 3, 4, 5 }; const sum = sumRaccoons(\u0026array); // 15 []const i32 ã¯ã€Œi32 ã®èª­ã¿å–ã‚Šå°‚ç”¨ã‚¹ãƒ©ã‚¤ã‚¹ã€ã‚’è¡¨ã—ã¾ã™ã€‚é…åˆ—ã®ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™ã¨ã‚¹ãƒ©ã‚¤ã‚¹ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚\nã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•° comptime ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã§ãã¾ã™ã€‚\nfn maxMammal(comptime T: type, mammal1: T, mammal2: T) T { return if (mammal1 \u003e mammal2) mammal1 else mammal2; } const max_int = maxMammal(i32, 10, 20); // 20 const max_float = maxMammal(f32, 3.14, 2.71); // 3.14 comptime ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å€¤ãŒæ±ºå®šã•ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚Šã€æ§˜ã€…ãªå‹ã§å‹•ä½œã™ã‚‹é–¢æ•°ã‚’ä½œã‚Œã¾ã™ã€‚\ninline é–¢æ•° inline ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§é–¢æ•°ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å±•é–‹ã—ã¾ã™ã€‚é€šå¸¸é–¢æ•°å‘¼å‡ºã—ã«ã¯ã€Œå¼•æ•°ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ç©ã‚€ã€ã€Œé–¢æ•°ã«ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹ã€ã€Œæˆ»ã‚‹ã€ã¨ã„ã†ã‚³ã‚¹ãƒˆãŒæ›ã‹ã‚‹ãã†ã§ã™ãŒã€inline é–¢æ•°ã‚’ä½¿ã†ã¨ã‚³ã‚¹ãƒˆãŒã‚¼ãƒ­ã«ãªã‚‹ãã†ã§ã™ã€‚\nãŸã ã—å‘¼ã³å‡ºã—ç®‡æ‰€ãŒå¤šã„å ´åˆã¯åŒã˜ã‚³ãƒ¼ãƒ‰ãŒä½•åº¦ã‚‚å±•é–‹ã•ã‚Œãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºãŒå¤§ãããªã‚Šã€ã¾ãŸå¤§ããªé–¢æ•°ã«ã¯å‘ã‹ãªã„ãã†ã§ã™ã€‚\ninline fn squareChipmunk(chipmunk: i32) i32 { return chipmunk * chipmunk; } é–¢æ•°å‘¼ã³å‡ºã—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’ãªãã—ã€å‘¼ã³å‡ºã—ç®‡æ‰€ã«ç›´æ¥ã‚³ãƒ¼ãƒ‰ã‚’åŸ‹ã‚è¾¼ã¿ã¾ã™ã€‚å°ã•ãªé–¢æ•°ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã«å½¹ç«‹ã¡ã¾ã™ã€‚\n5. é…åˆ—ã¨ã‚¹ãƒ©ã‚¤ã‚¹ é…åˆ—ã®å®£è¨€ é…åˆ—ã¯å›ºå®šé•·ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚[N]T ã®å½¢ã§å‹ã‚’è¡¨ã—ã¾ã™ï¼ˆN ã¯è¦ç´ æ•°ã€T ã¯å‹ï¼‰ã€‚\n// å›ºå®šé•·é…åˆ— const parrots = [5]i32{ 1, 2, 3, 4, 5 }; // é•·ã•ã‚’æ¨è«– const owls = [_]i32{ 10, 20, 30 }; // [3]i32 // åŒã˜å€¤ã§åˆæœŸåŒ– const hawks = [_]i32{0} ** 4; // [4]i32{ 0, 0, 0, 0 } [_] ã‚’ä½¿ã†ã¨ã€åˆæœŸåŒ–å­ã‹ã‚‰è¦ç´ æ•°ã‚’è‡ªå‹•çš„ã«æ¨è«–ã—ã¦ãã‚Œã¾ã™ã€‚** æ¼”ç®—å­ã§åŒã˜å€¤ã‚’ç¹°ã‚Šè¿”ã›ã¾ã™ã€‚\né…åˆ—ã®æ“ä½œ é…åˆ—ã®è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€é•·ã•ã‚’å–å¾—ã—ãŸã‚Šã§ãã¾ã™ã€‚\n// é•·ã•ã®å–å¾— const length = owls.len; // 3 // è¦ç´ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ const first = parrots[0]; // 1 // ãƒ«ãƒ¼ãƒ— for (parrots) |parrot| { std.debug.print(\"{} \", .{parrot}); } .len ã§é…åˆ—ã®é•·ã•ãŒå–å¾—ã§ãã¾ã™ã€‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ 0 ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚\nå¤šæ¬¡å…ƒé…åˆ— é…åˆ—ã®é…åˆ—ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nconst falcons = [2][3]i32{ [_]i32{ 1, 2, 3 }, [_]i32{ 4, 5, 6 }, }; const element = falcons[0][1]; // 2 [2][3]i32 ã¯ã€Œ3 è¦ç´ ã®é…åˆ—ã‚’ 2 ã¤æŒã¤é…åˆ—ã€ã‚’è¡¨ã—ã¾ã™ã€‚\nã‚¹ãƒ©ã‚¤ã‚¹ ã‚¹ãƒ©ã‚¤ã‚¹ã¯é…åˆ—ã®ä¸€éƒ¨ã‚’å‚ç…§ã™ã‚‹å‹•çš„ãªãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚[]T ã®å½¢ã§å‹ã‚’è¡¨ã—ã¾ã™ã€‚\nconst doves = [_]i32{ 1, 2, 3, 4, 5 }; const dove_slice: []const i32 = doves[1..4]; // [2, 3, 4] // ã‚¹ãƒ©ã‚¤ã‚¹ã®é•·ã• const slice_len = dove_slice.len; // 3 [start..end] ã§ç¯„å›²ã‚’æŒ‡å®šã—ã¾ã™ï¼ˆend ã¯å«ã¾ã‚Œã¾ã›ã‚“ï¼‰ã€‚ã‚¹ãƒ©ã‚¤ã‚¹ã¯å…ƒã®é…åˆ—ã‚’å‚ç…§ã™ã‚‹ã ã‘ã§ã€ã‚³ãƒ”ãƒ¼ã¯ä½œã‚Šã¾ã›ã‚“ã€‚\nå¯å¤‰é…åˆ— var ã§å®£è¨€ã—ãŸé…åˆ—ã¯è¦ç´ ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚\nvar pigeons = [_]i32{ 1, 2, 3, 4, 5 }; pigeons[2] = 30; // è¦ç´ ã‚’å¤‰æ›´ // pigeons ã¯ [1, 2, 30, 4, 5] é…åˆ—è‡ªä½“ã®ã‚µã‚¤ã‚ºã¯å›ºå®šã§ã™ãŒã€å€‹ã€…ã®è¦ç´ ã¯æ›¸ãæ›ãˆå¯èƒ½ã§ã™ã€‚\næ–‡å­—åˆ—ï¼ˆu8 ã®é…åˆ—ï¼‰ Zig ã§ã¯æ–‡å­—åˆ—ã¯ u8 ã®é…åˆ—ã¾ãŸã¯ã‚¹ãƒ©ã‚¤ã‚¹ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚\nconst canary: []const u8 = \"Hello, Canary!\"; const length = canary.len; // 14 // ã‚»ãƒ³ãƒãƒãƒ«çµ‚ç«¯æ–‡å­—åˆ—ï¼ˆnull çµ‚ç«¯ï¼‰ const finch: [:0]const u8 = \"Finch\"; æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¯ UTF-8 ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸ u8 ã®ã‚¹ãƒ©ã‚¤ã‚¹ã§ã™ã€‚[:0] ã¯ null çµ‚ç«¯ï¼ˆC è¨€èªã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ã®æ–‡å­—åˆ—ã‚’è¡¨ã—ã¾ã™ã€‚\n6. æ§‹é€ ä½“ åŸºæœ¬çš„ãªæ§‹é€ ä½“ æ§‹é€ ä½“ã¯é–¢é€£ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ã¾ã¨ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚struct ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§å®šç¾©ã—ã¾ã™ã€‚\nconst Cheetah = struct { speed: f32, age: i32, name: []const u8, // ãƒ¡ã‚½ãƒƒãƒ‰ pub fn introduce(self: Cheetah) void { std.debug.print(\"I'm {s}, speed: {d:.1} km/h\\n\", .{self.name, self.speed}); } // åˆæœŸåŒ–é–¢æ•° pub fn init(name: []const u8, speed: f32, age: i32) Cheetah { return Cheetah{ .name = name, .speed = speed, .age = age, }; } }; // ä½¿ç”¨ä¾‹ const cheetah = Cheetah{ .name = \"Lightning\", .speed = 120.0, .age = 3, }; cheetah.introduce(); // init é–¢æ•°ã‚’ä½¿ç”¨ const cheetah2 = Cheetah.init(\"Thunder\", 115.0, 4); ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¦ã¾ã™ã€‚ãƒ¡ã‚½ãƒƒãƒ‰ã®ç¬¬ä¸€å¼•æ•°ã« self ã‚’æ›¸ãã“ã¨ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒã¤æ§‹é€ ä½“ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã§ãã¾ã™ã€‚\nconst Gazelle = struct { speed: f32 = 80.0, age: i32 = 5, is_wild: bool = true, }; const gazelle = Gazelle{}; // ã™ã¹ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ const gazelle2 = Gazelle{ .speed = 90.0 }; // ä¸€éƒ¨ã‚’ä¸Šæ›¸ã åˆæœŸåŒ–æ™‚ã«å€¤ã‚’çœç•¥ã™ã‚‹ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒä½¿ã‚ã‚Œã¾ã™ã€‚ä¸€éƒ¨ã ã‘æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nã‚¸ã‚§ãƒãƒªãƒƒã‚¯æ§‹é€ ä½“ å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚‹æ§‹é€ ä½“ã§ã™ã€‚\nfn Herd(comptime T: type) type { return struct { animals: []T, count: usize, pub fn init(animals: []T) @This() { return .{ .animals = animals, .count = animals.len, }; } }; } // ä½¿ç”¨ä¾‹ const speeds = [_]f32{ 80.0, 85.0, 90.0 }; const herd = Herd(f32).init(@constCast(\u0026speeds)); é–¢æ•°ãŒå‹ã‚’è¿”ã™ã“ã¨ã§ã€ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ãªæ§‹é€ ä½“ã‚’ä½œã‚Œã¾ã™ã€‚@This() ã¯ç¾åœ¨ã®å‹ã‚’è¡¨ã—ã¾ã™ã€‚\nãƒã‚¹ãƒˆã•ã‚ŒãŸæ§‹é€ ä½“ æ§‹é€ ä½“ã®ä¸­ã«æ§‹é€ ä½“ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nconst Enclosure = struct { capacity: i32, animal_count: i32, }; const Zoo = struct { name: []const u8, enclosure: Enclosure, }; const zoo = Zoo{ .name = \"Safari Zoo\", .enclosure = Enclosure{ .capacity = 50, .animal_count = 30, }, }; è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¡¨ç¾ã™ã‚‹ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚\n7. åˆ—æŒ™å‹ã¨ãƒ¦ãƒ‹ã‚ªãƒ³ åˆ—æŒ™å‹ï¼ˆenumï¼‰ åˆ—æŒ™å‹ã¯åå‰ä»˜ãã®å®šæ•°ã®é›†åˆã‚’å®šç¾©ã—ã¾ã™ã€‚\nconst Habitat = enum { forest, ocean, desert, mountain, // ãƒ¡ã‚½ãƒƒãƒ‰ pub fn describe(self: Habitat) []const u8 { return switch (self) { .forest =\u003e \"trees and vegetation\", .ocean =\u003e \"salt water\", .desert =\u003e \"sand and heat\", .mountain =\u003e \"high altitude\", }; } }; // ä½¿ç”¨ä¾‹ const habitat = Habitat.forest; const name = @tagName(habitat); // \"forest\" const desc = habitat.describe(); åˆ—æŒ™å‹ã‚‚ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¦ã¾ã™ã€‚@tagName ã§åˆ—æŒ™å€¤ã®åå‰ã‚’æ–‡å­—åˆ—ã¨ã—ã¦å–å¾—ã§ãã¾ã™ã€‚\næ•´æ•°å€¤ã‚’æŒã¤åˆ—æŒ™å‹ å„åˆ—æŒ™å€¤ã«æ•´æ•°ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nconst DangerLevel = enum(u8) { safe = 0, caution = 1, danger = 2, extreme = 3, }; const level = DangerLevel.danger; const value = @intFromEnum(level); // 2 enum(u8) ã§åŸºåº•å‹ã‚’æŒ‡å®šã—ã€@intFromEnum ã§æ•´æ•°å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚\nã‚¿ã‚°ä»˜ããƒ¦ãƒ‹ã‚ªãƒ³ ãƒ¦ãƒ‹ã‚ªãƒ³ã¯è¤‡æ•°ã®å‹ã®ã†ã¡ 1 ã¤ã‚’ä¿æŒã§ãã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚\nconst Animal = union(enum) { leopard: struct { spots: i32 }, jaguar: struct { territory: f32 }, cougar: struct { age: i32 }, pub fn print_info(self: Animal) void { switch (self) { .leopard =\u003e |l| std.debug.print(\"Leopard with {} spots\\n\", .{l.spots}), .jaguar =\u003e |j| std.debug.print(\"Jaguar with {d:.1} kmÂ² territory\\n\", .{j.territory}), .cougar =\u003e |c| std.debug.print(\"Cougar aged {} years\\n\", .{c.age}), } } }; // ä½¿ç”¨ä¾‹ const animal1 = Animal{ .leopard = .{ .spots = 50 } }; const animal2 = Animal{ .jaguar = .{ .territory = 120.5 } }; animal1.print_info(); // å‡ºåŠ›: Leopard with 50 spots animal2.print_info(); // å‡ºåŠ›: Jaguar with 120.5 kmÂ² territory // ã‚¿ã‚°ã®ãƒã‚§ãƒƒã‚¯ switch (animal1) { .leopard =\u003e std.debug.print(\"This is a leopard\\n\", .{}), // å‡ºåŠ›: This is a leopard .jaguar =\u003e std.debug.print(\"This is a jaguar\\n\", .{}), .cougar =\u003e std.debug.print(\"This is a cougar\\n\", .{}), } union(enum) ã§ã‚¿ã‚°ä»˜ããƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚switch ã§ç¾åœ¨ã®ã‚¿ã‚°ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€å¯¾å¿œã™ã‚‹å€¤ã‚’å–ã‚Šå‡ºã›ã¾ã™ã€‚\n8. ãƒã‚¤ãƒ³ã‚¿ åŸºæœ¬çš„ãªãƒã‚¤ãƒ³ã‚¿ ãƒã‚¤ãƒ³ã‚¿ã¯ãƒ¡ãƒ¢ãƒªä¸Šã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä¿æŒã—ã¾ã™ã€‚\u0026 ã§ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã—ã€.* ã§å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚\nvar deer: i32 = 10; const deer_ptr: *i32 = \u0026deer; // ãƒã‚¤ãƒ³ã‚¿ã‚’å–å¾— // ãƒã‚¤ãƒ³ã‚¿çµŒç”±ã§å€¤ã‚’èª­ã‚€ const value = deer_ptr.*; // 10 // ãƒã‚¤ãƒ³ã‚¿çµŒç”±ã§å€¤ã‚’å¤‰æ›´ deer_ptr.* = 20; // deer ã¯ 20 ã«ãªã‚‹ *i32 ã¯ã€Œi32 ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã€ã‚’è¡¨ã—ã¾ã™ã€‚ãƒã‚¤ãƒ³ã‚¿ã‚’ä½¿ã†ã¨ã€é–¢æ•°é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰ã—ãŸã‚Šå¤‰æ›´ã—ãŸã‚Šã§ãã¾ã™ã€‚\nconst ãƒã‚¤ãƒ³ã‚¿ èª­ã¿å–ã‚Šå°‚ç”¨ã®ãƒã‚¤ãƒ³ã‚¿ã§ã™ã€‚\nconst moose: i32 = 100; const moose_ptr: *const i32 = \u0026moose; // èª­ã¿å–ã‚Šå°‚ç”¨ const value = moose_ptr.*; // OK // moose_ptr.* = 200; // ã‚¨ãƒ©ãƒ¼: å¤‰æ›´ä¸å¯ *const i32 ã¯ã€Œi32 ã¸ã®èª­ã¿å–ã‚Šå°‚ç”¨ãƒã‚¤ãƒ³ã‚¿ã€ã‚’è¡¨ã—ã¾ã™ã€‚\né–¢æ•°ã«ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™ é–¢æ•°ã®å¼•æ•°ã¨ã—ã¦ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™ã¨ã€å‘¼ã³å‡ºã—å…ƒã®å¤‰æ•°ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚\nfn incrementFox(fox: *i32) void { fox.* += 1; } var fox: i32 = 5; incrementFox(\u0026fox); // fox ã¯ 6 ã«ãªã‚‹ å€¤æ¸¡ã—ã ã¨ã‚³ãƒ”ãƒ¼ãŒä½œã‚‰ã‚Œã¾ã™ãŒã€ãƒã‚¤ãƒ³ã‚¿æ¸¡ã—ã ã¨å…ƒã®å¤‰æ•°ã‚’ç›´æ¥æ“ä½œã§ãã¾ã™ã€‚\né…åˆ—ã¸ã®ãƒã‚¤ãƒ³ã‚¿ é…åˆ—å…¨ä½“ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã§ã™ã€‚\nconst rabbits = [5]i32{ 1, 2, 3, 4, 5 }; const rabbits_ptr: *const [5]i32 = \u0026rabbits; // ãƒã‚¤ãƒ³ã‚¿çµŒç”±ã§é…åˆ—è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ const element = rabbits_ptr[2]; // 3 é…åˆ—ã®ã‚µã‚¤ã‚ºã‚‚ãƒã‚¤ãƒ³ã‚¿ã®å‹ã®ä¸€éƒ¨ã«ãªã‚Šã¾ã™ã€‚\nã‚¹ãƒ©ã‚¤ã‚¹ãƒã‚¤ãƒ³ã‚¿ é…åˆ—ã®ãƒã‚¤ãƒ³ã‚¿ã¯ã‚¹ãƒ©ã‚¤ã‚¹ã«å¤‰æ›ã§ãã¾ã™ã€‚\nvar squirrels = [_]i32{ 10, 20, 30, 40, 50 }; const squirrel_slice: []i32 = \u0026squirrels; // ã‚¹ãƒ©ã‚¤ã‚¹ã®ä¸€éƒ¨ã‚’å–å¾— const sub_slice = squirrel_slice[1..3]; // [20, 30] ã‚¹ãƒ©ã‚¤ã‚¹ã¯ãƒã‚¤ãƒ³ã‚¿ã¨é•·ã•ã®æƒ…å ±ã‚’æŒã¤ã®ã§ã€æŸ”è»Ÿã«é…åˆ—ã‚’æ‰±ãˆã¾ã™ã€‚\nãƒãƒ«ãƒãƒã‚¤ãƒ³ã‚¿ è¤‡æ•°ã®è¦ç´ ã‚’æŒ‡ã™ãƒã‚¤ãƒ³ã‚¿ã§ã™ã€‚é•·ã•ã®æƒ…å ±ã¯æŒã¡ã¾ã›ã‚“ã€‚\nvar beavers = [_]i32{ 1, 2, 3, 4, 5 }; const beaver_multi_ptr: [*]i32 = \u0026beavers; const first = beaver_multi_ptr[0]; // 1 const second = beaver_multi_ptr[1]; // 2 [*]i32 ã¯ã€Œè¤‡æ•°ã® i32 ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã€ã‚’è¡¨ã—ã¾ã™ã€‚C è¨€èªã¨ã®äº’æ›æ€§ã®ãŸã‚ã«ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚\nnullable ãƒã‚¤ãƒ³ã‚¿ ? ã‚’ä½¿ã£ã¦ null ã«ãªã‚Šå¾—ã‚‹ãƒã‚¤ãƒ³ã‚¿ã‚’è¡¨ç¾ã—ã¾ã™ã€‚\nvar raccoon: i32 = 42; var raccoon_ptr: ?*i32 = \u0026raccoon; if (raccoon_ptr) |ptr| { std.debug.print(\"value: {}\\n\", .{ptr.*}); } raccoon_ptr = null; // null ã«è¨­å®š ãƒã‚¤ãƒ³ã‚¿ãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚ã‹ã‚‰ãªã„å ´åˆã«ä½¿ã„ã¾ã™ã€‚\n9. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° defer defer ã¯ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã«å¼ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã®è§£æ”¾ãªã©ã«ä¾¿åˆ©ã§ã™ã€‚\nfn deferExample() void { std.debug.print(\"Start\\n\", .{}); defer std.debug.print(\"End (deferred)\\n\", .{}); std.debug.print(\"Middle\\n\", .{}); // ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã« defer ãŒå®Ÿè¡Œã•ã‚Œã‚‹ // å‡ºåŠ›é †: Start -\u003e Middle -\u003e End (deferred) } defer ã¯ã‚¹ã‚³ãƒ¼ãƒ—ã®çµ‚ã‚ã‚Šã§å¿…ãšå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚é–¢æ•°ã‹ã‚‰ return ã—ã¦ã‚‚ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nè¤‡æ•°ã® defer è¤‡æ•°ã® defer ã¯ LIFOï¼ˆå¾Œå…¥ã‚Œå…ˆå‡ºã—ï¼‰ã®é †ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nfn multipleDeferExample() void { defer std.debug.print(\"1st defer\\n\", .{}); defer std.debug.print(\"2nd defer\\n\", .{}); defer std.debug.print(\"3rd defer\\n\", .{}); std.debug.print(\"Function body\\n\", .{}); // å‡ºåŠ›é †: Function body -\u003e 3rd -\u003e 2nd -\u003e 1st } å¾Œã«æ›¸ã‹ã‚ŒãŸ defer ãŒå…ˆã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ãƒªã‚½ãƒ¼ã‚¹ã®ç¢ºä¿ã¨è§£æ”¾ã®é †åºã‚’é€†ã«ã™ã‚‹ã®ã«ä¾¿åˆ©ã§ã™ã€‚\ndefer ã¨ã‚¨ãƒ©ãƒ¼ã®çµ„ã¿åˆã‚ã› defer ã¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nfn deferWithError(should_fail: bool) !void { defer std.debug.print(\"Cleanup always happens\\n\", .{}); if (should_fail) { return error.Failed; } std.debug.print(\"Success\\n\", .{}); } ã‚¨ãƒ©ãƒ¼ã®æœ‰ç„¡ã«é–¢ã‚ã‚‰ãšã€ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã« defer ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç¢ºå®Ÿã«ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã§ãã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã®å®šç¾© Zig ã§ã¯ã€ã‚¨ãƒ©ãƒ¼ã‚’ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã¨ã—ã¦æ˜ç¤ºçš„ã«å®šç¾©ã—ã¾ã™ã€‚\nconst AnimalError = error{ TooYoung, TooOld, NotFound, InvalidSize, }; ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã¯ã€ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’åˆ—æŒ™ã—ãŸã‚‚ã®ã§ã™ã€‚å‹å®‰å…¨ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒã§ãã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•° é–¢æ•°ãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã€! ã‚’ä½¿ã„ã¾ã™ã€‚\nfn checkHorseAge(age: i32) AnimalError!void { if (age \u003c 0) { return error.TooYoung; } if (age \u003e 30) { return error.TooOld; } // æ­£å¸¸çµ‚äº† } AnimalError!void ã¯ã€ŒAnimalError ã®ã‚¨ãƒ©ãƒ¼ã¾ãŸã¯ void ã‚’è¿”ã™ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚\nã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: catch catch ã§ã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰ã—ã¦å‡¦ç†ã—ã¾ã™ã€‚\ncheckHorseAge(35) catch |err| { std.debug.print(\"Error: {}\\n\", .{err}); }; ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰ catch ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚|err| ã§ã‚¨ãƒ©ãƒ¼ã®å€¤ã‚’å–å¾—ã§ãã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nconst camel = findCamelById(-1) catch 0; // ã‚¨ãƒ©ãƒ¼æ™‚ã¯ 0 ã‚·ãƒ³ãƒ—ãƒ«ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã—ãŸã„ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚\nã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: if if ã§ã‚¨ãƒ©ãƒ¼ã‹æ­£å¸¸å€¤ã‹ã‚’åˆ¤å®šã§ãã¾ã™ã€‚\nif (findCamelById(5)) |camel_id| { std.debug.print(\"found: {}\\n\", .{camel_id}); } else |err| { std.debug.print(\"error: {}\\n\", .{err}); } æ­£å¸¸å€¤ã¯ |camel_id|ã€ã‚¨ãƒ©ãƒ¼ã¯ else |err| ã§å–å¾—ã—ã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: try try ã¯ã‚¨ãƒ©ãƒ¼ã‚’å‘¼ã³å‡ºã—å…ƒã«ä¼æ’­ã•ã›ã¾ã™ã€‚\nfn processGoat(age: i32) !void { try checkHorseAge(age); // ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°å³åº§ã« return std.debug.print(\"Age is valid\\n\", .{age}); } try ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å±•é–‹ã•ã‚Œã¾ã™ï¼š\n// try checkHorseAge(age); ã¯ä»¥ä¸‹ã¨åŒã˜æ„å‘³ checkHorseAge(age) catch |err| return err; ã¤ã¾ã‚Šã€try ã¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰è‡ªå‹•çš„ã« return ã—ã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç°¡æ½”ã«æ›¸ã‘ã¾ã™ã€‚\n// ä½¿ç”¨ä¾‹ processGoat(10); // æˆåŠŸ: \"Age is valid\" ã¨å‡ºåŠ› processGoat(35); // error.TooOld ã‚’è¿”ã™ï¼ˆå‘¼ã³å‡ºã—å…ƒã«ã‚¨ãƒ©ãƒ¼ãŒä¼æ’­ï¼‰ catch ã§ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹å ´åˆã¨ã®é•ã„ï¼š\ntry: ã‚¨ãƒ©ãƒ¼ã‚’ä¸Šã«æŠ•ã’ã‚‹ï¼ˆä¼æ’­ï¼‰ catch: ã‚¨ãƒ©ãƒ¼ã‚’ãã®å ´ã§å‡¦ç†ã™ã‚‹ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: errdefer ã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã«ä½¿ç”¨ã—ã¾ã™ã€‚\nvar yak: i32 = 0; blk: { errdefer yak = -1; // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«å®Ÿè¡Œ const value = findCamelById(-1) catch break :blk; yak = value; } errdefer ã¯ãƒ–ãƒ­ãƒƒã‚¯ãŒã‚¨ãƒ©ãƒ¼ã§çµ‚äº†ã™ã‚‹ã¨ãã ã‘å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã®è§£æ”¾ãªã©ã«ä¾¿åˆ©ã§ã™ã€‚\nè¤‡æ•°ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆ || ã§è¤‡æ•°ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã‚’çµåˆã§ãã¾ã™ã€‚\nconst FileError = error{ FileNotFound, PermissionDenied, }; fn loadData(filename: []const u8) (AnimalError || FileError)![]const u8 { if (filename.len == 0) { return error.NotFound; // AnimalError ã®ã‚¨ãƒ©ãƒ¼ } if (filename[0] == '/') { return error.PermissionDenied; // FileError ã®ã‚¨ãƒ©ãƒ¼ } return \"data\"; } // ä½¿ç”¨ä¾‹ const data1 = loadData(\"\") catch |err| { // err ã¯ AnimalError.NotFound std.debug.print(\"Error: {}\\n\", .{err}); // å‡ºåŠ›: Error: error.NotFound }; const data2 = loadData(\"/secret\") catch |err| { // err ã¯ FileError.PermissionDenied std.debug.print(\"Error: {}\\n\", .{err}); // å‡ºåŠ›: Error: error.PermissionDenied }; const data3 = loadData(\"file.txt\") catch \"default\"; // æˆåŠŸ: data3 = \"data\" è¤‡æ•°ã®ç¨®é¡ã®ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹é–¢æ•°ã§ä½¿ã„ã¾ã™ã€‚(AnimalError || FileError) ã¯ä¸¡æ–¹ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã®ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã›ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ã®åˆ‡ã‚Šæ›¿ãˆ switch ã§ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ã”ã¨ã«å‡¦ç†ã‚’åˆ†ã‘ã‚‰ã‚Œã¾ã™ã€‚\ncheckHorseAge(35) catch |err| switch (err) { error.TooYoung =\u003e std.debug.print(\"Too young\\n\", .{}), error.TooOld =\u003e std.debug.print(\"Too old\\n\", .{}), error.NotFound =\u003e std.debug.print(\"Not found\\n\", .{}), error.InvalidSize =\u003e std.debug.print(\"Invalid size\\n\", .{}), }; ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ã«å¿œã˜ã¦ç•°ãªã‚‹å‡¦ç†ã‚’ã—ãŸã„ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚\n10. ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®å®£è¨€ ? ã‚’ä½¿ã£ã¦ null ã«ãªã‚Šå¾—ã‚‹å€¤ã‚’è¡¨ç¾ã—ã¾ã™ã€‚\nconst seal: ?i32 = 42; const empty_seal: ?i32 = null; ?i32 ã¯ã€Œnull ã¾ãŸã¯ i32ã€ã‚’è¡¨ã—ã¾ã™ã€‚å€¤ãŒå­˜åœ¨ã—ãªã„ã‹ã‚‚ã—ã‚Œãªã„çŠ¶æ³ã‚’å‹ã§è¡¨ç¾ã§ãã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—: if if ã§ null ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€å€¤ã‚’å–ã‚Šå‡ºã›ã¾ã™ã€‚\nif (seal) |value| { std.debug.print(\"has value: {}\\n\", .{value}); } else { std.debug.print(\"is null\\n\", .{}); } å€¤ãŒå­˜åœ¨ã™ã‚Œã° |value| ã§å–ã‚Šå‡ºã—ã€null ãªã‚‰ else ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—: orelse null ã®ã¨ãã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä½¿ãˆã¾ã™ã€‚\nconst whale = empty_seal orelse 999; // null ãªã‚‰ 999 ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•° å€¤ãŒè¦‹ã¤ã‹ã‚‰ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹é–¢æ•°ã§ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚\nfn findPenguinById(id: i32) ?i32 { if (id \u003c 0 or id \u003e 100) { return null; } return id * 2; } // ä½¿ç”¨ä¾‹ const penguin1 = findPenguinById(10); // ?i32 = 20 const penguin2 = findPenguinById(-5); // ?i32 = null ã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ã‘ã©å€¤ãŒãªã„çŠ¶æ³ã‚’è¡¨ã™ã®ã«é©ã—ã¦ã„ã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ãƒã‚¤ãƒ³ã‚¿ ãƒã‚¤ãƒ³ã‚¿ã‚‚ null ã«ãªã‚Šå¾—ã¾ã™ã€‚\nvar otter: i32 = 100; var otter_ptr: ?*i32 = \u0026otter; if (otter_ptr) |ptr| { ptr.* = 200; // å€¤ã‚’å¤‰æ›´ } otter_ptr = null; // null ã«è¨­å®š ãƒã‚¤ãƒ³ã‚¿ãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã¾ã™ã€‚\nã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã¨ while ãƒ«ãƒ¼ãƒ— null ã«ãªã‚‹ã¾ã§ãƒ«ãƒ¼ãƒ—ã‚’ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\nvar narwhal: ?i32 = 5; while (narwhal) |value| { std.debug.print(\"{}\\n\", .{value}); if (value \u003c= 1) { narwhal = null; } else { narwhal = value - 1; } } // å‡ºåŠ›: 5 4 3 2 1 æ¡ä»¶ã‚’æŸ”è»Ÿã«æ›¸ã‘ã¦ä¾¿åˆ©ã§ã™ã€‚\n.? operatorï¼ˆå¼·åˆ¶ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ï¼‰ null ã§ãªã„ã“ã¨ãŒç¢ºå®Ÿãªå ´åˆã«ä½¿ç”¨ã—ã¾ã™ã€‚\nconst certain_seal: ?i32 = 777; const unwrapped = certain_seal.?; // 777 // null ã®å ´åˆã¯ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹ .? ã§å¼·åˆ¶çš„ã«å€¤ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚null ã ã£ãŸã‚‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒåœæ­¢ã™ã‚‹ã®ã§ã€ç¢ºå®Ÿã«å€¤ãŒã‚ã‚‹ã¨ãã ã‘ä½¿ã„ã¾ã—ã‚‡ã†ã€‚\n11. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è¨ˆç®— Zig ã®å¼·åŠ›ãªæ©Ÿèƒ½ã® 1 ã¤ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è¨ˆç®—ã‚’å®Ÿè¡Œã§ãã‚‹ã“ã¨ã§ã™ã€‚å®Ÿè¡Œæ™‚ã®ã‚³ã‚¹ãƒˆã‚’ã‚¼ãƒ­ã«ã§ãã¾ã™ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•° ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å€¤ãŒç¢ºå®šã™ã‚‹å®šæ•°ã§ã™ã€‚\nconst lynx = 42; // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å€¤ãŒæ±ºå®š const bobcat = comptime 10; // æ˜ç¤ºçš„ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•° const ã§å®£è¨€ã—ãŸå€¤ã¯åŸºæœ¬çš„ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°ã§ã™ãŒã€comptime ã§æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–¢æ•° é–¢æ•°ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å®Ÿè¡Œã§ãã¾ã™ã€‚\nfn factorialTiger(comptime n: i32) i32 { if (n \u003c= 1) return 1; return n * factorialTiger(n - 1); } const tiger_fact = comptime factorialTiger(5); // 120ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è¨ˆç®—ï¼‰ comptime å¼•æ•°ã‚’å—ã‘å–ã‚‹é–¢æ•°ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è©•ä¾¡ã•ã‚Œã¾ã™ã€‚å®Ÿè¡Œæ™‚ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•° å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã§ã™ã€‚\nfn maxLion(comptime T: type, a: T, b: T) T { return if (a \u003e b) a else b; } const max_int = maxLion(i32, 10, 20); const max_float = maxLion(f32, 3.14, 2.71); comptime T: type ã§å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚Šã¾ã™ã€‚æ§˜ã€…ãªå‹ã§å‹•ä½œã™ã‚‹æ±ç”¨çš„ãªé–¢æ•°ã‚’æ›¸ã‘ã¾ã™ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«é…åˆ—ã‚’ç”Ÿæˆ é…åˆ—ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ç”Ÿæˆã§ãã¾ã™ã€‚\nfn createPandasArray(comptime size: usize) [size]i32 { var pandas: [size]i32 = undefined; for (\u0026pandas, 0..) |*panda, i| { panda.* = @intCast(i * 10); } return pandas; } const pandas = createPandasArray(5); // [0, 10, 20, 30, 40] é…åˆ—ã®ã‚µã‚¤ã‚ºã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ±ºå®šã•ã‚Œã¾ã™ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ¡ä»¶åˆ†å² æ¡ä»¶ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚\nfn processJaguar(comptime is_large: bool, value: i32) i32 { if (is_large) { return value * 2; } else { return value + 10; } } const jaguar1 = processJaguar(true, 5); // 10 const jaguar2 = processJaguar(false, 5); // 15 comptime ã®æ¡ä»¶åˆ†å²ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è©•ä¾¡ã•ã‚Œã¦ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã¯å‰Šé™¤ã•ã‚Œã¾ã™ã€‚\nå‹ã‚’è¿”ã™é–¢æ•° é–¢æ•°ãŒå‹ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã§ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ãªæ§‹é€ ä½“ã‚’ä½œã‚Œã¾ã™ã€‚\nfn PairOfAnimals(comptime T: type) type { return struct { first: T, second: T, pub fn swap(self: *@This()) void { const temp = self.first; self.first = self.second; self.second = temp; } }; } // ä½¿ç”¨ä¾‹ var bear_pair = PairOfAnimals(i32){ .first = 10, .second = 20, }; bear_pair.swap(); // first=20, second=10 @This() ã¯ç¾åœ¨ã®å‹ã‚’è¿”ã—ã¾ã™ã€‚å‹ã‚’å‹•çš„ã«ç”Ÿæˆã§ãã‚‹ã®ãŒ Zig ã®ç‰¹å¾´ã§ã™ã€‚\nãƒ“ãƒ«ãƒˆã‚¤ãƒ³å‹æƒ…å ± å‹ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å–å¾—ã§ãã¾ã™ã€‚\n// å‹ã®ã‚µã‚¤ã‚º const size_i32 = @sizeOf(i32); // 4 // å‹ã®åå‰ const name = @typeName(i32); // \"i32\" // å‹æƒ…å ± const info = @typeInfo(i32); switch (info) { .int =\u003e |int_info| { // int_info.signedness, int_info.bits }, else =\u003e {}, } ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ä½¿ãˆã¾ã™ã€‚\ninline for ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ«ãƒ¼ãƒ—ã‚’å±•é–‹ã—ã¾ã™ã€‚\nconst numbers = [_]i32{ 1, 2, 3, 4, 5 }; var sum: i32 = 0; inline for (numbers) |num| { sum += num; } ãƒ«ãƒ¼ãƒ—ãŒå±•é–‹ã•ã‚Œã¦ã€å®Ÿè¡Œæ™‚ã«ã¯ãƒ«ãƒ¼ãƒ—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒãªããªã‚Šã¾ã™ã€‚\n12. ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ Zig ã§ã¯æ˜ç¤ºçš„ã«ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã‚’ç®¡ç†ã—ã¾ã™ã€‚ãƒ¡ãƒ¢ãƒªã®ç¢ºä¿ã¨è§£æ”¾ã‚’æ„è­˜çš„ã«è¡Œã„ã¾ã™ã€‚\nGeneralPurposeAllocator æ¨å¥¨ã•ã‚Œã‚‹æ±ç”¨ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã§ã™ã€‚\nvar gpa = std.heap.GeneralPurposeAllocator(.{}){}; defer _ = gpa.deinit(); const allocator = gpa.allocator(); defer ã§ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã«è‡ªå‹•çš„ã«ãƒ¡ãƒ¢ãƒªã‚’è§£æ”¾ã—ã¾ã™ã€‚ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’é˜²ã’ã¾ã™ã€‚\nå˜ä¸€ã®å€¤ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ å˜ä¸€ã®å€¤ã‚’ãƒ’ãƒ¼ãƒ—ã«ç¢ºä¿ã—ã¾ã™ã€‚\nconst elephant = try allocator.create(i32); defer allocator.destroy(elephant); elephant.* = 42; create ã§ç¢ºä¿ã€destroy ã§è§£æ”¾ã—ã¾ã™ã€‚\né…åˆ—ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ å‹•çš„ã‚µã‚¤ã‚ºã®é…åˆ—ã‚’ç¢ºä¿ã—ã¾ã™ã€‚\nconst tigers = try allocator.alloc(i32, 5); defer allocator.free(tigers); for (tigers, 0..) |*tiger, i| { tiger.* = @intCast(i * 10); } alloc ã§é…åˆ—ã‚’ç¢ºä¿ã€free ã§è§£æ”¾ã—ã¾ã™ã€‚å®Ÿè¡Œæ™‚ã«ã‚µã‚¤ã‚ºãŒæ±ºã¾ã‚‹é…åˆ—ã«ä¾¿åˆ©ã§ã™ã€‚\nArrayList å‹•çš„é…åˆ—ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚è¦ç´ æ•°ãŒå¢—ãˆãŸã‚Šæ¸›ã£ãŸã‚Šã™ã‚‹é…åˆ—ã§ã™ã€‚\nvar leopards = try std.ArrayList(i32).initCapacity(allocator, 0); defer leopards.deinit(allocator); try leopards.append(allocator, 10); try leopards.append(allocator, 20); try leopards.append(allocator, 30); // ã‚¢ã‚¯ã‚»ã‚¹ for (leopards.items) |leopard| { std.debug.print(\"{} \", .{leopard}); } append ã§è¦ç´ ã‚’è¿½åŠ ã§ãã¾ã™ã€‚è‡ªå‹•çš„ã«ã‚µã‚¤ã‚ºãŒæ‹¡å¼µã•ã‚Œã¾ã™ã€‚\nArenaAllocator ã¾ã¨ã‚ã¦è§£æ”¾ã™ã‚‹ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã§ã™ã€‚\nvar arena = std.heap.ArenaAllocator.init(allocator); defer arena.deinit(); // ã™ã¹ã¦ã®ãƒ¡ãƒ¢ãƒªã‚’ä¸€åº¦ã«è§£æ”¾ const arena_allocator = arena.allocator(); const bears = try arena_allocator.alloc(i32, 10); const wolves = try arena_allocator.alloc(i32, 20); // å€‹åˆ¥ã® free ã¯ä¸è¦ arena.deinit() ã§ä¸€æ‹¬è§£æ”¾ã§ãã¾ã™ã€‚å€‹åˆ¥ã« free ã—ãªãã¦ã„ã„ã®ã§æ¥½ã¡ã‚“ã§ã™ã€‚\nFixedBufferAllocator å›ºå®šã‚µã‚¤ã‚ºãƒãƒƒãƒ•ã‚¡ã‚’ä½¿ç”¨ã™ã‚‹ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã§ã™ã€‚\nvar buffer: [1024]u8 = undefined; var fba = std.heap.FixedBufferAllocator.init(\u0026buffer); const fba_allocator = fba.allocator(); const rabbits = try fba_allocator.alloc(i32, 5); ã‚¹ã‚¿ãƒƒã‚¯ã«ç¢ºä¿ã—ãŸãƒãƒƒãƒ•ã‚¡ã‚’ä½¿ã„ã¾ã™ã€‚ãƒ’ãƒ¼ãƒ—ç¢ºä¿ãŒä¸è¦ãªå ´åˆã«ä¾¿åˆ©ã§ã™ã€‚\nHashMap ãƒãƒƒã‚·ãƒ¥ãƒãƒƒãƒ—ã®ä½¿ç”¨ä¾‹ã§ã™ã€‚\nvar deer_map = std.StringHashMap(i32).init(allocator); defer deer_map.deinit(); try deer_map.put(\"red_deer\", 150); try deer_map.put(\"roe_deer\", 50); // å€¤ã®å–å¾— if (deer_map.get(\"red_deer\")) |weight| { std.debug.print(\"weight: {}\\n\", .{weight}); } // ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ var iterator = deer_map.iterator(); while (iterator.next()) |entry| { std.debug.print(\"{s}={}\\n\", .{entry.key_ptr.*, entry.value_ptr.*}); } ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã‚’ç®¡ç†ã—ã¾ã™ã€‚put ã§è¿½åŠ ã€get ã§å–å¾—ã€iterator ã§å…¨è¦ç´ ã‚’èµ°æŸ»ã§ãã¾ã™ã€‚\næ–‡å­—åˆ—ã®è¤‡è£½ æ–‡å­—åˆ—ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚\nconst original_seal = \"Seal\"; const copied_seal = try allocator.dupe(u8, original_seal); defer allocator.free(copied_seal); dupe ã§è¤‡è£½ã‚’ä½œã‚Šã¾ã™ã€‚å…ƒã®æ–‡å­—åˆ—ã¨ã¯åˆ¥ã®ãƒ¡ãƒ¢ãƒªé ˜åŸŸã«ç¢ºä¿ã•ã‚Œã¾ã™ã€‚\n13. ãƒ†ã‚¹ãƒˆ Zig ã«ã¯çµ„ã¿è¾¼ã¿ã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚test ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã¾ã™ã€‚\nåŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆ test ãƒ–ãƒ­ãƒƒã‚¯ã§ãƒ†ã‚¹ãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚\nconst std = @import(\"std\"); pub fn add(a: i32, b: i32) i32 { return a + b; } test \"basic addition\" { const result = add(2, 3); try std.testing.expectEqual(5, result); } zig test filename.zig ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚std.testing.expectEqual ã§å€¤ãŒç­‰ã—ã„ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚\nãƒ†ã‚¹ãƒˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ æ§˜ã€…ãªã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚\ntest \"various assertions\" { // ç­‰ä¾¡æ€§ãƒã‚§ãƒƒã‚¯ try std.testing.expectEqual(42, 42); // çœŸå½å€¤ãƒã‚§ãƒƒã‚¯ try std.testing.expect(true); try std.testing.expect(!false); // æ–‡å­—åˆ—ã®ç­‰ä¾¡æ€§ try std.testing.expectEqualStrings(\"hello\", \"hello\"); } expect ã¯çœŸå½å€¤ã‚’ã€expectEqual ã¯å€¤ã®ç­‰ä¾¡æ€§ã‚’ã€expectEqualStrings ã¯æ–‡å­—åˆ—ã®ç­‰ä¾¡æ€§ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚\nã‚¨ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ ã‚¨ãƒ©ãƒ¼ãŒæ­£ã—ãè¿”ã•ã‚Œã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚\npub fn divide(a: i32, b: i32) !i32 { if (b == 0) { return error.DivisionByZero; } return @divTrunc(a, b); } test \"divide success\" { const result = try divide(10, 2); try std.testing.expectEqual(5, result); } test \"divide by zero error\" { const result = divide(10, 0); try std.testing.expectError(error.DivisionByZero, result); } expectError ã§ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ãŒè¿”ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚\næ§‹é€ ä½“ã®ãƒ†ã‚¹ãƒˆ æ§‹é€ ä½“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚\npub const Animal = struct { name: []const u8, age: i32, pub fn isAdult(self: Animal) bool { return self.age \u003e= 18; } }; test \"Animal struct\" { const cat = Animal{ .name = \"Whiskers\", .age = 3, }; try std.testing.expectEqualStrings(\"Whiskers\", cat.name); try std.testing.expectEqual(3, cat.age); try std.testing.expect(!cat.isAdult()); } æ§‹é€ ä½“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚\nãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ std.testing.allocator ã‚’ä½¿ã£ã¦ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚\ntest \"allocator test\" { const allocator = std.testing.allocator; const numbers = try allocator.alloc(i32, 5); defer allocator.free(numbers); for (numbers, 0..) |*num, i| { num.* = @intCast(i * 10); } try std.testing.expectEqual(0, numbers[0]); try std.testing.expectEqual(10, numbers[1]); } std.testing.allocator ã¯ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’æ¤œå‡ºã—ã¦ãã‚Œã¾ã™ã€‚defer ã§ç¢ºå®Ÿã«è§£æ”¾ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚\n14. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚\n// lib.zig pub fn greet() void { stg.debug.print(\"Hello\\n\", .{}); } // main.zig const lib = @import(\"lib.zig\"); lib.greet(); å‚™è€ƒ zig ã«ã¯ãã®ä»– C è¨€èªé€£æºã€ã‚¢ã‚»ãƒ³ãƒ–ãƒªåŸ‹ã‚è¾¼ã¿ã€éåŒæœŸå‡¦ç†ã€ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç­‰ã®æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã‚‹ãã†ã§ã™ã€‚\nã•ã‚‰ã«å­¦ã¶ãŸã‚ã« Zig è¨€èªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ Zig æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯è©³ã—ã„æƒ…å ±ãŒè¼‰ã£ã¦ã„ã¾ã™ã€‚æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚å……å®Ÿã—ã¦ã„ã‚‹ã®ã§ã€ãœã²ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n",
  "wordCount" : "3369",
  "inLanguage": "en",
  "image": "https://jedipunkz.rocks/preview/jedipunkz.jpg","datePublished": "2025-10-24T21:29:24+09:00",
  "dateModified": "2025-10-24T21:29:24+09:00",
  "author":{
    "@type": "Person",
    "name": "jedipunkz"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jedipunkz.rocks/preview/post/zig-tutorial/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jedipunkz.rocks/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jedipunkz.rocks/preview/" accesskey="h" title="jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚° (Alt + H)">jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jedipunkz.rocks/preview/about" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jedipunkz.rocks/preview/">Home</a>&nbsp;Â»&nbsp;<a href="https://jedipunkz.rocks/preview/post/">Posts</a></div>
    <h1 class="post-title">
      Zig å…¥é–€: æ§‹æ–‡é›†
    </h1>
    <div class="post-description">
      Zig è¨€èªã®ä¸»è¦ãªæ§‹æ–‡ã‚’ç¶²ç¾…çš„ã«ã¾ã¨ã‚ãŸå…¥é–€è¨˜äº‹ã€‚åŸºæœ¬æ§‹æ–‡ã€åˆ¶å¾¡æ§‹æ–‡ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ãªã©ã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¨ã¨ã‚‚ã«è§£èª¬
    </div>
    
  </header> 
  <div class="post-content"><p>ã“ã‚“ã«ã¡ã¯ <a href="https://x.com/jedipunkz">@jedipunkz</a> ã§ã™ã€‚</p>
<p>ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å­¦ç¿’ã™ã‚‹æ©Ÿä¼šã‚’å¢—ã‚„ã—ã¦ã„ã‚‹æœ€ä¸­ãªã®ã§ã™ãŒã€è‡ªåˆ†ã¯åº•ãƒ¬ã‚¤ãƒ¤ãŒå¥½ããªã®ã‚’æ€ã„å‡ºã—ã€ã¾ãŸãŸã¾ã« Mitchell Hashimoto æ°ãŒ Zig ã®ã“ã¨ã‚’å‘Ÿã„ã¦ã‚‹ã®ã‚’è¦šãˆã¦ã„ãŸã®ã§ã€çªç„¶ Zig ã«å…¥é–€ã—ãŸããªã‚Šã¾ã—ãŸã€‚</p>
<p>ã¨ã„ã†ã“ã¨ã§å¾Œã«è‡ªåˆ†ã§ã‚‚èª­ã¿è¿”ã›ã‚‹å½¢ã«ã—ã‚ˆã†ã¨æ€ã„ Zig ã®æ§‹æ–‡é›†ã‚’è¨˜ã—ã¾ã™ã€‚</p>
<h1 id="notice">NOTICE<a hidden class="anchor" aria-hidden="true" href="#notice">#</a></h1>
<p>â€»  ç¾æ™‚ç‚¹ã§ Stable ãª 0.15.1 ã‚’å‰æã«è¨˜ã—ã¾ã™ã€‚
â€»  æ°—ãŒå‘ã„ãŸã¨ãã«è¨€èªä»•æ§˜ã®å¤‰åŒ–ã«å¯¾å¿œã—ã¦ä¿®æ­£ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚</p>
<h1 id="ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«<a hidden class="anchor" aria-hidden="true" href="#ã¯ã˜ã‚ã«">#</a></h1>
<p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Zig è¨€èªã®ä¸»è¦ãªæ§‹æ–‡ã‚’ç¶²ç¾…çš„ã«ã¾ã¨ã‚ãŸãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚ã™ã¹ã¦ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯è¨˜äº‹ã®ä¿®æ­£æ™‚ç‚¹ã§ Stable ãªãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® Zig ã§å‹•ä½œç¢ºèªã—ã¦ã„ã¾ã™ã€‚</p>
<h2 id="ç›®æ¬¡">ç›®æ¬¡<a hidden class="anchor" aria-hidden="true" href="#ç›®æ¬¡">#</a></h2>
<ol>
<li><a href="/preview/post/zig-tutorial/#1-%e5%9f%ba%e6%9c%ac%e6%a7%8b%e6%96%87">åŸºæœ¬æ§‹æ–‡</a></li>
<li><a href="/preview/post/zig-tutorial/#2-%e6%bc%94%e7%ae%97%e5%ad%90">æ¼”ç®—å­</a></li>
<li><a href="/preview/post/zig-tutorial/#3-%e5%88%b6%e5%be%a1%e6%a7%8b%e6%96%87">åˆ¶å¾¡æ§‹æ–‡</a></li>
<li><a href="/preview/post/zig-tutorial/#4-%e9%96%a2%e6%95%b0">é–¢æ•°</a></li>
<li><a href="/preview/post/zig-tutorial/#5-%e9%85%8d%e5%88%97%e3%81%a8%e3%82%b9%e3%83%a9%e3%82%a4%e3%82%b9">é…åˆ—ã¨ã‚¹ãƒ©ã‚¤ã‚¹</a></li>
<li><a href="/preview/post/zig-tutorial/#6-%e6%a7%8b%e9%80%a0%e4%bd%93">æ§‹é€ ä½“</a></li>
<li><a href="/preview/post/zig-tutorial/#7-%e5%88%97%e6%8c%99%e5%9e%8b%e3%81%a8%e3%83%a6%e3%83%8b%e3%82%aa%e3%83%b3">åˆ—æŒ™å‹ã¨ãƒ¦ãƒ‹ã‚ªãƒ³</a></li>
<li><a href="/preview/post/zig-tutorial/#8-%e3%83%9d%e3%82%a4%e3%83%b3%e3%82%bf">ãƒã‚¤ãƒ³ã‚¿</a></li>
<li><a href="/preview/post/zig-tutorial/#9-%e3%82%a8%e3%83%a9%e3%83%bc%e3%83%8f%e3%83%b3%e3%83%89%e3%83%aa%e3%83%b3%e3%82%b0">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</a></li>
<li><a href="/preview/post/zig-tutorial/#10-%e3%82%aa%e3%83%97%e3%82%b7%e3%83%a7%e3%83%8a%e3%83%ab%e5%9e%8b">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹</a></li>
<li><a href="/preview/post/zig-tutorial/#11-%e3%82%b3%e3%83%b3%e3%83%91%e3%82%a4%e3%83%ab%e6%99%82%e8%a8%88%e7%ae%97">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è¨ˆç®—</a></li>
<li><a href="/preview/post/zig-tutorial/#12-%e3%83%a1%e3%83%a2%e3%83%aa%e3%82%a2%e3%83%ad%e3%82%b1%e3%83%bc%e3%82%bf">ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿</a></li>
<li><a href="/preview/post/zig-tutorial/#13-%e3%83%86%e3%82%b9%e3%83%88">ãƒ†ã‚¹ãƒˆ</a></li>
<li><a href="/preview/post/zig-tutorial/#14-%e3%83%a2%e3%82%b8%e3%83%a5%e3%83%bc%e3%83%ab">ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</a></li>
</ol>
<hr>
<h2 id="1-åŸºæœ¬æ§‹æ–‡">1. åŸºæœ¬æ§‹æ–‡<a hidden class="anchor" aria-hidden="true" href="#1-åŸºæœ¬æ§‹æ–‡">#</a></h2>
<h3 id="å¤‰æ•°å®£è¨€">å¤‰æ•°å®£è¨€<a hidden class="anchor" aria-hidden="true" href="#å¤‰æ•°å®£è¨€">#</a></h3>
<p>Zig ã«ã¯ 2 ç¨®é¡ã®å¤‰æ•°å®£è¨€ãŒã‚ã‚Šã¾ã™ã€‚<code>const</code> ã¯ä¸å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥ä¸å¯ï¼‰ã€<code>var</code> ã¯å¯å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥å¯èƒ½ï¼‰ã‚’è¡¨ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">cat</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">  </span><span class="c1">// const: ä¸å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥ä¸å¯ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">var</span><span class="w"> </span><span class="n">dog</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">   </span><span class="c1">// var: å¯å¤‰å¤‰æ•°ï¼ˆå†ä»£å…¥å¯èƒ½ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">dog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span><span class="w">  </span><span class="c1">// OK
</span></span></span><span class="line"><span class="cl"><span class="c1">// cat = 10;  // ã‚¨ãƒ©ãƒ¼: const ã¯å¤‰æ›´ä¸å¯
</span></span></span></code></pre></div><h3 id="å‹æ¨è«–">å‹æ¨è«–<a hidden class="anchor" aria-hidden="true" href="#å‹æ¨è«–">#</a></h3>
<p>å‹ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ãªãã¦ã‚‚ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè‡ªå‹•çš„ã«å‹ã‚’æ¨è«–ã—ã¦ãã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">rabbit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">    </span><span class="c1">// i32 ã¨æ¨è«–ã•ã‚Œã‚‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">fox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span><span class="w">     </span><span class="c1">// f64 ã¨æ¨è«–ã•ã‚Œã‚‹
</span></span></span></code></pre></div><p>æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ <code>i32</code> å‹ã€æµ®å‹•å°æ•°ç‚¹ãƒªãƒ†ãƒ©ãƒ«ã¯ <code>f64</code> å‹ã¨ã—ã¦æ¨è«–ã•ã‚Œã¾ã™ã€‚</p>
<h3 id="åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹">åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹">#</a></h3>
<p>Zig ã«ã¯ã•ã¾ã–ã¾ãªåŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿å‹ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">bear</span><span class="o">:</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">255</span><span class="p">;</span><span class="w">        </span><span class="c1">// ç¬¦å·ãªã— 8bit æ•´æ•° (0ã€œ255)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">wolf</span><span class="o">:</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1000</span><span class="p">;</span><span class="w">     </span><span class="c1">// ç¬¦å·ä»˜ã 64bit æ•´æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">eagle</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.718</span><span class="p">;</span><span class="w">    </span><span class="c1">// 32bit æµ®å‹•å°æ•°ç‚¹æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">shark</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">    </span><span class="c1">// çœŸå½å€¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">tiger</span><span class="o">:</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;A&#39;</span><span class="p">;</span><span class="w">       </span><span class="c1">// æ–‡å­—ï¼ˆu8 ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ï¼‰
</span></span></span></code></pre></div><p>æ•´æ•°å‹:</p>
<ul>
<li>ç¬¦å·ä»˜ã: <code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>i128</code>, <code>isize</code></li>
<li>ç¬¦å·ãªã—: <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>, <code>u128</code>, <code>usize</code></li>
</ul>
<p>æµ®å‹•å°æ•°ç‚¹å‹:</p>
<ul>
<li><code>f16</code>, <code>f32</code>, <code>f64</code>, <code>f128</code></li>
</ul>
<p>æ•´æ•°å‹ã®æ•°å­—ã¯ãƒ“ãƒƒãƒˆå¹…ã‚’è¡¨ã—ã¾ã™ã€‚ä¾‹ãˆã° <code>i32</code> ã¯ 32 ãƒ“ãƒƒãƒˆã®ç¬¦å·ä»˜ãæ•´æ•°ã§ã™ã€‚<code>isize</code> ã¨ <code>usize</code> ã¯ãƒã‚¤ãƒ³ã‚¿ã®ã‚µã‚¤ã‚ºã¨åŒã˜ã§ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦å¤‰ã‚ã‚Šã¾ã™ã€‚</p>
<h3 id="undefinedæœªåˆæœŸåŒ–å€¤">undefinedï¼ˆæœªåˆæœŸåŒ–å€¤ï¼‰<a hidden class="anchor" aria-hidden="true" href="#undefinedæœªåˆæœŸåŒ–å€¤">#</a></h3>
<p><code>undefined</code> ã¯å¤‰æ•°ãŒæœªåˆæœŸåŒ–ã§ã‚ã‚‹ã“ã¨ã‚’æ˜ç¤ºçš„ã«ç¤ºã—ã¾ã™ã€‚å€¤ã¯ä¸å®šãªã®ã§ã€ä½¿ç”¨å‰ã«å¿…ãšåˆæœŸåŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">snake</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span><span class="w">  </span><span class="c1">// æœªåˆæœŸåŒ–ï¼ˆå€¤ã¯ä¸å®šï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">snake</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">99</span><span class="p">;</span><span class="w">  </span><span class="c1">// ä½¿ç”¨å‰ã«å¿…ãšåˆæœŸåŒ–
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// é…åˆ—ã® undefined
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">var</span><span class="w"> </span><span class="n">array</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">..)</span><span class="w"> </span><span class="o">|*</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">item</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@intCast</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€Zig ã¯ <code>undefined</code> ã®é ˜åŸŸã‚’ <code>0xaa</code> ãƒã‚¤ãƒˆã§åŸ‹ã‚ã¾ã™ã€‚ã“ã‚Œã¯ãƒã‚°ã®æ—©æœŸç™ºè¦‹ã«å½¹ç«‹ã¡ã¾ã™ã€‚<code>undefined</code> ã‚’ä½¿ã†ã“ã¨ã§ã€åˆæœŸåŒ–ãŒä¸è¦ãªå ´åˆã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã§ãã¾ã™ã€‚</p>
<h3 id="å‹å¤‰æ›">å‹å¤‰æ›<a hidden class="anchor" aria-hidden="true" href="#å‹å¤‰æ›">#</a></h3>
<p>Zig ã§ã¯æ˜ç¤ºçš„ãªå‹å¤‰æ›ãŒå¿…è¦ã§ã™ã€‚æ§˜ã€…ãªãƒ“ãƒ«ãƒˆã‚¤ãƒ³é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// @as: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å‹å¤‰æ›
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">num_u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@as</span><span class="p">(</span><span class="kt">u8</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// @intCast: æ•´æ•°å‹é–“ã®å¤‰æ›
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">large_num</span><span class="o">:</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">small_num</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@intCast</span><span class="p">(</span><span class="n">large_num</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// @floatCast: æµ®å‹•å°æ•°ç‚¹å‹é–“ã®å¤‰æ›
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">double</span><span class="o">:</span><span class="w"> </span><span class="kt">f64</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14159265</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">single</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@floatCast</span><span class="p">(</span><span class="n">double</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// @floatFromInt: æ•´æ•°ã‹ã‚‰æµ®å‹•å°æ•°ç‚¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">int_val</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">float_val</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@floatFromInt</span><span class="p">(</span><span class="n">int_val</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// @intFromFloat: æµ®å‹•å°æ•°ç‚¹ã‹ã‚‰æ•´æ•°ï¼ˆåˆ‡ã‚Šæ¨ã¦ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">pi</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">pi_int</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@intFromFloat</span><span class="p">(</span><span class="n">pi</span><span class="p">);</span><span class="w">  </span><span class="c1">// 3
</span></span></span></code></pre></div><p>å‹å¤‰æ›ã¯æ˜ç¤ºçš„ã«è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ„å›³ã—ãªã„å‹å¤‰æ›ã«ã‚ˆã‚‹ãƒã‚°ã‚’é˜²ã’ã¾ã™ã€‚<code>@as</code> ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å‹ã‚’æŒ‡å®šã—ã€ä»–ã®é–¢æ•°ã¯å®Ÿè¡Œæ™‚ã®å‹å¤‰æ›ã‚’è¡Œã„ã¾ã™ã€‚</p>
<hr>
<h2 id="2-æ¼”ç®—å­">2. æ¼”ç®—å­<a hidden class="anchor" aria-hidden="true" href="#2-æ¼”ç®—å­">#</a></h2>
<h3 id="ç®—è¡“æ¼”ç®—å­">ç®—è¡“æ¼”ç®—å­<a hidden class="anchor" aria-hidden="true" href="#ç®—è¡“æ¼”ç®—å­">#</a></h3>
<p>æ•°å€¤ã®è¨ˆç®—ã‚’è¡Œã†æ¼”ç®—å­ã§ã™ã€‚åŠ ç®—ã€æ¸›ç®—ã€ä¹—ç®—ã¯ä¸€èˆ¬çš„ã§ã™ãŒã€é™¤ç®—ã¨å‰°ä½™ã¯ Zig ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³é–¢æ•°ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">lion</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">leopard</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">lion</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">leopard</span><span class="w">     </span><span class="c1">// 13  åŠ ç®—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">lion</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">leopard</span><span class="w">     </span><span class="c1">// 7   æ¸›ç®—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">lion</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">leopard</span><span class="w">     </span><span class="c1">// 30  ä¹—ç®—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">@divTrunc</span><span class="p">(</span><span class="n">lion</span><span class="p">,</span><span class="w"> </span><span class="n">leopard</span><span class="p">)</span><span class="w">  </span><span class="c1">// 3   æ•´æ•°é™¤ç®—ï¼ˆåˆ‡ã‚Šæ¨ã¦ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">@rem</span><span class="p">(</span><span class="n">lion</span><span class="p">,</span><span class="w"> </span><span class="n">leopard</span><span class="p">)</span><span class="w">       </span><span class="c1">// 1   å‰°ä½™
</span></span></span></code></pre></div><p>æ³¨æ„: Zig ã§ã¯æ•´æ•°ã®é™¤ç®—ã‚„å‰°ä½™ã«ãƒ“ãƒ«ãƒˆã‚¤ãƒ³é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚„æœªå®šç¾©å‹•ä½œã‚’é˜²ããŸã‚ã§ã™ã€‚<code>@divTrunc</code> ã¯åˆ‡ã‚Šæ¨ã¦é™¤ç®—ã€<code>@rem</code> ã¯å‰°ä½™ã‚’è¨ˆç®—ã—ã¾ã™ã€‚</p>
<h3 id="æ¯”è¼ƒæ¼”ç®—å­">æ¯”è¼ƒæ¼”ç®—å­<a hidden class="anchor" aria-hidden="true" href="#æ¯”è¼ƒæ¼”ç®—å­">#</a></h3>
<p>2 ã¤ã®å€¤ã‚’æ¯”è¼ƒã™ã‚‹æ¼”ç®—å­ã§ã™ã€‚çµæœã¯ <code>bool</code> å‹ï¼ˆçœŸã¾ãŸã¯å½ï¼‰ã«ãªã‚Šã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="n">panda</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">koala</span><span class="w">    </span><span class="c1">// ç­‰ã—ã„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">panda</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">lion</span><span class="w">     </span><span class="c1">// ç­‰ã—ããªã„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">panda</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">lion</span><span class="w">      </span><span class="c1">// ã‚ˆã‚Šå°ã•ã„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">panda</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">leopard</span><span class="w">   </span><span class="c1">// ã‚ˆã‚Šå¤§ãã„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">panda</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">koala</span><span class="w">    </span><span class="c1">// ä»¥ä¸‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">panda</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">leopard</span><span class="w">  </span><span class="c1">// ä»¥ä¸Š
</span></span></span></code></pre></div><p>ã“ã‚Œã‚‰ã®æ¼”ç®—å­ã¯æ¡ä»¶åˆ†å²ï¼ˆ<code>if</code> æ–‡ãªã©ï¼‰ã§ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚</p>
<h3 id="è«–ç†æ¼”ç®—å­">è«–ç†æ¼”ç®—å­<a hidden class="anchor" aria-hidden="true" href="#è«–ç†æ¼”ç®—å­">#</a></h3>
<p>çœŸå½å€¤ï¼ˆ<code>bool</code> å‹ï¼‰ã‚’æ“ä½œã™ã‚‹æ¼”ç®—å­ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">monkey</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">gorilla</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">monkey</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">gorilla</span><span class="w">    </span><span class="c1">// false (è«–ç†ç©)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">monkey</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">gorilla</span><span class="w">     </span><span class="c1">// true  (è«–ç†å’Œ)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">!</span><span class="n">monkey</span><span class="w">              </span><span class="c1">// false (å¦å®š)
</span></span></span></code></pre></div><p><code>and</code> ã¯ä¸¡æ–¹ãŒçœŸã®ã¨ãã ã‘çœŸã€<code>or</code> ã¯ã©ã¡ã‚‰ã‹ãŒçœŸãªã‚‰çœŸã€<code>!</code> ã¯çœŸå½ã‚’åè»¢ã•ã›ã¾ã™ã€‚</p>
<h3 id="ãƒ“ãƒƒãƒˆæ¼”ç®—å­">ãƒ“ãƒƒãƒˆæ¼”ç®—å­<a hidden class="anchor" aria-hidden="true" href="#ãƒ“ãƒƒãƒˆæ¼”ç®—å­">#</a></h3>
<p>æ•´æ•°ã®ãƒ“ãƒƒãƒˆå˜ä½ã§æ“ä½œã‚’è¡Œã†æ¼”ç®—å­ã§ã™ã€‚2 é€²æ•°ã§è€ƒãˆã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">zebra</span><span class="o">:</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b1010</span><span class="p">;</span><span class="w">    </span><span class="c1">// 10 (2é€²æ•°)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">giraffe</span><span class="o">:</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mb">0b1100</span><span class="p">;</span><span class="w">  </span><span class="c1">// 12 (2é€²æ•°)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">zebra</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">giraffe</span><span class="w">     </span><span class="c1">// 0b1000  (AND)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">zebra</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">giraffe</span><span class="w">     </span><span class="c1">// 0b1110  (OR)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">zebra</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">giraffe</span><span class="w">     </span><span class="c1">// 0b0110  (XOR)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">~</span><span class="n">zebra</span><span class="w">             </span><span class="c1">// 0b11110101 (NOT)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">zebra</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// 0b00010100 (å·¦ã‚·ãƒ•ãƒˆ)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">zebra</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="c1">// 0b0101     (å³ã‚·ãƒ•ãƒˆ)
</span></span></span></code></pre></div><p><code>&amp;</code> ã¯ãƒ“ãƒƒãƒˆ ANDã€<code>|</code> ã¯ãƒ“ãƒƒãƒˆ ORã€<code>^</code> ã¯ãƒ“ãƒƒãƒˆ XORã€<code>~</code> ã¯ãƒ“ãƒƒãƒˆ NOTã€<code>&lt;&lt;</code> ã¯å·¦ã‚·ãƒ•ãƒˆã€<code>&gt;&gt;</code> ã¯å³ã‚·ãƒ•ãƒˆã‚’è¡Œã„ã¾ã™ã€‚</p>
<hr>
<h2 id="3-åˆ¶å¾¡æ§‹æ–‡">3. åˆ¶å¾¡æ§‹æ–‡<a hidden class="anchor" aria-hidden="true" href="#3-åˆ¶å¾¡æ§‹æ–‡">#</a></h2>
<h3 id="if-æ–‡">if æ–‡<a hidden class="anchor" aria-hidden="true" href="#if-æ–‡">#</a></h3>
<p>æ¡ä»¶ã«ã‚ˆã£ã¦å‡¦ç†ã‚’åˆ†å²ã•ã›ã‚‹æ§‹æ–‡ã§ã™ã€‚æ¡ä»¶ã¯ <code>()</code> ã§å›²ã¿ã€å®Ÿè¡Œã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ <code>{}</code> ã§å›²ã¿ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">elephant</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elephant</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;elephant is large</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elephant</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;elephant is medium</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;elephant is small</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>else if</code> ã§è¤‡æ•°ã®æ¡ä»¶ã‚’æ›¸ã‘ã¾ã™ã€‚ä¸Šã‹ã‚‰é †ã«è©•ä¾¡ã•ã‚Œã¦ã€æœ€åˆã«çœŸã«ãªã£ãŸæ¡ä»¶ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p>
<h3 id="if-å¼å€¤ã‚’è¿”ã™">if å¼ï¼ˆå€¤ã‚’è¿”ã™ï¼‰<a hidden class="anchor" aria-hidden="true" href="#if-å¼å€¤ã‚’è¿”ã™">#</a></h3>
<p>Zig ã® <code>if</code> ã¯å¼ã¨ã—ã¦å€¤ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">rhino</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">hippo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhino</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="s">&#34;large&#34;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s">&#34;small&#34;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>æ¡ä»¶ã«ã‚ˆã£ã¦ç•°ãªã‚‹å€¤ã‚’å¤‰æ•°ã«ä»£å…¥ã—ãŸã„ã¨ãã«ã€ã‚³ãƒ¼ãƒ‰ãŒç°¡æ½”ã«æ›¸ã‘ã¾ã™ã€‚</p>
<h3 id="while-æ–‡">while æ–‡<a hidden class="anchor" aria-hidden="true" href="#while-æ–‡">#</a></h3>
<p>æ¡ä»¶ãŒçœŸã®é–“ã€ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">mouse</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">mouse</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">mouse</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">mouse</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å‡ºåŠ›: 0 1 2 3 4
</span></span></span></code></pre></div><p>ãƒ«ãƒ¼ãƒ—ã®ä¸­ã§å¤‰æ•°ã‚’å¤‰æ›´ã—ã¦ã€æœ€çµ‚çš„ã«æ¡ä»¶ãŒå½ã«ãªã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ç„¡é™ãƒ«ãƒ¼ãƒ—ã«æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚</p>
<h3 id="while-æ–‡continue-å¼ä»˜ã">while æ–‡ï¼ˆcontinue å¼ä»˜ãï¼‰<a hidden class="anchor" aria-hidden="true" href="#while-æ–‡continue-å¼ä»˜ã">#</a></h3>
<p>ãƒ«ãƒ¼ãƒ—ã®æœ€å¾Œã«æ¯å›å®Ÿè¡Œã•ã‚Œã‚‹å¼ã‚’æŒ‡å®šã§ãã¾ã™ã€‚<code>: ()</code> ã®éƒ¨åˆ†ã«æ›¸ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">hamster</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">hamster</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">hamster</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">hamster</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å‡ºåŠ›: 0 1 2 3 4
</span></span></span></code></pre></div><h3 id="for-æ–‡é…åˆ—ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³">for æ–‡ï¼ˆé…åˆ—ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰<a hidden class="anchor" aria-hidden="true" href="#for-æ–‡é…åˆ—ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³">#</a></h3>
<p>é…åˆ—ã‚„ã‚¹ãƒ©ã‚¤ã‚¹ã®è¦ç´ ã‚’é †ç•ªã«å‡¦ç†ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">animals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">][]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="p">{</span><span class="w"> </span><span class="s">&#34;snake&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;lizard&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;turtle&#34;</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// è¦ç´ ã®ã¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">animals</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">animal</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{s} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">animal</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ã
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">animals</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">..)</span><span class="w"> </span><span class="o">|</span><span class="n">animal</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;[{}]{s} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">animal</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>|animal|</code> ã§å„è¦ç´ ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚‚å¿…è¦ãªã‚‰ã€<code>0..</code> ã¨çµ„ã¿åˆã‚ã›ã¦ <code>|animal, i|</code> ã®ã‚ˆã†ã«æ›¸ã‘ã¾ã™ã€‚</p>
<h3 id="switch-æ–‡">switch æ–‡<a hidden class="anchor" aria-hidden="true" href="#switch-æ–‡">#</a></h3>
<p>å€¤ã«å¿œã˜ã¦å‡¦ç†ã‚’åˆ†å²ã•ã›ã¾ã™ã€‚Zig ã® <code>switch</code> ã¯å¼ã¨ã—ã¦å€¤ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã™ã¹ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">penguin</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">penguin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;one&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;two&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;three&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;many&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span></code></pre></div><p><code>=&gt;</code> ã®å·¦å´ãŒæ¡ä»¶ã€å³å´ãŒå¯¾å¿œã™ã‚‹å€¤ã‚„å‡¦ç†ã§ã™ã€‚<code>else</code> ã§ã™ã¹ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…ã§ãã¾ã™ã€‚</p>
<h3 id="break-ã¨-continue">break ã¨ continue<a hidden class="anchor" aria-hidden="true" href="#break-ã¨-continue">#</a></h3>
<p>ãƒ«ãƒ¼ãƒ—ã®æµã‚Œã‚’åˆ¶å¾¡ã™ã‚‹æ§‹æ–‡ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// break: ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">var</span><span class="w"> </span><span class="n">crow</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">crow</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">crow</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">crow</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// continue: æ¬¡ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">var</span><span class="w"> </span><span class="n">sparrow</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">sparrow</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">sparrow</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sparrow</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">continue</span><span class="p">;</span><span class="w">  </span><span class="c1">// 2 ã‚’ã‚¹ã‚­ãƒƒãƒ—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">sparrow</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å‡ºåŠ›: 0 1 3 4
</span></span></span></code></pre></div><p><code>break</code> ã§ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘å‡ºã—ã€<code>continue</code> ã§æ¬¡ã®ãƒ«ãƒ¼ãƒ—ã«é€²ã¿ã¾ã™ã€‚ç‰¹å®šã®æ¡ä»¶ã§ãƒ«ãƒ¼ãƒ—ã‚’åˆ¶å¾¡ã—ãŸã„ã¨ãã«ä½¿ã„ã¾ã™ã€‚</p>
<h3 id="ãƒ©ãƒ™ãƒ«ä»˜ããƒ–ãƒ­ãƒƒã‚¯">ãƒ©ãƒ™ãƒ«ä»˜ããƒ–ãƒ­ãƒƒã‚¯<a hidden class="anchor" aria-hidden="true" href="#ãƒ©ãƒ™ãƒ«ä»˜ããƒ–ãƒ­ãƒƒã‚¯">#</a></h3>
<p>ãƒ–ãƒ­ãƒƒã‚¯ã«ãƒ©ãƒ™ãƒ«ã‚’ä»˜ã‘ã¦ã€<code>break</code> ã§å€¤ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">swan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">blk</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">break</span><span class="w"> </span><span class="o">:</span><span class="n">blk</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w">  </span><span class="c1">// ãƒ–ãƒ­ãƒƒã‚¯ã‹ã‚‰å€¤ã‚’è¿”ã™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// swan ã¯ 30
</span></span></span></code></pre></div><p>ãƒ–ãƒ­ãƒƒã‚¯ã‚’å¼ã¨ã—ã¦ä½¿ã„ã€è¨ˆç®—çµæœã‚’è¿”ã›ã¾ã™ã€‚è¤‡é›‘ãªåˆæœŸåŒ–å‡¦ç†ã‚’æ›¸ãã¨ãã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="ãƒ©ãƒ™ãƒ«ä»˜ããƒ«ãƒ¼ãƒ—">ãƒ©ãƒ™ãƒ«ä»˜ããƒ«ãƒ¼ãƒ—<a hidden class="anchor" aria-hidden="true" href="#ãƒ©ãƒ™ãƒ«ä»˜ããƒ«ãƒ¼ãƒ—">#</a></h3>
<p>ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒ—ã§å¤–å´ã®ãƒ«ãƒ¼ãƒ—ã‚’åˆ¶å¾¡ã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">peacock</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">outer</span><span class="o">:</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">peacock</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">peacock</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">var</span><span class="w"> </span><span class="n">inner</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">inner</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">inner</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">peacock</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">break</span><span class="w"> </span><span class="o">:</span><span class="n">outer</span><span class="p">;</span><span class="w">  </span><span class="c1">// å¤–å´ã®ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>break :outer</code> ã§å¤–å´ã®ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ©ãƒ™ãƒ«ã‚’ä½¿ã†ã“ã¨ã§ã€ã©ã®ãƒ«ãƒ¼ãƒ—ã‚’åˆ¶å¾¡ã™ã‚‹ã‹ã‚’æ˜ç¢ºã«æŒ‡å®šã§ãã¾ã™ã€‚</p>
<h3 id="unreachable">unreachable<a hidden class="anchor" aria-hidden="true" href="#unreachable">#</a></h3>
<p>åˆ°é”ä¸å¯èƒ½ãªã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¹ã‚’æ˜ç¤ºçš„ã«ç¤ºã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">owl</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">owl_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">owl</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="s">&#34;positive&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                   </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">owl</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="s">&#34;negative&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                   </span><span class="k">else</span><span class="w"> </span><span class="k">unreachable</span><span class="p">;</span><span class="w">  </span><span class="c1">// owl ã¯ 5 ãªã®ã§åˆ°é”ã—ãªã„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// switch ã§ã®ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">falcon</span><span class="o">:</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">falcon_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">falcon</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;peregrine&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;gyrfalcon&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;merlin&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">unreachable</span><span class="p">,</span><span class="w">  </span><span class="c1">// 1-3 ä»¥å¤–ã¯æ¥ãªã„ã¨ä»®å®š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span><span class="w">
</span></span></span></code></pre></div><p>ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ã¯ <code>unreachable</code> ã«åˆ°é”ã™ã‚‹ã¨ panic ã‚’ç™ºç”Ÿã•ã›ã¾ã™ã€‚ReleaseFast ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã“ã®ã‚³ãƒ¼ãƒ‰ãƒ‘ã‚¹ã«åˆ°é”ã—ãªã„ã¨ä»®å®šã—ã¦æœ€é©åŒ–ã‚’è¡Œã„ã¾ã™ã€‚è«–ç†çš„ã«åˆ°é”ä¸å¯èƒ½ãªç®‡æ‰€ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ã§ã€ãƒã‚°ã‚’æ—©æœŸç™ºè¦‹ã§ãã¾ã™ã€‚</p>
<hr>
<h2 id="4-é–¢æ•°">4. é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#4-é–¢æ•°">#</a></h2>
<h3 id="åŸºæœ¬çš„ãªé–¢æ•°">åŸºæœ¬çš„ãªé–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬çš„ãªé–¢æ•°">#</a></h3>
<p><code>fn</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚å¼•æ•°ã¨æˆ»ã‚Šå€¤ã®å‹ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">addDolphins</span><span class="p">(</span><span class="n">dolphin1</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="n">dolphin2</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dolphin1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dolphin2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">addDolphins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">  </span><span class="c1">// 8
</span></span></span></code></pre></div><p>é–¢æ•°åã®å¾Œã® <code>()</code> ã«å¼•æ•°ã€ãã®å¾Œã«æˆ»ã‚Šå€¤ã®å‹ã‚’æ›¸ãã¾ã™ã€‚<code>return</code> ã§å€¤ã‚’è¿”ã—ã¾ã™ã€‚</p>
<h3 id="è¤‡æ•°ã®æˆ»ã‚Šå€¤æ§‹é€ ä½“ã‚’ä½¿ç”¨">è¤‡æ•°ã®æˆ»ã‚Šå€¤ï¼ˆæ§‹é€ ä½“ã‚’ä½¿ç”¨ï¼‰<a hidden class="anchor" aria-hidden="true" href="#è¤‡æ•°ã®æˆ»ã‚Šå€¤æ§‹é€ ä½“ã‚’ä½¿ç”¨">#</a></h3>
<p>è¤‡æ•°ã®å€¤ã‚’è¿”ã—ãŸã„ã¨ãã¯ã€æ§‹é€ ä½“ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">getWhaleInfo</span><span class="p">()</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="n">weight</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">.{</span><span class="w"> </span><span class="p">.</span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="n">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">30000.5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">whale_info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">getWhaleInfo</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;age: {}, weight: {d:.1}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">whale_info</span><span class="p">.</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">whale_info</span><span class="p">.</span><span class="n">weight</span><span class="p">});</span><span class="w">
</span></span></span></code></pre></div><p>ç„¡åæ§‹é€ ä½“ã‚’æˆ»ã‚Šå€¤ã®å‹ã¨ã—ã¦ä½¿ãˆã¾ã™ã€‚<code>.{}</code> ã§æ§‹é€ ä½“ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½œæˆã—ã¦è¿”ã—ã¾ã™ã€‚</p>
<h3 id="void-é–¢æ•°">void é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#void-é–¢æ•°">#</a></h3>
<p>ä½•ã‚‚è¿”ã•ãªã„é–¢æ•°ã¯ <code>void</code> å‹ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">printSeal</span><span class="p">()</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Seal!</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>return</code> æ–‡ã‚’æ›¸ã‹ãªãã¦ã‚‚ã€é–¢æ•°ã®æœ€å¾Œã¾ã§å®Ÿè¡Œã•ã‚ŒãŸã‚‰è‡ªå‹•çš„ã«æˆ»ã‚Šã¾ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•°">ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•°">#</a></h3>
<p><code>!</code> ã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">divideOtters</span><span class="p">(</span><span class="n">otter1</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="n">otter2</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="o">!</span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">otter2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">error</span><span class="p">.</span><span class="n">DivisionByZero</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">@divTrunc</span><span class="p">(</span><span class="n">otter1</span><span class="p">,</span><span class="w"> </span><span class="n">otter2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">divideOtters</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">|</span><span class="n">err</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Error: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">err</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span></code></pre></div><p><code>!i32</code> ã¯ã€Œã‚¨ãƒ©ãƒ¼ã¾ãŸã¯ <code>i32</code> ã‚’è¿”ã™ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å‡¦ç†ã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•°">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•°">#</a></h3>
<p><code>?</code> ã‚’ä½¿ã£ã¦ null ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">findBadger</span><span class="p">(</span><span class="n">badger_id</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">badger_id</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">badger_id</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">findBadger</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="o">|</span><span class="n">badger</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;found: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">badger</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;not found</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>?i32</code> ã¯ã€Œnull ã¾ãŸã¯ <code>i32</code> ã‚’è¿”ã™ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚å€¤ãŒå­˜åœ¨ã—ãªã„ã‹ã‚‚ã—ã‚Œãªã„çŠ¶æ³ã§ä½¿ã„ã¾ã™ã€‚</p>
<h3 id="ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½¿ã£ãŸé–¢æ•°">ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½¿ã£ãŸé–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½¿ã£ãŸé–¢æ•°">#</a></h3>
<p>é…åˆ—ã‚„ã‚¹ãƒ©ã‚¤ã‚¹ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">sumRaccoons</span><span class="p">(</span><span class="n">raccoons</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">var</span><span class="w"> </span><span class="n">total</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">raccoons</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">raccoon</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">raccoon</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">total</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sumRaccoons</span><span class="p">(</span><span class="o">&amp;</span><span class="n">array</span><span class="p">);</span><span class="w">  </span><span class="c1">// 15
</span></span></span></code></pre></div><p><code>[]const i32</code> ã¯ã€Œ<code>i32</code> ã®èª­ã¿å–ã‚Šå°‚ç”¨ã‚¹ãƒ©ã‚¤ã‚¹ã€ã‚’è¡¨ã—ã¾ã™ã€‚é…åˆ—ã®ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™ã¨ã‚¹ãƒ©ã‚¤ã‚¹ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚</p>
<h3 id="ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°">ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°">#</a></h3>
<p><code>comptime</code> ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">maxMammal</span><span class="p">(</span><span class="kr">comptime</span><span class="w"> </span><span class="n">T</span><span class="o">:</span><span class="w"> </span><span class="kt">type</span><span class="p">,</span><span class="w"> </span><span class="n">mammal1</span><span class="o">:</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">mammal2</span><span class="o">:</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mammal1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">mammal2</span><span class="p">)</span><span class="w"> </span><span class="n">mammal1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">mammal2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">max_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">maxMammal</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">      </span><span class="c1">// 20
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">max_float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">maxMammal</span><span class="p">(</span><span class="kt">f32</span><span class="p">,</span><span class="w"> </span><span class="mf">3.14</span><span class="p">,</span><span class="w"> </span><span class="mf">2.71</span><span class="p">);</span><span class="w"> </span><span class="c1">// 3.14
</span></span></span></code></pre></div><p><code>comptime</code> ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å€¤ãŒæ±ºå®šã•ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚Šã€æ§˜ã€…ãªå‹ã§å‹•ä½œã™ã‚‹é–¢æ•°ã‚’ä½œã‚Œã¾ã™ã€‚</p>
<h3 id="inline-é–¢æ•°">inline é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#inline-é–¢æ•°">#</a></h3>
<p><code>inline</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§é–¢æ•°ã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å±•é–‹ã—ã¾ã™ã€‚é€šå¸¸é–¢æ•°å‘¼å‡ºã—ã«ã¯ã€Œå¼•æ•°ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ç©ã‚€ã€ã€Œé–¢æ•°ã«ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹ã€ã€Œæˆ»ã‚‹ã€ã¨ã„ã†ã‚³ã‚¹ãƒˆãŒæ›ã‹ã‚‹ãã†ã§ã™ãŒã€inline é–¢æ•°ã‚’ä½¿ã†ã¨ã‚³ã‚¹ãƒˆãŒã‚¼ãƒ­ã«ãªã‚‹ãã†ã§ã™ã€‚</p>
<p>ãŸã ã—å‘¼ã³å‡ºã—ç®‡æ‰€ãŒå¤šã„å ´åˆã¯åŒã˜ã‚³ãƒ¼ãƒ‰ãŒä½•åº¦ã‚‚å±•é–‹ã•ã‚Œãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚ºãŒå¤§ãããªã‚Šã€ã¾ãŸå¤§ããªé–¢æ•°ã«ã¯å‘ã‹ãªã„ãã†ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">inline</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">squareChipmunk</span><span class="p">(</span><span class="n">chipmunk</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">chipmunk</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">chipmunk</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>é–¢æ•°å‘¼ã³å‡ºã—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚’ãªãã—ã€å‘¼ã³å‡ºã—ç®‡æ‰€ã«ç›´æ¥ã‚³ãƒ¼ãƒ‰ã‚’åŸ‹ã‚è¾¼ã¿ã¾ã™ã€‚å°ã•ãªé–¢æ•°ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã«å½¹ç«‹ã¡ã¾ã™ã€‚</p>
<hr>
<h2 id="5-é…åˆ—ã¨ã‚¹ãƒ©ã‚¤ã‚¹">5. é…åˆ—ã¨ã‚¹ãƒ©ã‚¤ã‚¹<a hidden class="anchor" aria-hidden="true" href="#5-é…åˆ—ã¨ã‚¹ãƒ©ã‚¤ã‚¹">#</a></h2>
<h3 id="é…åˆ—ã®å®£è¨€">é…åˆ—ã®å®£è¨€<a hidden class="anchor" aria-hidden="true" href="#é…åˆ—ã®å®£è¨€">#</a></h3>
<p>é…åˆ—ã¯å›ºå®šé•·ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚<code>[N]T</code> ã®å½¢ã§å‹ã‚’è¡¨ã—ã¾ã™ï¼ˆN ã¯è¦ç´ æ•°ã€T ã¯å‹ï¼‰ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// å›ºå®šé•·é…åˆ—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">parrots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// é•·ã•ã‚’æ¨è«–
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">owls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="p">};</span><span class="w">  </span><span class="c1">// [3]i32
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// åŒã˜å€¤ã§åˆæœŸåŒ–
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">hawks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="mi">0</span><span class="p">}</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">  </span><span class="c1">// [4]i32{ 0, 0, 0, 0 }
</span></span></span></code></pre></div><p><code>[_]</code> ã‚’ä½¿ã†ã¨ã€åˆæœŸåŒ–å­ã‹ã‚‰è¦ç´ æ•°ã‚’è‡ªå‹•çš„ã«æ¨è«–ã—ã¦ãã‚Œã¾ã™ã€‚<code>**</code> æ¼”ç®—å­ã§åŒã˜å€¤ã‚’ç¹°ã‚Šè¿”ã›ã¾ã™ã€‚</p>
<h3 id="é…åˆ—ã®æ“ä½œ">é…åˆ—ã®æ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#é…åˆ—ã®æ“ä½œ">#</a></h3>
<p>é…åˆ—ã®è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€é•·ã•ã‚’å–å¾—ã—ãŸã‚Šã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// é•·ã•ã®å–å¾—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">owls</span><span class="p">.</span><span class="n">len</span><span class="p">;</span><span class="w">  </span><span class="c1">// 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// è¦ç´ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parrots</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w">  </span><span class="c1">// 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ãƒ«ãƒ¼ãƒ—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">parrots</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">parrot</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">parrot</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>.len</code> ã§é…åˆ—ã®é•·ã•ãŒå–å¾—ã§ãã¾ã™ã€‚ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ 0 ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚</p>
<h3 id="å¤šæ¬¡å…ƒé…åˆ—">å¤šæ¬¡å…ƒé…åˆ—<a hidden class="anchor" aria-hidden="true" href="#å¤šæ¬¡å…ƒé…åˆ—">#</a></h3>
<p>é…åˆ—ã®é…åˆ—ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">falcons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">falcons</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span><span class="w">  </span><span class="c1">// 2
</span></span></span></code></pre></div><p><code>[2][3]i32</code> ã¯ã€Œ3 è¦ç´ ã®é…åˆ—ã‚’ 2 ã¤æŒã¤é…åˆ—ã€ã‚’è¡¨ã—ã¾ã™ã€‚</p>
<h3 id="ã‚¹ãƒ©ã‚¤ã‚¹">ã‚¹ãƒ©ã‚¤ã‚¹<a hidden class="anchor" aria-hidden="true" href="#ã‚¹ãƒ©ã‚¤ã‚¹">#</a></h3>
<p>ã‚¹ãƒ©ã‚¤ã‚¹ã¯é…åˆ—ã®ä¸€éƒ¨ã‚’å‚ç…§ã™ã‚‹å‹•çš„ãªãƒ“ãƒ¥ãƒ¼ã§ã™ã€‚<code>[]T</code> ã®å½¢ã§å‹ã‚’è¡¨ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">doves</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">dove_slice</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doves</span><span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">4</span><span class="p">];</span><span class="w">  </span><span class="c1">// [2, 3, 4]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ã‚¹ãƒ©ã‚¤ã‚¹ã®é•·ã•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">slice_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dove_slice</span><span class="p">.</span><span class="n">len</span><span class="p">;</span><span class="w">  </span><span class="c1">// 3
</span></span></span></code></pre></div><p><code>[start..end]</code> ã§ç¯„å›²ã‚’æŒ‡å®šã—ã¾ã™ï¼ˆend ã¯å«ã¾ã‚Œã¾ã›ã‚“ï¼‰ã€‚ã‚¹ãƒ©ã‚¤ã‚¹ã¯å…ƒã®é…åˆ—ã‚’å‚ç…§ã™ã‚‹ã ã‘ã§ã€ã‚³ãƒ”ãƒ¼ã¯ä½œã‚Šã¾ã›ã‚“ã€‚</p>
<h3 id="å¯å¤‰é…åˆ—">å¯å¤‰é…åˆ—<a hidden class="anchor" aria-hidden="true" href="#å¯å¤‰é…åˆ—">#</a></h3>
<p><code>var</code> ã§å®£è¨€ã—ãŸé…åˆ—ã¯è¦ç´ ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">pigeons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">pigeons</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">  </span><span class="c1">// è¦ç´ ã‚’å¤‰æ›´
</span></span></span><span class="line"><span class="cl"><span class="c1">// pigeons ã¯ [1, 2, 30, 4, 5]
</span></span></span></code></pre></div><p>é…åˆ—è‡ªä½“ã®ã‚µã‚¤ã‚ºã¯å›ºå®šã§ã™ãŒã€å€‹ã€…ã®è¦ç´ ã¯æ›¸ãæ›ãˆå¯èƒ½ã§ã™ã€‚</p>
<h3 id="æ–‡å­—åˆ—u8-ã®é…åˆ—">æ–‡å­—åˆ—ï¼ˆu8 ã®é…åˆ—ï¼‰<a hidden class="anchor" aria-hidden="true" href="#æ–‡å­—åˆ—u8-ã®é…åˆ—">#</a></h3>
<p>Zig ã§ã¯æ–‡å­—åˆ—ã¯ <code>u8</code> ã®é…åˆ—ã¾ãŸã¯ã‚¹ãƒ©ã‚¤ã‚¹ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">canary</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Hello, Canary!&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">canary</span><span class="p">.</span><span class="n">len</span><span class="p">;</span><span class="w">  </span><span class="c1">// 14
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ã‚»ãƒ³ãƒãƒãƒ«çµ‚ç«¯æ–‡å­—åˆ—ï¼ˆnull çµ‚ç«¯ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">finch</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Finch&#34;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¯ UTF-8 ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸ <code>u8</code> ã®ã‚¹ãƒ©ã‚¤ã‚¹ã§ã™ã€‚<code>[:0]</code> ã¯ null çµ‚ç«¯ï¼ˆC è¨€èªã‚¹ã‚¿ã‚¤ãƒ«ï¼‰ã®æ–‡å­—åˆ—ã‚’è¡¨ã—ã¾ã™ã€‚</p>
<hr>
<h2 id="6-æ§‹é€ ä½“">6. æ§‹é€ ä½“<a hidden class="anchor" aria-hidden="true" href="#6-æ§‹é€ ä½“">#</a></h2>
<h3 id="åŸºæœ¬çš„ãªæ§‹é€ ä½“">åŸºæœ¬çš„ãªæ§‹é€ ä½“<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬çš„ãªæ§‹é€ ä½“">#</a></h3>
<p>æ§‹é€ ä½“ã¯é–¢é€£ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ã¾ã¨ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚<code>struct</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§å®šç¾©ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">Cheetah</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">speed</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// ãƒ¡ã‚½ãƒƒãƒ‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">introduce</span><span class="p">(</span><span class="n">self</span><span class="o">:</span><span class="w"> </span><span class="n">Cheetah</span><span class="p">)</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;I&#39;m {s}, speed: {d:.1} km/h</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">self</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">speed</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// åˆæœŸåŒ–é–¢æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span><span class="w"> </span><span class="n">speed</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="n">Cheetah</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Cheetah</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">speed</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">cheetah</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cheetah</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Lightning&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">120.0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">cheetah</span><span class="p">.</span><span class="nf">introduce</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// init é–¢æ•°ã‚’ä½¿ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">cheetah2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cheetah</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="s">&#34;Thunder&#34;</span><span class="p">,</span><span class="w"> </span><span class="mf">115.0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¦ã¾ã™ã€‚ãƒ¡ã‚½ãƒƒãƒ‰ã®ç¬¬ä¸€å¼•æ•°ã« <code>self</code> ã‚’æ›¸ãã“ã¨ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚</p>
<h3 id="ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒã¤æ§‹é€ ä½“">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒã¤æ§‹é€ ä½“<a hidden class="anchor" aria-hidden="true" href="#ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒã¤æ§‹é€ ä½“">#</a></h3>
<p>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">Gazelle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">speed</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">80.0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">is_wild</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">gazelle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Gazelle</span><span class="p">{};</span><span class="w">  </span><span class="c1">// ã™ã¹ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">gazelle2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Gazelle</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">90.0</span><span class="w"> </span><span class="p">};</span><span class="w">  </span><span class="c1">// ä¸€éƒ¨ã‚’ä¸Šæ›¸ã
</span></span></span></code></pre></div><p>åˆæœŸåŒ–æ™‚ã«å€¤ã‚’çœç•¥ã™ã‚‹ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒä½¿ã‚ã‚Œã¾ã™ã€‚ä¸€éƒ¨ã ã‘æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<h3 id="ã‚¸ã‚§ãƒãƒªãƒƒã‚¯æ§‹é€ ä½“">ã‚¸ã‚§ãƒãƒªãƒƒã‚¯æ§‹é€ ä½“<a hidden class="anchor" aria-hidden="true" href="#ã‚¸ã‚§ãƒãƒªãƒƒã‚¯æ§‹é€ ä½“">#</a></h3>
<p>å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚‹æ§‹é€ ä½“ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">Herd</span><span class="p">(</span><span class="kr">comptime</span><span class="w"> </span><span class="n">T</span><span class="o">:</span><span class="w"> </span><span class="kt">type</span><span class="p">)</span><span class="w"> </span><span class="kt">type</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">animals</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="n">T</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">count</span><span class="o">:</span><span class="w"> </span><span class="kt">usize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">animals</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="nb">@This</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="p">.{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="n">animals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animals</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">animals</span><span class="p">.</span><span class="n">len</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">speeds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">f32</span><span class="p">{</span><span class="w"> </span><span class="mf">80.0</span><span class="p">,</span><span class="w"> </span><span class="mf">85.0</span><span class="p">,</span><span class="w"> </span><span class="mf">90.0</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">herd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">Herd</span><span class="p">(</span><span class="kt">f32</span><span class="p">).</span><span class="nf">init</span><span class="p">(</span><span class="nb">@constCast</span><span class="p">(</span><span class="o">&amp;</span><span class="n">speeds</span><span class="p">));</span><span class="w">
</span></span></span></code></pre></div><p>é–¢æ•°ãŒå‹ã‚’è¿”ã™ã“ã¨ã§ã€ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ãªæ§‹é€ ä½“ã‚’ä½œã‚Œã¾ã™ã€‚<code>@This()</code> ã¯ç¾åœ¨ã®å‹ã‚’è¡¨ã—ã¾ã™ã€‚</p>
<h3 id="ãƒã‚¹ãƒˆã•ã‚ŒãŸæ§‹é€ ä½“">ãƒã‚¹ãƒˆã•ã‚ŒãŸæ§‹é€ ä½“<a hidden class="anchor" aria-hidden="true" href="#ãƒã‚¹ãƒˆã•ã‚ŒãŸæ§‹é€ ä½“">#</a></h3>
<p>æ§‹é€ ä½“ã®ä¸­ã«æ§‹é€ ä½“ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">Enclosure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">capacity</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">animal_count</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">Zoo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">enclosure</span><span class="o">:</span><span class="w"> </span><span class="n">Enclosure</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">zoo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Zoo</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Safari Zoo&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">enclosure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Enclosure</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">animal_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span></code></pre></div><p>è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¡¨ç¾ã™ã‚‹ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚</p>
<hr>
<h2 id="7-åˆ—æŒ™å‹ã¨ãƒ¦ãƒ‹ã‚ªãƒ³">7. åˆ—æŒ™å‹ã¨ãƒ¦ãƒ‹ã‚ªãƒ³<a hidden class="anchor" aria-hidden="true" href="#7-åˆ—æŒ™å‹ã¨ãƒ¦ãƒ‹ã‚ªãƒ³">#</a></h2>
<h3 id="åˆ—æŒ™å‹enum">åˆ—æŒ™å‹ï¼ˆenumï¼‰<a hidden class="anchor" aria-hidden="true" href="#åˆ—æŒ™å‹enum">#</a></h3>
<p>åˆ—æŒ™å‹ã¯åå‰ä»˜ãã®å®šæ•°ã®é›†åˆã‚’å®šç¾©ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">Habitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">forest</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ocean</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">desert</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">mountain</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// ãƒ¡ã‚½ãƒƒãƒ‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">describe</span><span class="p">(</span><span class="n">self</span><span class="o">:</span><span class="w"> </span><span class="n">Habitat</span><span class="p">)</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">forest</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;trees and vegetation&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">ocean</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;salt water&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">desert</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;sand and heat&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">mountain</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&#34;high altitude&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">habitat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Habitat</span><span class="p">.</span><span class="n">forest</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@tagName</span><span class="p">(</span><span class="n">habitat</span><span class="p">);</span><span class="w">  </span><span class="c1">// &#34;forest&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">habitat</span><span class="p">.</span><span class="nf">describe</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p>åˆ—æŒ™å‹ã‚‚ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¦ã¾ã™ã€‚<code>@tagName</code> ã§åˆ—æŒ™å€¤ã®åå‰ã‚’æ–‡å­—åˆ—ã¨ã—ã¦å–å¾—ã§ãã¾ã™ã€‚</p>
<h3 id="æ•´æ•°å€¤ã‚’æŒã¤åˆ—æŒ™å‹">æ•´æ•°å€¤ã‚’æŒã¤åˆ—æŒ™å‹<a hidden class="anchor" aria-hidden="true" href="#æ•´æ•°å€¤ã‚’æŒã¤åˆ—æŒ™å‹">#</a></h3>
<p>å„åˆ—æŒ™å€¤ã«æ•´æ•°ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">DangerLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">enum</span><span class="p">(</span><span class="kt">u8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">safe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">caution</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">danger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">extreme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DangerLevel</span><span class="p">.</span><span class="n">danger</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@intFromEnum</span><span class="p">(</span><span class="n">level</span><span class="p">);</span><span class="w">  </span><span class="c1">// 2
</span></span></span></code></pre></div><p><code>enum(u8)</code> ã§åŸºåº•å‹ã‚’æŒ‡å®šã—ã€<code>@intFromEnum</code> ã§æ•´æ•°å€¤ã‚’å–å¾—ã—ã¾ã™ã€‚</p>
<h3 id="ã‚¿ã‚°ä»˜ããƒ¦ãƒ‹ã‚ªãƒ³">ã‚¿ã‚°ä»˜ããƒ¦ãƒ‹ã‚ªãƒ³<a hidden class="anchor" aria-hidden="true" href="#ã‚¿ã‚°ä»˜ããƒ¦ãƒ‹ã‚ªãƒ³">#</a></h3>
<p>ãƒ¦ãƒ‹ã‚ªãƒ³ã¯è¤‡æ•°ã®å‹ã®ã†ã¡ 1 ã¤ã‚’ä¿æŒã§ãã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">union</span><span class="p">(</span><span class="k">enum</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">leopard</span><span class="o">:</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">spots</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">jaguar</span><span class="o">:</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">territory</span><span class="o">:</span><span class="w"> </span><span class="kt">f32</span><span class="w"> </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">cougar</span><span class="o">:</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">print_info</span><span class="p">(</span><span class="n">self</span><span class="o">:</span><span class="w"> </span><span class="n">Animal</span><span class="p">)</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">leopard</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">|</span><span class="n">l</span><span class="o">|</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Leopard with {} spots</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">l</span><span class="p">.</span><span class="n">spots</span><span class="p">}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">jaguar</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">|</span><span class="n">j</span><span class="o">|</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Jaguar with {d:.1} kmÂ² territory</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">j</span><span class="p">.</span><span class="n">territory</span><span class="p">}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">cougar</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">|</span><span class="n">c</span><span class="o">|</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Cougar aged {} years</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">c</span><span class="p">.</span><span class="n">age</span><span class="p">}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">animal1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Animal</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">leopard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.{</span><span class="w"> </span><span class="p">.</span><span class="n">spots</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">animal2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Animal</span><span class="p">{</span><span class="w"> </span><span class="p">.</span><span class="n">jaguar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.{</span><span class="w"> </span><span class="p">.</span><span class="n">territory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">120.5</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">animal1</span><span class="p">.</span><span class="nf">print_info</span><span class="p">();</span><span class="w">  </span><span class="c1">// å‡ºåŠ›: Leopard with 50 spots
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">animal2</span><span class="p">.</span><span class="nf">print_info</span><span class="p">();</span><span class="w">  </span><span class="c1">// å‡ºåŠ›: Jaguar with 120.5 kmÂ² territory
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ã‚¿ã‚°ã®ãƒã‚§ãƒƒã‚¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">animal1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">leopard</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;This is a leopard</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{}),</span><span class="w">  </span><span class="c1">// å‡ºåŠ›: This is a leopard
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="p">.</span><span class="n">jaguar</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;This is a jaguar</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">cougar</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;This is a cougar</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>union(enum)</code> ã§ã‚¿ã‚°ä»˜ããƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚<code>switch</code> ã§ç¾åœ¨ã®ã‚¿ã‚°ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€å¯¾å¿œã™ã‚‹å€¤ã‚’å–ã‚Šå‡ºã›ã¾ã™ã€‚</p>
<hr>
<h2 id="8-ãƒã‚¤ãƒ³ã‚¿">8. ãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#8-ãƒã‚¤ãƒ³ã‚¿">#</a></h2>
<h3 id="åŸºæœ¬çš„ãªãƒã‚¤ãƒ³ã‚¿">åŸºæœ¬çš„ãªãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬çš„ãªãƒã‚¤ãƒ³ã‚¿">#</a></h3>
<p>ãƒã‚¤ãƒ³ã‚¿ã¯ãƒ¡ãƒ¢ãƒªä¸Šã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä¿æŒã—ã¾ã™ã€‚<code>&amp;</code> ã§ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã—ã€<code>.*</code> ã§å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">deer</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">deer_ptr</span><span class="o">:</span><span class="w"> </span><span class="o">*</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">deer</span><span class="p">;</span><span class="w">  </span><span class="c1">// ãƒã‚¤ãƒ³ã‚¿ã‚’å–å¾—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ãƒã‚¤ãƒ³ã‚¿çµŒç”±ã§å€¤ã‚’èª­ã‚€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">deer_ptr</span><span class="p">.</span><span class="o">*</span><span class="p">;</span><span class="w">  </span><span class="c1">// 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ãƒã‚¤ãƒ³ã‚¿çµŒç”±ã§å€¤ã‚’å¤‰æ›´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">deer_ptr</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// deer ã¯ 20 ã«ãªã‚‹
</span></span></span></code></pre></div><p><code>*i32</code> ã¯ã€Œ<code>i32</code> ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã€ã‚’è¡¨ã—ã¾ã™ã€‚ãƒã‚¤ãƒ³ã‚¿ã‚’ä½¿ã†ã¨ã€é–¢æ•°é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰ã—ãŸã‚Šå¤‰æ›´ã—ãŸã‚Šã§ãã¾ã™ã€‚</p>
<h3 id="const-ãƒã‚¤ãƒ³ã‚¿">const ãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#const-ãƒã‚¤ãƒ³ã‚¿">#</a></h3>
<p>èª­ã¿å–ã‚Šå°‚ç”¨ã®ãƒã‚¤ãƒ³ã‚¿ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">moose</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">moose_ptr</span><span class="o">:</span><span class="w"> </span><span class="o">*</span><span class="kr">const</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">moose</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// èª­ã¿å–ã‚Šå°‚ç”¨
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">moose_ptr</span><span class="p">.</span><span class="o">*</span><span class="p">;</span><span class="w">  </span><span class="c1">// OK
</span></span></span><span class="line"><span class="cl"><span class="c1">// moose_ptr.* = 200;  // ã‚¨ãƒ©ãƒ¼: å¤‰æ›´ä¸å¯
</span></span></span></code></pre></div><p><code>*const i32</code> ã¯ã€Œ<code>i32</code> ã¸ã®èª­ã¿å–ã‚Šå°‚ç”¨ãƒã‚¤ãƒ³ã‚¿ã€ã‚’è¡¨ã—ã¾ã™ã€‚</p>
<h3 id="é–¢æ•°ã«ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™">é–¢æ•°ã«ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™<a hidden class="anchor" aria-hidden="true" href="#é–¢æ•°ã«ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™">#</a></h3>
<p>é–¢æ•°ã®å¼•æ•°ã¨ã—ã¦ãƒã‚¤ãƒ³ã‚¿ã‚’æ¸¡ã™ã¨ã€å‘¼ã³å‡ºã—å…ƒã®å¤‰æ•°ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">incrementFox</span><span class="p">(</span><span class="n">fox</span><span class="o">:</span><span class="w"> </span><span class="o">*</span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">fox</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">var</span><span class="w"> </span><span class="n">fox</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nf">incrementFox</span><span class="p">(</span><span class="o">&amp;</span><span class="n">fox</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// fox ã¯ 6 ã«ãªã‚‹
</span></span></span></code></pre></div><p>å€¤æ¸¡ã—ã ã¨ã‚³ãƒ”ãƒ¼ãŒä½œã‚‰ã‚Œã¾ã™ãŒã€ãƒã‚¤ãƒ³ã‚¿æ¸¡ã—ã ã¨å…ƒã®å¤‰æ•°ã‚’ç›´æ¥æ“ä½œã§ãã¾ã™ã€‚</p>
<h3 id="é…åˆ—ã¸ã®ãƒã‚¤ãƒ³ã‚¿">é…åˆ—ã¸ã®ãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#é…åˆ—ã¸ã®ãƒã‚¤ãƒ³ã‚¿">#</a></h3>
<p>é…åˆ—å…¨ä½“ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">rabbits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">rabbits_ptr</span><span class="o">:</span><span class="w"> </span><span class="o">*</span><span class="kr">const</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rabbits</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ãƒã‚¤ãƒ³ã‚¿çµŒç”±ã§é…åˆ—è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rabbits_ptr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w">  </span><span class="c1">// 3
</span></span></span></code></pre></div><p>é…åˆ—ã®ã‚µã‚¤ã‚ºã‚‚ãƒã‚¤ãƒ³ã‚¿ã®å‹ã®ä¸€éƒ¨ã«ãªã‚Šã¾ã™ã€‚</p>
<h3 id="ã‚¹ãƒ©ã‚¤ã‚¹ãƒã‚¤ãƒ³ã‚¿">ã‚¹ãƒ©ã‚¤ã‚¹ãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#ã‚¹ãƒ©ã‚¤ã‚¹ãƒã‚¤ãƒ³ã‚¿">#</a></h3>
<p>é…åˆ—ã®ãƒã‚¤ãƒ³ã‚¿ã¯ã‚¹ãƒ©ã‚¤ã‚¹ã«å¤‰æ›ã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">squirrels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">squirrel_slice</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">squirrels</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ã‚¹ãƒ©ã‚¤ã‚¹ã®ä¸€éƒ¨ã‚’å–å¾—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">sub_slice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">squirrel_slice</span><span class="p">[</span><span class="mi">1</span><span class="p">..</span><span class="mi">3</span><span class="p">];</span><span class="w">  </span><span class="c1">// [20, 30]
</span></span></span></code></pre></div><p>ã‚¹ãƒ©ã‚¤ã‚¹ã¯ãƒã‚¤ãƒ³ã‚¿ã¨é•·ã•ã®æƒ…å ±ã‚’æŒã¤ã®ã§ã€æŸ”è»Ÿã«é…åˆ—ã‚’æ‰±ãˆã¾ã™ã€‚</p>
<h3 id="ãƒãƒ«ãƒãƒã‚¤ãƒ³ã‚¿">ãƒãƒ«ãƒãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#ãƒãƒ«ãƒãƒã‚¤ãƒ³ã‚¿">#</a></h3>
<p>è¤‡æ•°ã®è¦ç´ ã‚’æŒ‡ã™ãƒã‚¤ãƒ³ã‚¿ã§ã™ã€‚é•·ã•ã®æƒ…å ±ã¯æŒã¡ã¾ã›ã‚“ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">beavers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">beaver_multi_ptr</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="o">*</span><span class="p">]</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">beavers</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">beaver_multi_ptr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w">   </span><span class="c1">// 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">beaver_multi_ptr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="w">  </span><span class="c1">// 2
</span></span></span></code></pre></div><p><code>[*]i32</code> ã¯ã€Œè¤‡æ•°ã® <code>i32</code> ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã€ã‚’è¡¨ã—ã¾ã™ã€‚C è¨€èªã¨ã®äº’æ›æ€§ã®ãŸã‚ã«ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚</p>
<h3 id="nullable-ãƒã‚¤ãƒ³ã‚¿">nullable ãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#nullable-ãƒã‚¤ãƒ³ã‚¿">#</a></h3>
<p><code>?</code> ã‚’ä½¿ã£ã¦ null ã«ãªã‚Šå¾—ã‚‹ãƒã‚¤ãƒ³ã‚¿ã‚’è¡¨ç¾ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">raccoon</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">var</span><span class="w"> </span><span class="n">raccoon_ptr</span><span class="o">:</span><span class="w"> </span><span class="o">?*</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">raccoon</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">raccoon_ptr</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">ptr</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;value: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">ptr</span><span class="p">.</span><span class="o">*</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">raccoon_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">  </span><span class="c1">// null ã«è¨­å®š
</span></span></span></code></pre></div><p>ãƒã‚¤ãƒ³ã‚¿ãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚ã‹ã‚‰ãªã„å ´åˆã«ä½¿ã„ã¾ã™ã€‚</p>
<hr>
<h2 id="9-ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°">9. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°<a hidden class="anchor" aria-hidden="true" href="#9-ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°">#</a></h2>
<h3 id="defer">defer<a hidden class="anchor" aria-hidden="true" href="#defer">#</a></h3>
<p><code>defer</code> ã¯ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã«å¼ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã®è§£æ”¾ãªã©ã«ä¾¿åˆ©ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">deferExample</span><span class="p">()</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Start</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;End (deferred)</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Middle</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã« defer ãŒå®Ÿè¡Œã•ã‚Œã‚‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="c1">// å‡ºåŠ›é †: Start -&gt; Middle -&gt; End (deferred)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>defer</code> ã¯ã‚¹ã‚³ãƒ¼ãƒ—ã®çµ‚ã‚ã‚Šã§å¿…ãšå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚é–¢æ•°ã‹ã‚‰ return ã—ã¦ã‚‚ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p>
<h3 id="è¤‡æ•°ã®-defer">è¤‡æ•°ã® defer<a hidden class="anchor" aria-hidden="true" href="#è¤‡æ•°ã®-defer">#</a></h3>
<p>è¤‡æ•°ã® <code>defer</code> ã¯ LIFOï¼ˆå¾Œå…¥ã‚Œå…ˆå‡ºã—ï¼‰ã®é †ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">multipleDeferExample</span><span class="p">()</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;1st defer</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;2nd defer</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;3rd defer</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Function body</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// å‡ºåŠ›é †: Function body -&gt; 3rd -&gt; 2nd -&gt; 1st
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>å¾Œã«æ›¸ã‹ã‚ŒãŸ <code>defer</code> ãŒå…ˆã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ãƒªã‚½ãƒ¼ã‚¹ã®ç¢ºä¿ã¨è§£æ”¾ã®é †åºã‚’é€†ã«ã™ã‚‹ã®ã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="defer-ã¨ã‚¨ãƒ©ãƒ¼ã®çµ„ã¿åˆã‚ã›">defer ã¨ã‚¨ãƒ©ãƒ¼ã®çµ„ã¿åˆã‚ã›<a hidden class="anchor" aria-hidden="true" href="#defer-ã¨ã‚¨ãƒ©ãƒ¼ã®çµ„ã¿åˆã‚ã›">#</a></h3>
<p><code>defer</code> ã¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">deferWithError</span><span class="p">(</span><span class="n">should_fail</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="o">!</span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Cleanup always happens</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">should_fail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">error</span><span class="p">.</span><span class="n">Failed</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Success</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ã‚¨ãƒ©ãƒ¼ã®æœ‰ç„¡ã«é–¢ã‚ã‚‰ãšã€ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã« <code>defer</code> ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç¢ºå®Ÿã«ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã§ãã¾ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã®å®šç¾©">ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã®å®šç¾©<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã®å®šç¾©">#</a></h3>
<p>Zig ã§ã¯ã€ã‚¨ãƒ©ãƒ¼ã‚’ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã¨ã—ã¦æ˜ç¤ºçš„ã«å®šç¾©ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">AnimalError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">error</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">TooYoung</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">TooOld</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">NotFound</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">InvalidSize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span></code></pre></div><p>ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã¯ã€ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’åˆ—æŒ™ã—ãŸã‚‚ã®ã§ã™ã€‚å‹å®‰å…¨ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒã§ãã¾ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•°-1">ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™é–¢æ•°-1">#</a></h3>
<p>é–¢æ•°ãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã€<code>!</code> ã‚’ä½¿ã„ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">checkHorseAge</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="n">AnimalError</span><span class="o">!</span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">error</span><span class="p">.</span><span class="n">TooYoung</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">error</span><span class="p">.</span><span class="n">TooOld</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// æ­£å¸¸çµ‚äº†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>AnimalError!void</code> ã¯ã€ŒAnimalError ã®ã‚¨ãƒ©ãƒ¼ã¾ãŸã¯ void ã‚’è¿”ã™ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-catch">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: catch<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-catch">#</a></h3>
<p><code>catch</code> ã§ã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰ã—ã¦å‡¦ç†ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="nf">checkHorseAge</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">|</span><span class="n">err</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Error: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">err</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span></code></pre></div><p>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰ <code>catch</code> ã®ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<code>|err|</code> ã§ã‚¨ãƒ©ãƒ¼ã®å€¤ã‚’å–å¾—ã§ãã¾ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤">#</a></h3>
<p>ã‚¨ãƒ©ãƒ¼æ™‚ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">camel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">findCamelById</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// ã‚¨ãƒ©ãƒ¼æ™‚ã¯ 0
</span></span></span></code></pre></div><p>ã‚·ãƒ³ãƒ—ãƒ«ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã—ãŸã„ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-if">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: if<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-if">#</a></h3>
<p><code>if</code> ã§ã‚¨ãƒ©ãƒ¼ã‹æ­£å¸¸å€¤ã‹ã‚’åˆ¤å®šã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">findCamelById</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="o">|</span><span class="n">camel_id</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;found: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">camel_id</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">|</span><span class="n">err</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;error: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">err</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ­£å¸¸å€¤ã¯ <code>|camel_id|</code>ã€ã‚¨ãƒ©ãƒ¼ã¯ <code>else |err|</code> ã§å–å¾—ã—ã¾ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-try">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: try<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-try">#</a></h3>
<p><code>try</code> ã¯ã‚¨ãƒ©ãƒ¼ã‚’å‘¼ã³å‡ºã—å…ƒã«ä¼æ’­ã•ã›ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">processGoat</span><span class="p">(</span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="o">!</span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="nf">checkHorseAge</span><span class="p">(</span><span class="n">age</span><span class="p">);</span><span class="w">  </span><span class="c1">// ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°å³åº§ã« return
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Age is valid</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">age</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>try</code> ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å±•é–‹ã•ã‚Œã¾ã™ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// try checkHorseAge(age); ã¯ä»¥ä¸‹ã¨åŒã˜æ„å‘³
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">checkHorseAge</span><span class="p">(</span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">|</span><span class="n">err</span><span class="o">|</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">err</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>ã¤ã¾ã‚Šã€<code>try</code> ã¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰è‡ªå‹•çš„ã« <code>return</code> ã—ã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç°¡æ½”ã«æ›¸ã‘ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">processGoat</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">   </span><span class="c1">// æˆåŠŸ: &#34;Age is valid&#34; ã¨å‡ºåŠ›
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nf">processGoat</span><span class="p">(</span><span class="mi">35</span><span class="p">);</span><span class="w">   </span><span class="c1">// error.TooOld ã‚’è¿”ã™ï¼ˆå‘¼ã³å‡ºã—å…ƒã«ã‚¨ãƒ©ãƒ¼ãŒä¼æ’­ï¼‰
</span></span></span></code></pre></div><p><code>catch</code> ã§ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹å ´åˆã¨ã®é•ã„ï¼š</p>
<ul>
<li><code>try</code>: ã‚¨ãƒ©ãƒ¼ã‚’ä¸Šã«æŠ•ã’ã‚‹ï¼ˆä¼æ’­ï¼‰</li>
<li><code>catch</code>: ã‚¨ãƒ©ãƒ¼ã‚’ãã®å ´ã§å‡¦ç†ã™ã‚‹</li>
</ul>
<h3 id="ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-errdefer">ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°: errdefer<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°-errdefer">#</a></h3>
<p>ã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã«ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">yak</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">blk</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">errdefer</span><span class="w"> </span><span class="n">yak</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«å®Ÿè¡Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">findCamelById</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="k">break</span><span class="w"> </span><span class="o">:</span><span class="n">blk</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">yak</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>errdefer</code> ã¯ãƒ–ãƒ­ãƒƒã‚¯ãŒã‚¨ãƒ©ãƒ¼ã§çµ‚äº†ã™ã‚‹ã¨ãã ã‘å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ã®è§£æ”¾ãªã©ã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="è¤‡æ•°ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆ">è¤‡æ•°ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆ<a hidden class="anchor" aria-hidden="true" href="#è¤‡æ•°ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆ">#</a></h3>
<p><code>||</code> ã§è¤‡æ•°ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã‚’çµåˆã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">FileError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">error</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">FileNotFound</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">PermissionDenied</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">fn</span><span class="w"> </span><span class="nf">loadData</span><span class="p">(</span><span class="n">filename</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">AnimalError</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">FileError</span><span class="p">)</span><span class="o">!</span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">filename</span><span class="p">.</span><span class="n">len</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">error</span><span class="p">.</span><span class="n">NotFound</span><span class="p">;</span><span class="w">  </span><span class="c1">// AnimalError ã®ã‚¨ãƒ©ãƒ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">filename</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">error</span><span class="p">.</span><span class="n">PermissionDenied</span><span class="p">;</span><span class="w">  </span><span class="c1">// FileError ã®ã‚¨ãƒ©ãƒ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&#34;data&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">data1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">loadData</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">|</span><span class="n">err</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// err ã¯ AnimalError.NotFound
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Error: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">err</span><span class="p">});</span><span class="w">  </span><span class="c1">// å‡ºåŠ›: Error: error.NotFound
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">data2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">loadData</span><span class="p">(</span><span class="s">&#34;/secret&#34;</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">|</span><span class="n">err</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// err ã¯ FileError.PermissionDenied
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Error: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">err</span><span class="p">});</span><span class="w">  </span><span class="c1">// å‡ºåŠ›: Error: error.PermissionDenied
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">data3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">loadData</span><span class="p">(</span><span class="s">&#34;file.txt&#34;</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="s">&#34;default&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// æˆåŠŸ: data3 = &#34;data&#34;
</span></span></span></code></pre></div><p>è¤‡æ•°ã®ç¨®é¡ã®ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™å¯èƒ½æ€§ãŒã‚ã‚‹é–¢æ•°ã§ä½¿ã„ã¾ã™ã€‚<code>(AnimalError || FileError)</code> ã¯ä¸¡æ–¹ã®ã‚¨ãƒ©ãƒ¼ã‚»ãƒƒãƒˆã®ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã›ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ã®åˆ‡ã‚Šæ›¿ãˆ">ã‚¨ãƒ©ãƒ¼ã®åˆ‡ã‚Šæ›¿ãˆ<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ã®åˆ‡ã‚Šæ›¿ãˆ">#</a></h3>
<p><code>switch</code> ã§ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ã”ã¨ã«å‡¦ç†ã‚’åˆ†ã‘ã‚‰ã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="nf">checkHorseAge</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">|</span><span class="n">err</span><span class="o">|</span><span class="w"> </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">error</span><span class="p">.</span><span class="n">TooYoung</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Too young</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">error</span><span class="p">.</span><span class="n">TooOld</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Too old</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">error</span><span class="p">.</span><span class="n">NotFound</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Not found</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">error</span><span class="p">.</span><span class="n">InvalidSize</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Invalid size</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span></code></pre></div><p>ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡ã«å¿œã˜ã¦ç•°ãªã‚‹å‡¦ç†ã‚’ã—ãŸã„ã¨ãã«ä¾¿åˆ©ã§ã™ã€‚</p>
<hr>
<h2 id="10-ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹">10. ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹<a hidden class="anchor" aria-hidden="true" href="#10-ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹">#</a></h2>
<h3 id="ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®å®£è¨€">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®å®£è¨€<a hidden class="anchor" aria-hidden="true" href="#ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®å®£è¨€">#</a></h3>
<p><code>?</code> ã‚’ä½¿ã£ã¦ null ã«ãªã‚Šå¾—ã‚‹å€¤ã‚’è¡¨ç¾ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">seal</span><span class="o">:</span><span class="w"> </span><span class="o">?</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">empty_seal</span><span class="o">:</span><span class="w"> </span><span class="o">?</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p><code>?i32</code> ã¯ã€Œnull ã¾ãŸã¯ <code>i32</code>ã€ã‚’è¡¨ã—ã¾ã™ã€‚å€¤ãŒå­˜åœ¨ã—ãªã„ã‹ã‚‚ã—ã‚Œãªã„çŠ¶æ³ã‚’å‹ã§è¡¨ç¾ã§ãã¾ã™ã€‚</p>
<h3 id="ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—-if">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—: if<a hidden class="anchor" aria-hidden="true" href="#ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—-if">#</a></h3>
<p><code>if</code> ã§ null ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€å€¤ã‚’å–ã‚Šå‡ºã›ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">seal</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">value</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;has value: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">value</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;is null</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>å€¤ãŒå­˜åœ¨ã™ã‚Œã° <code>|value|</code> ã§å–ã‚Šå‡ºã—ã€null ãªã‚‰ <code>else</code> ãƒ–ãƒ­ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚</p>
<h3 id="ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—-orelse">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—: orelse<a hidden class="anchor" aria-hidden="true" href="#ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ã‚¢ãƒ³ãƒ©ãƒƒãƒ—-orelse">#</a></h3>
<p>null ã®ã¨ãã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä½¿ãˆã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">whale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">empty_seal</span><span class="w"> </span><span class="k">orelse</span><span class="w"> </span><span class="mi">999</span><span class="p">;</span><span class="w">  </span><span class="c1">// null ãªã‚‰ 999
</span></span></span></code></pre></div><h3 id="ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•°-1">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã‚’è¿”ã™é–¢æ•°-1">#</a></h3>
<p>å€¤ãŒè¦‹ã¤ã‹ã‚‰ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹é–¢æ•°ã§ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">findPenguinById</span><span class="p">(</span><span class="n">id</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">penguin1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">findPenguinById</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">   </span><span class="c1">// ?i32 = 20
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">penguin2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">findPenguinById</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">);</span><span class="w">   </span><span class="c1">// ?i32 = null
</span></span></span></code></pre></div><p>ã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ã‘ã©å€¤ãŒãªã„çŠ¶æ³ã‚’è¡¨ã™ã®ã«é©ã—ã¦ã„ã¾ã™ã€‚</p>
<h3 id="ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ãƒã‚¤ãƒ³ã‚¿">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ãƒã‚¤ãƒ³ã‚¿<a hidden class="anchor" aria-hidden="true" href="#ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ã®ãƒã‚¤ãƒ³ã‚¿">#</a></h3>
<p>ãƒã‚¤ãƒ³ã‚¿ã‚‚ null ã«ãªã‚Šå¾—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">otter</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">var</span><span class="w"> </span><span class="n">otter_ptr</span><span class="o">:</span><span class="w"> </span><span class="o">?*</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">otter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">otter_ptr</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">ptr</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ptr</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="p">;</span><span class="w">  </span><span class="c1">// å€¤ã‚’å¤‰æ›´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">otter_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">  </span><span class="c1">// null ã«è¨­å®š
</span></span></span></code></pre></div><p>ãƒã‚¤ãƒ³ã‚¿ãŒæœ‰åŠ¹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã¾ã™ã€‚</p>
<h3 id="ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã¨-while-ãƒ«ãƒ¼ãƒ—">ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã¨ while ãƒ«ãƒ¼ãƒ—<a hidden class="anchor" aria-hidden="true" href="#ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ã¨-while-ãƒ«ãƒ¼ãƒ—">#</a></h3>
<p>null ã«ãªã‚‹ã¾ã§ãƒ«ãƒ¼ãƒ—ã‚’ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">narwhal</span><span class="o">:</span><span class="w"> </span><span class="o">?</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">narwhal</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">value</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">value</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">narwhal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">narwhal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å‡ºåŠ›: 5 4 3 2 1
</span></span></span></code></pre></div><p>æ¡ä»¶ã‚’æŸ”è»Ÿã«æ›¸ã‘ã¦ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="-operatorå¼·åˆ¶ã‚¢ãƒ³ãƒ©ãƒƒãƒ—">.? operatorï¼ˆå¼·åˆ¶ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ï¼‰<a hidden class="anchor" aria-hidden="true" href="#-operatorå¼·åˆ¶ã‚¢ãƒ³ãƒ©ãƒƒãƒ—">#</a></h3>
<p>null ã§ãªã„ã“ã¨ãŒç¢ºå®Ÿãªå ´åˆã«ä½¿ç”¨ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">certain_seal</span><span class="o">:</span><span class="w"> </span><span class="o">?</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">777</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">unwrapped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">certain_seal</span><span class="p">.</span><span class="o">?</span><span class="p">;</span><span class="w">  </span><span class="c1">// 777
</span></span></span><span class="line"><span class="cl"><span class="c1">// null ã®å ´åˆã¯ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹
</span></span></span></code></pre></div><p><code>.?</code> ã§å¼·åˆ¶çš„ã«å€¤ã‚’å–ã‚Šå‡ºã—ã¾ã™ã€‚null ã ã£ãŸã‚‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒåœæ­¢ã™ã‚‹ã®ã§ã€ç¢ºå®Ÿã«å€¤ãŒã‚ã‚‹ã¨ãã ã‘ä½¿ã„ã¾ã—ã‚‡ã†ã€‚</p>
<hr>
<h2 id="11-ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è¨ˆç®—">11. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è¨ˆç®—<a hidden class="anchor" aria-hidden="true" href="#11-ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚è¨ˆç®—">#</a></h2>
<p>Zig ã®å¼·åŠ›ãªæ©Ÿèƒ½ã® 1 ã¤ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è¨ˆç®—ã‚’å®Ÿè¡Œã§ãã‚‹ã“ã¨ã§ã™ã€‚å®Ÿè¡Œæ™‚ã®ã‚³ã‚¹ãƒˆã‚’ã‚¼ãƒ­ã«ã§ãã¾ã™ã€‚</p>
<h3 id="ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°">#</a></h3>
<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å€¤ãŒç¢ºå®šã™ã‚‹å®šæ•°ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">lynx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">  </span><span class="c1">// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å€¤ãŒæ±ºå®š
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">bobcat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">comptime</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">  </span><span class="c1">// æ˜ç¤ºçš„ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°
</span></span></span></code></pre></div><p><code>const</code> ã§å®£è¨€ã—ãŸå€¤ã¯åŸºæœ¬çš„ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚å®šæ•°ã§ã™ãŒã€<code>comptime</code> ã§æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<h3 id="ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–¢æ•°">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–¢æ•°">#</a></h3>
<p>é–¢æ•°ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å®Ÿè¡Œã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">factorialTiger</span><span class="p">(</span><span class="kr">comptime</span><span class="w"> </span><span class="n">n</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">factorialTiger</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">tiger_fact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">comptime</span><span class="w"> </span><span class="nf">factorialTiger</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w">  </span><span class="c1">// 120ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è¨ˆç®—ï¼‰
</span></span></span></code></pre></div><p><code>comptime</code> å¼•æ•°ã‚’å—ã‘å–ã‚‹é–¢æ•°ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è©•ä¾¡ã•ã‚Œã¾ã™ã€‚å®Ÿè¡Œæ™‚ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<h3 id="ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°-1">ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°-1">#</a></h3>
<p>å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚‹é–¢æ•°ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">maxLion</span><span class="p">(</span><span class="kr">comptime</span><span class="w"> </span><span class="n">T</span><span class="o">:</span><span class="w"> </span><span class="kt">type</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="o">:</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">:</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">max_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">maxLion</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">max_float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">maxLion</span><span class="p">(</span><span class="kt">f32</span><span class="p">,</span><span class="w"> </span><span class="mf">3.14</span><span class="p">,</span><span class="w"> </span><span class="mf">2.71</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p><code>comptime T: type</code> ã§å‹ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘å–ã‚Šã¾ã™ã€‚æ§˜ã€…ãªå‹ã§å‹•ä½œã™ã‚‹æ±ç”¨çš„ãªé–¢æ•°ã‚’æ›¸ã‘ã¾ã™ã€‚</p>
<h3 id="ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«é…åˆ—ã‚’ç”Ÿæˆ">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«é…åˆ—ã‚’ç”Ÿæˆ<a hidden class="anchor" aria-hidden="true" href="#ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«é…åˆ—ã‚’ç”Ÿæˆ">#</a></h3>
<p>é…åˆ—ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ç”Ÿæˆã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">createPandasArray</span><span class="p">(</span><span class="kr">comptime</span><span class="w"> </span><span class="n">size</span><span class="o">:</span><span class="w"> </span><span class="kt">usize</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">size</span><span class="p">]</span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">var</span><span class="w"> </span><span class="n">pandas</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="n">size</span><span class="p">]</span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">pandas</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">..)</span><span class="w"> </span><span class="o">|*</span><span class="n">panda</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">panda</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@intCast</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">pandas</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">pandas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">createPandasArray</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w">  </span><span class="c1">// [0, 10, 20, 30, 40]
</span></span></span></code></pre></div><p>é…åˆ—ã®ã‚µã‚¤ã‚ºã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ±ºå®šã•ã‚Œã¾ã™ã€‚</p>
<h3 id="ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ¡ä»¶åˆ†å²">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ¡ä»¶åˆ†å²<a hidden class="anchor" aria-hidden="true" href="#ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ¡ä»¶åˆ†å²">#</a></h3>
<p>æ¡ä»¶ã«ã‚ˆã£ã¦ç•°ãªã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">processJaguar</span><span class="p">(</span><span class="kr">comptime</span><span class="w"> </span><span class="n">is_large</span><span class="o">:</span><span class="w"> </span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_large</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">jaguar1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">processJaguar</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">   </span><span class="c1">// 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">jaguar2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">processJaguar</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">  </span><span class="c1">// 15
</span></span></span></code></pre></div><p><code>comptime</code> ã®æ¡ä»¶åˆ†å²ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«è©•ä¾¡ã•ã‚Œã¦ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã¯å‰Šé™¤ã•ã‚Œã¾ã™ã€‚</p>
<h3 id="å‹ã‚’è¿”ã™é–¢æ•°">å‹ã‚’è¿”ã™é–¢æ•°<a hidden class="anchor" aria-hidden="true" href="#å‹ã‚’è¿”ã™é–¢æ•°">#</a></h3>
<p>é–¢æ•°ãŒå‹ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã§ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ãªæ§‹é€ ä½“ã‚’ä½œã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">fn</span><span class="w"> </span><span class="nf">PairOfAnimals</span><span class="p">(</span><span class="kr">comptime</span><span class="w"> </span><span class="n">T</span><span class="o">:</span><span class="w"> </span><span class="kt">type</span><span class="p">)</span><span class="w"> </span><span class="kt">type</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">first</span><span class="o">:</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">second</span><span class="o">:</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">swap</span><span class="p">(</span><span class="n">self</span><span class="o">:</span><span class="w"> </span><span class="o">*</span><span class="nb">@This</span><span class="p">())</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="kr">const</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">first</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">second</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">second</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ä½¿ç”¨ä¾‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">var</span><span class="w"> </span><span class="n">bear_pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">PairOfAnimals</span><span class="p">(</span><span class="kt">i32</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">second</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">bear_pair</span><span class="p">.</span><span class="nf">swap</span><span class="p">();</span><span class="w">  </span><span class="c1">// first=20, second=10
</span></span></span></code></pre></div><p><code>@This()</code> ã¯ç¾åœ¨ã®å‹ã‚’è¿”ã—ã¾ã™ã€‚å‹ã‚’å‹•çš„ã«ç”Ÿæˆã§ãã‚‹ã®ãŒ Zig ã®ç‰¹å¾´ã§ã™ã€‚</p>
<h3 id="ãƒ“ãƒ«ãƒˆã‚¤ãƒ³å‹æƒ…å ±">ãƒ“ãƒ«ãƒˆã‚¤ãƒ³å‹æƒ…å ±<a hidden class="anchor" aria-hidden="true" href="#ãƒ“ãƒ«ãƒˆã‚¤ãƒ³å‹æƒ…å ±">#</a></h3>
<p>å‹ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å–å¾—ã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// å‹ã®ã‚µã‚¤ã‚º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">size_i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@sizeOf</span><span class="p">(</span><span class="kt">i32</span><span class="p">);</span><span class="w">  </span><span class="c1">// 4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å‹ã®åå‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@typeName</span><span class="p">(</span><span class="kt">i32</span><span class="p">);</span><span class="w">  </span><span class="c1">// &#34;i32&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å‹æƒ…å ±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@typeInfo</span><span class="p">(</span><span class="kt">i32</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">int</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">|</span><span class="n">int_info</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// int_info.signedness, int_info.bits
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ä½¿ãˆã¾ã™ã€‚</p>
<h3 id="inline-for">inline for<a hidden class="anchor" aria-hidden="true" href="#inline-for">#</a></h3>
<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ«ãƒ¼ãƒ—ã‚’å±•é–‹ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="p">]</span><span class="kt">i32</span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">var</span><span class="w"> </span><span class="n">sum</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">inline</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">num</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">num</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ãƒ«ãƒ¼ãƒ—ãŒå±•é–‹ã•ã‚Œã¦ã€å®Ÿè¡Œæ™‚ã«ã¯ãƒ«ãƒ¼ãƒ—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒãªããªã‚Šã¾ã™ã€‚</p>
<hr>
<h2 id="12-ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿">12. ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿<a hidden class="anchor" aria-hidden="true" href="#12-ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿">#</a></h2>
<p>Zig ã§ã¯æ˜ç¤ºçš„ã«ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã‚’ç®¡ç†ã—ã¾ã™ã€‚ãƒ¡ãƒ¢ãƒªã®ç¢ºä¿ã¨è§£æ”¾ã‚’æ„è­˜çš„ã«è¡Œã„ã¾ã™ã€‚</p>
<h3 id="generalpurposeallocator">GeneralPurposeAllocator<a hidden class="anchor" aria-hidden="true" href="#generalpurposeallocator">#</a></h3>
<p>æ¨å¥¨ã•ã‚Œã‚‹æ±ç”¨ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">gpa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">heap</span><span class="p">.</span><span class="nf">GeneralPurposeAllocator</span><span class="p">(.{}){};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">defer</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gpa</span><span class="p">.</span><span class="nf">deinit</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">allocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gpa</span><span class="p">.</span><span class="nf">allocator</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><p><code>defer</code> ã§ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ã¨ãã«è‡ªå‹•çš„ã«ãƒ¡ãƒ¢ãƒªã‚’è§£æ”¾ã—ã¾ã™ã€‚ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’é˜²ã’ã¾ã™ã€‚</p>
<h3 id="å˜ä¸€ã®å€¤ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ">å˜ä¸€ã®å€¤ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ<a hidden class="anchor" aria-hidden="true" href="#å˜ä¸€ã®å€¤ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ">#</a></h3>
<p>å˜ä¸€ã®å€¤ã‚’ãƒ’ãƒ¼ãƒ—ã«ç¢ºä¿ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">elephant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="kt">i32</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">defer</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">destroy</span><span class="p">(</span><span class="n">elephant</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">elephant</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p><code>create</code> ã§ç¢ºä¿ã€<code>destroy</code> ã§è§£æ”¾ã—ã¾ã™ã€‚</p>
<h3 id="é…åˆ—ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ">é…åˆ—ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ<a hidden class="anchor" aria-hidden="true" href="#é…åˆ—ã‚’ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆ">#</a></h3>
<p>å‹•çš„ã‚µã‚¤ã‚ºã®é…åˆ—ã‚’ç¢ºä¿ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">tigers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">defer</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">free</span><span class="p">(</span><span class="n">tigers</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">tigers</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">..)</span><span class="w"> </span><span class="o">|*</span><span class="n">tiger</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">tiger</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@intCast</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>alloc</code> ã§é…åˆ—ã‚’ç¢ºä¿ã€<code>free</code> ã§è§£æ”¾ã—ã¾ã™ã€‚å®Ÿè¡Œæ™‚ã«ã‚µã‚¤ã‚ºãŒæ±ºã¾ã‚‹é…åˆ—ã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="arraylist">ArrayList<a hidden class="anchor" aria-hidden="true" href="#arraylist">#</a></h3>
<p>å‹•çš„é…åˆ—ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚è¦ç´ æ•°ãŒå¢—ãˆãŸã‚Šæ¸›ã£ãŸã‚Šã™ã‚‹é…åˆ—ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">leopards</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="nf">ArrayList</span><span class="p">(</span><span class="kt">i32</span><span class="p">).</span><span class="nf">initCapacity</span><span class="p">(</span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">defer</span><span class="w"> </span><span class="n">leopards</span><span class="p">.</span><span class="nf">deinit</span><span class="p">(</span><span class="n">allocator</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">try</span><span class="w"> </span><span class="n">leopards</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">try</span><span class="w"> </span><span class="n">leopards</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">try</span><span class="w"> </span><span class="n">leopards</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ã‚¢ã‚¯ã‚»ã‚¹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">leopards</span><span class="p">.</span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="n">leopard</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{} &#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">leopard</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>append</code> ã§è¦ç´ ã‚’è¿½åŠ ã§ãã¾ã™ã€‚è‡ªå‹•çš„ã«ã‚µã‚¤ã‚ºãŒæ‹¡å¼µã•ã‚Œã¾ã™ã€‚</p>
<h3 id="arenaallocator">ArenaAllocator<a hidden class="anchor" aria-hidden="true" href="#arenaallocator">#</a></h3>
<p>ã¾ã¨ã‚ã¦è§£æ”¾ã™ã‚‹ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">arena</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">heap</span><span class="p">.</span><span class="n">ArenaAllocator</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="n">allocator</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">defer</span><span class="w"> </span><span class="n">arena</span><span class="p">.</span><span class="nf">deinit</span><span class="p">();</span><span class="w">  </span><span class="c1">// ã™ã¹ã¦ã®ãƒ¡ãƒ¢ãƒªã‚’ä¸€åº¦ã«è§£æ”¾
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">arena_allocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arena</span><span class="p">.</span><span class="nf">allocator</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">bears</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">arena_allocator</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">wolves</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">arena_allocator</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å€‹åˆ¥ã® free ã¯ä¸è¦
</span></span></span></code></pre></div><p><code>arena.deinit()</code> ã§ä¸€æ‹¬è§£æ”¾ã§ãã¾ã™ã€‚å€‹åˆ¥ã« <code>free</code> ã—ãªãã¦ã„ã„ã®ã§æ¥½ã¡ã‚“ã§ã™ã€‚</p>
<h3 id="fixedbufferallocator">FixedBufferAllocator<a hidden class="anchor" aria-hidden="true" href="#fixedbufferallocator">#</a></h3>
<p>å›ºå®šã‚µã‚¤ã‚ºãƒãƒƒãƒ•ã‚¡ã‚’ä½¿ç”¨ã™ã‚‹ã‚¢ãƒ­ã‚±ãƒ¼ã‚¿ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">buffer</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1024</span><span class="p">]</span><span class="kt">u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">var</span><span class="w"> </span><span class="n">fba</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">heap</span><span class="p">.</span><span class="n">FixedBufferAllocator</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buffer</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">fba_allocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fba</span><span class="p">.</span><span class="nf">allocator</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">rabbits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">fba_allocator</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>ã‚¹ã‚¿ãƒƒã‚¯ã«ç¢ºä¿ã—ãŸãƒãƒƒãƒ•ã‚¡ã‚’ä½¿ã„ã¾ã™ã€‚ãƒ’ãƒ¼ãƒ—ç¢ºä¿ãŒä¸è¦ãªå ´åˆã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3 id="hashmap">HashMap<a hidden class="anchor" aria-hidden="true" href="#hashmap">#</a></h3>
<p>ãƒãƒƒã‚·ãƒ¥ãƒãƒƒãƒ—ã®ä½¿ç”¨ä¾‹ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">var</span><span class="w"> </span><span class="n">deer_map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="nf">StringHashMap</span><span class="p">(</span><span class="kt">i32</span><span class="p">).</span><span class="nf">init</span><span class="p">(</span><span class="n">allocator</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">defer</span><span class="w"> </span><span class="n">deer_map</span><span class="p">.</span><span class="nf">deinit</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">try</span><span class="w"> </span><span class="n">deer_map</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s">&#34;red_deer&#34;</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">try</span><span class="w"> </span><span class="n">deer_map</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s">&#34;roe_deer&#34;</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// å€¤ã®å–å¾—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deer_map</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s">&#34;red_deer&#34;</span><span class="p">))</span><span class="w"> </span><span class="o">|</span><span class="n">weight</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;weight: {}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">weight</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">var</span><span class="w"> </span><span class="n">iterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">deer_map</span><span class="p">.</span><span class="nf">iterator</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">iterator</span><span class="p">.</span><span class="nf">next</span><span class="p">())</span><span class="w"> </span><span class="o">|</span><span class="n">entry</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">std</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;{s}={}</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{</span><span class="n">entry</span><span class="p">.</span><span class="n">key_ptr</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">entry</span><span class="p">.</span><span class="n">value_ptr</span><span class="p">.</span><span class="o">*</span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã‚’ç®¡ç†ã—ã¾ã™ã€‚<code>put</code> ã§è¿½åŠ ã€<code>get</code> ã§å–å¾—ã€<code>iterator</code> ã§å…¨è¦ç´ ã‚’èµ°æŸ»ã§ãã¾ã™ã€‚</p>
<h3 id="æ–‡å­—åˆ—ã®è¤‡è£½">æ–‡å­—åˆ—ã®è¤‡è£½<a hidden class="anchor" aria-hidden="true" href="#æ–‡å­—åˆ—ã®è¤‡è£½">#</a></h3>
<p>æ–‡å­—åˆ—ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">original_seal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Seal&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">const</span><span class="w"> </span><span class="n">copied_seal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">dupe</span><span class="p">(</span><span class="kt">u8</span><span class="p">,</span><span class="w"> </span><span class="n">original_seal</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">defer</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">free</span><span class="p">(</span><span class="n">copied_seal</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p><code>dupe</code> ã§è¤‡è£½ã‚’ä½œã‚Šã¾ã™ã€‚å…ƒã®æ–‡å­—åˆ—ã¨ã¯åˆ¥ã®ãƒ¡ãƒ¢ãƒªé ˜åŸŸã«ç¢ºä¿ã•ã‚Œã¾ã™ã€‚</p>
<hr>
<h2 id="13-ãƒ†ã‚¹ãƒˆ">13. ãƒ†ã‚¹ãƒˆ<a hidden class="anchor" aria-hidden="true" href="#13-ãƒ†ã‚¹ãƒˆ">#</a></h2>
<p>Zig ã«ã¯çµ„ã¿è¾¼ã¿ã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚<code>test</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã¾ã™ã€‚</p>
<h3 id="åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆ">åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆ<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆ">#</a></h3>
<p><code>test</code> ãƒ–ãƒ­ãƒƒã‚¯ã§ãƒ†ã‚¹ãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">const</span><span class="w"> </span><span class="n">std</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@import</span><span class="p">(</span><span class="s">&#34;std&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">test</span><span class="w"> </span><span class="s">&#34;basic addition&#34;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqual</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>zig test filename.zig</code> ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚<code>std.testing.expectEqual</code> ã§å€¤ãŒç­‰ã—ã„ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚</p>
<h3 id="ãƒ†ã‚¹ãƒˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³">ãƒ†ã‚¹ãƒˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³<a hidden class="anchor" aria-hidden="true" href="#ãƒ†ã‚¹ãƒˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³">#</a></h3>
<p>æ§˜ã€…ãªã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">test</span><span class="w"> </span><span class="s">&#34;various assertions&#34;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// ç­‰ä¾¡æ€§ãƒã‚§ãƒƒã‚¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqual</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// çœŸå½å€¤ãƒã‚§ãƒƒã‚¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expect</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expect</span><span class="p">(</span><span class="o">!</span><span class="kc">false</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// æ–‡å­—åˆ—ã®ç­‰ä¾¡æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqualStrings</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;hello&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>expect</code> ã¯çœŸå½å€¤ã‚’ã€<code>expectEqual</code> ã¯å€¤ã®ç­‰ä¾¡æ€§ã‚’ã€<code>expectEqualStrings</code> ã¯æ–‡å­—åˆ—ã®ç­‰ä¾¡æ€§ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚</p>
<h3 id="ã‚¨ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ">ã‚¨ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ<a hidden class="anchor" aria-hidden="true" href="#ã‚¨ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ">#</a></h3>
<p>ã‚¨ãƒ©ãƒ¼ãŒæ­£ã—ãè¿”ã•ã‚Œã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">divide</span><span class="p">(</span><span class="n">a</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="o">!</span><span class="kt">i32</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">error</span><span class="p">.</span><span class="n">DivisionByZero</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">@divTrunc</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">test</span><span class="w"> </span><span class="s">&#34;divide success&#34;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="nf">divide</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqual</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">test</span><span class="w"> </span><span class="s">&#34;divide by zero error&#34;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">divide</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectError</span><span class="p">(</span><span class="k">error</span><span class="p">.</span><span class="n">DivisionByZero</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>expectError</code> ã§ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ãŒè¿”ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p>
<h3 id="æ§‹é€ ä½“ã®ãƒ†ã‚¹ãƒˆ">æ§‹é€ ä½“ã®ãƒ†ã‚¹ãƒˆ<a hidden class="anchor" aria-hidden="true" href="#æ§‹é€ ä½“ã®ãƒ†ã‚¹ãƒˆ">#</a></h3>
<p>æ§‹é€ ä½“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="kr">pub</span><span class="w"> </span><span class="kr">const</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="kr">const</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">age</span><span class="o">:</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">isAdult</span><span class="p">(</span><span class="n">self</span><span class="o">:</span><span class="w"> </span><span class="n">Animal</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">test</span><span class="w"> </span><span class="s">&#34;Animal struct&#34;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Animal</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;Whiskers&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqualStrings</span><span class="p">(</span><span class="s">&#34;Whiskers&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">cat</span><span class="p">.</span><span class="n">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">cat</span><span class="p">.</span><span class="n">age</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expect</span><span class="p">(</span><span class="o">!</span><span class="n">cat</span><span class="p">.</span><span class="nf">isAdult</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>æ§‹é€ ä½“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚</p>
<h3 id="ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ">ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ<a hidden class="anchor" aria-hidden="true" href="#ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ">#</a></h3>
<p><code>std.testing.allocator</code> ã‚’ä½¿ã£ã¦ãƒ¡ãƒ¢ãƒªã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã§ãã¾ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="k">test</span><span class="w"> </span><span class="s">&#34;allocator test&#34;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">allocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="n">allocator</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kr">const</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span><span class="nf">free</span><span class="p">(</span><span class="n">numbers</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">..)</span><span class="w"> </span><span class="o">|*</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">num</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@intCast</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="n">testing</span><span class="p">.</span><span class="nf">expectEqual</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>std.testing.allocator</code> ã¯ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’æ¤œå‡ºã—ã¦ãã‚Œã¾ã™ã€‚<code>defer</code> ã§ç¢ºå®Ÿã«è§£æ”¾ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>
<h2 id="14-ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«">14. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«<a hidden class="anchor" aria-hidden="true" href="#14-ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«">#</a></h2>
<p>ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã™ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// lib.zig
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">greet</span><span class="p">()</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">stg</span><span class="p">.</span><span class="n">debug</span><span class="p">.</span><span class="nf">print</span><span class="p">(</span><span class="s">&#34;Hello</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="p">.{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zig" data-lang="zig"><span class="line"><span class="cl"><span class="c1">// main.zig
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span><span class="w"> </span><span class="n">lib</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">@import</span><span class="p">(</span><span class="s">&#34;lib.zig&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">lib</span><span class="p">.</span><span class="nf">greet</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><h2 id="å‚™è€ƒ">å‚™è€ƒ<a hidden class="anchor" aria-hidden="true" href="#å‚™è€ƒ">#</a></h2>
<p>zig ã«ã¯ãã®ä»– C è¨€èªé€£æºã€ã‚¢ã‚»ãƒ³ãƒ–ãƒªåŸ‹ã‚è¾¼ã¿ã€éåŒæœŸå‡¦ç†ã€ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç­‰ã®æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã‚‹ãã†ã§ã™ã€‚</p>
<h2 id="ã•ã‚‰ã«å­¦ã¶ãŸã‚ã«">ã•ã‚‰ã«å­¦ã¶ãŸã‚ã«<a hidden class="anchor" aria-hidden="true" href="#ã•ã‚‰ã«å­¦ã¶ãŸã‚ã«">#</a></h2>
<ul>
<li><a href="https://ziglang.org/documentation/master/#Zig-Language-Reference">Zig è¨€èªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a></li>
<li><a href="https://ziglang.org/documentation/master/std/">Zig æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</a></li>
</ul>
<p>å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯è©³ã—ã„æƒ…å ±ãŒè¼‰ã£ã¦ã„ã¾ã™ã€‚æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚å……å®Ÿã—ã¦ã„ã‚‹ã®ã§ã€ãœã²ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="https://jedipunkz.rocks/preview/post/duckdb/">
    <span class="title">Â« Prev</span>
    <br>
    <span>DuckDB ã«å…¥é–€ã—ã¦ã¿ãŸ</span>
  </a>
  <a class="next" href="https://jedipunkz.rocks/preview/post/typescript-learning/">
    <span class="title">Next Â»</span>
    <br>
    <span>TypeScript å…¥é–€: æ§‹æ–‡é›†</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Zig å…¥é–€: æ§‹æ–‡é›† on x"
            href="https://x.com/intent/tweet/?text=Zig%20%e5%85%a5%e9%96%80%3a%20%e6%a7%8b%e6%96%87%e9%9b%86&amp;url=https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Zig å…¥é–€: æ§‹æ–‡é›† on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f&amp;title=Zig%20%e5%85%a5%e9%96%80%3a%20%e6%a7%8b%e6%96%87%e9%9b%86&amp;summary=Zig%20%e5%85%a5%e9%96%80%3a%20%e6%a7%8b%e6%96%87%e9%9b%86&amp;source=https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Zig å…¥é–€: æ§‹æ–‡é›† on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f&title=Zig%20%e5%85%a5%e9%96%80%3a%20%e6%a7%8b%e6%96%87%e9%9b%86">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Zig å…¥é–€: æ§‹æ–‡é›† on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Zig å…¥é–€: æ§‹æ–‡é›† on whatsapp"
            href="https://api.whatsapp.com/send?text=Zig%20%e5%85%a5%e9%96%80%3a%20%e6%a7%8b%e6%96%87%e9%9b%86%20-%20https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Zig å…¥é–€: æ§‹æ–‡é›† on telegram"
            href="https://telegram.me/share/url?text=Zig%20%e5%85%a5%e9%96%80%3a%20%e6%a7%8b%e6%96%87%e9%9b%86&amp;url=https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Zig å…¥é–€: æ§‹æ–‡é›† on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Zig%20%e5%85%a5%e9%96%80%3a%20%e6%a7%8b%e6%96%87%e9%9b%86&u=https%3a%2f%2fjedipunkz.rocks%2fpreview%2fpost%2fzig-tutorial%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://jedipunkz.rocks/preview/">jedipunkz ğŸš€ ã®ãƒ–ãƒ­ã‚°</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
