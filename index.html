<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.148.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>jedipunkz 🚀 のブログ</title>
<meta name="keywords" content="SRE, Kubernetes, DevOps, Infrastructure, Cloud, OpenStack, AWS, GCP, Terraform, CI/CD">
<meta name="description" content="SRE・インフラ・Kubernetes・DevOpsについて学ぶ技術ブログ">
<meta name="author" content="jedipunkz">
<link rel="canonical" href="https://jedipunkz.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.eca3ac94ad376a8ec0046583cdd8089aed44c59e803a22faa31fb0e2cf0cc260.css" integrity="sha256-7KOslK03ao7ABGWDzdgImu1ExZ6AOiL6ox&#43;w4s8MwmA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jedipunkz.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jedipunkz.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jedipunkz.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jedipunkz.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://jedipunkz.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://jedipunkz.github.io/index.xml">
<link rel="alternate" type="application/json" href="https://jedipunkz.github.io/index.json">
<link rel="alternate" hreflang="en" href="https://jedipunkz.github.io/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-2H91XCYVZ8"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-2H91XCYVZ8');
        }
      </script><meta property="og:url" content="https://jedipunkz.github.io/">
  <meta property="og:site_name" content="jedipunkz 🚀 のブログ">
  <meta property="og:title" content="jedipunkz 🚀 のブログ">
  <meta property="og:description" content="SRE・インフラ・Kubernetes・DevOpsについて学ぶ技術ブログ">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
      <meta property="og:image" content="https://jedipunkz.github.io/jedipunkz.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://jedipunkz.github.io/jedipunkz.jpg">
<meta name="twitter:title" content="jedipunkz 🚀 のブログ">
<meta name="twitter:description" content="SRE・インフラ・Kubernetes・DevOpsについて学ぶ技術ブログ">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "jedipunkz 🚀 のブログ",
  "url": "https://jedipunkz.github.io/",
  "description": "SRE・インフラ・Kubernetes・DevOpsについて学ぶ技術ブログ",
  "logo": "https://jedipunkz.github.io/favicon.ico",
  "sameAs": [
      "http://x.com/jedipunkz", "https://github.com/jedipunkz"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jedipunkz.github.io/" accesskey="h" title="jedipunkz 🚀 のブログ (Alt + H)">jedipunkz 🚀 のブログ</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jedipunkz.github.io/about" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>jedipunkz 🚀 のブログ</h1>
    </header>
    <div class="entry-content">
        SRE になるために学んでいくブログです
    </div>
    <footer class="entry-footer">
        <div class="social-icons" >
    <a href="http://x.com/jedipunkz" target="_blank" rel="noopener noreferrer me"
        title="Twitter">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
    </a>
    <a href="https://github.com/jedipunkz" target="_blank" rel="noopener noreferrer me"
        title="Github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
    </a>
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Claude Code から OpenCode へ移行した話
    </h2>
  </header>
  <section class="entry-content">
    <p>jedipunkz🚀 です。
最近、AI コーディングアシスタントとして使っていた Claude Code から OpenCode に移行しました。この記事では OpenCode の優れた機能と、なぜ移行を決めたのかの決めてを紹介します。
注記 (2025-12-28) OpenCode プロジェクトは、2024年7月に開発元の Charm 社による買収と運営方針を巡って、コントリビューター間で論争が発生しました。その後、Charm 版は Crush としてリブランドされ、現在の OpenCode は SST 組織によって https://github.com/sst/opencode で開発が継続されています。両プロジェクトは現在も別々のツールとして存在しており、この記事では SST 版の OpenCode について紹介しています。
OpenCode とは OpenCode は、ターミナルベースのオープンソース AI コーディングエージェントです。75以上の LLM プロバイダーをサポートし、高度にカスタマイズ可能なインターフェースを提供します。
公式サイト: https://opencode.ai/ 公式ドキュメント: https://opencode.ai/docs GitHub: https://github.com/opencode-ai/opencode
Claude Code から移行した理由 1. 日本語入力 Claude Code では、日本語入力の変換中に文字が横にずれる現象が頻繁に発生し、非常にストレスでした。 OpenCode では、この問題が発生せず日本語入力が自然に行えます。地味ですが一番自分にとって大きいメリットだったかもしれません。
2. 柔軟なキーバインド設定 OpenCode の最大の魅力は、キーバインドを自由にカスタマイズできる点です。
日本語入力 Claude Code では、日本語入力の変換中に文字が横にずれる現象が頻繁に発生し、非常にストレスでした。
OpenCode では、この問題が発生せず、日本語入力が自然に行えます。TUI（Terminal User Interface）の実装が優れており、IME との相性も良好です。
Emacs 風のキーバインドをサポート Emacs 風のキーバインドが設定出来る点は自分にとっては大きかったです。設定せずとも自然に Emacs 風にバインドされているキーもあります。
Ctrl-a: 行頭に移動 Ctrl-e: 行末に移動 Ctrl-h: 一文字削除 Ctrl-k: カーソル位置から行末まで削除 Ctrl-f, Ctrl-b: 前後に移動 &#34;keybinds&#34;: { &#34;input_backspace&#34;: &#34;backspace,shift&#43;backspace,ctrl&#43;h&#34;, &#34;input_delete_to_line_end&#34;: &#34;ctrl&#43;k&#34; }, Enter と Ctrl-Enter を使い分け可能 特に便利なのが、改行とメッセージ送信を分離できる点です：
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Claude Code から OpenCode へ移行した話" href="https://jedipunkz.github.io/post/opencode-migration/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Conftest OPA で Terraform コード開発に制約を設ける
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。jedipunkz🚀 です。
Conftest と Open Policy Agent (OPA) を使った Terraform のポリシー検証を行ったのでそれを記事にしたいと思います。ポリシを書くことで Terraform コードに制約を加え、セキュリティ要件(例えば暗号化要件やポート開放要件等) を満たしたりベストプラクティスにそったインフラを構築できます。毎回レビューで人にチェックさせるよりも確実に制約を守れるようになるのでおすすめです。
この記事では、Conftest と OPA を使って、Terraform コードに自動的にポリシーチェックを適用する方法をチュートリアル形式で解説します。
1. Conftest 概要と基本チュートリアル 1.1 Conftest とは？ Conftest は、構造化された設定データに対してポリシーをテストするためのツールです。Open Policy Agent (OPA) の Rego 言語を使用してポリシーを記述し、さまざまな設定ファイルを検証できます。
Conftest の特徴 汎用性が高い
Terraform（.tf、tfplan.json） Kubernetes（YAML、JSON） Dockerfile その他の JSON/YAML ファイル シンプルで軽量
単一のバイナリで動作 外部依存なし CI/CD に簡単に統合可能 OPA の Rego 言語を採用
宣言的なポリシー記述 強力なパターンマッチング テスト可能なポリシーコード なぜ Conftest が必要なのか？ 従来のインフラ管理では、以下のような課題がありました。
レビューで毎回同じ指摘（「暗号化を有効にしてください」など） 人的ミスによるセキュリティホール 環境間での設定の不整合 コンプライアンス違反の見落とし Conftest を使うことで、これらの課題を解決できます。
ポリシーをコードで自動チェック デプロイ前に問題を検出 一貫したガバナンスの実現 レビュー負荷の軽減 1.2 セットアップ 1.2.1 Conftest のインストール macOS の場合：
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Conftest OPA で Terraform コード開発に制約を設ける" href="https://jedipunkz.github.io/post/conftest/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Prometheus Exporter 開発で Discord サーバ運営の健全化を図る
    </h2>
  </header>
  <section class="entry-content">
    <p>自分は Discord でゲームコミュニティを運営していて Discord サーバを管理しています。運営のために必要な情報を集めようと思い、ボット開発や Prometheus Exporter の開発をしています。この記事では Prometheus Exporter について書こうと思います。
Discord Exporter の概要 Discord Exporter は、Discord サーバの統計情報を Prometheus メトリクスとしてエクスポートするツールです。メンバー数と各チャネルのメッセージ数を収集し Prometheus Exporter としてメトリクスを Promehteus Server に提供するものです。
https://github.com/jedipunkz/discord-exporter
コードの要所説明 Discord Exporter の主要な処理を解説していきます。
Discord API 呼び出し処理 メンバー情報の取得 updateMemberCount 関数では、Discord の GuildMembers API エンドポイントを呼び出してメンバー情報を取得します。API の制限により最大1000件単位でメンバーを取得し、取得したメンバー数を Prometheus のゲージメトリクスに設定します。
func updateMemberCount(s *discordgo.Session, guildID string) { members, err := s.GuildMembers(guildID, &#34;&#34;, 1000) if err != nil { log.Printf(&#34;Error fetching members: %v&#34;, err) return } memberCountGauge.Set(float64(len(members))) log.Printf(&#34;Updated member count: %d&#34;, len(members)) } メッセージカウント処理 countChannelMessages 関数では、チャネルのメッセージを段階的に取得します。ChannelMessages API で100件ずつメッセージを取得し、最終メッセージの ID を次のリクエストのアンカーとして使用することで、全メッセージを数え上げるまでループ処理を行います。
func countChannelMessages(s *discordgo.Session, channelID string) (int, error) { count := 0 lastID := &#34;&#34; for { messages, err := s.ChannelMessages(channelID, 100, lastID, &#34;&#34;, &#34;&#34;) if err != nil { return 0, err } if len(messages) == 0 { break } count &#43;= len(messages) lastID = messages[len(messages)-1].ID } return count, nil } メトリクス収集の実装 並行処理とレート制限 Discord API への過度な呼び出しを防ぐため、セマフォを使用した並行処理制御を実装しています。最大5チャネルを同時処理できるように制限し各ゴルーチンが処理前にセマフォを取得、完了後に解放する仕組みで効率的かつ安全に複数チャネルを並行処理します。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Prometheus Exporter 開発で Discord サーバ運営の健全化を図る" href="https://jedipunkz.github.io/post/discord-exporter/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>DuckDB に入門してみた
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。jedipunkz🚀 です。
今回は DuckDB について理解したことをまとめようと思います。
DuckDB は PostgreSQL 互換の SQL を使って、JSON や CSV、Parquet などのファイルを直接クエリできるデータベースエンジンです。サーバーのセットアップが不要で、Node.js や Python などのアプリケーションに組み込んで使えるため、データ分析やログ解析の用途で注目されています。
DuckDB の特徴 DuckDB は以下の特徴を持ちます。
組み込み型データベース: サーバー不要で、プロセス内で動作 高速な分析処理: 列指向ストレージとベクトル化実行により OLAP に最適化 多様なフォーマット対応: JSON、CSV、Parquet などを直接読み込み PostgreSQL 互換 SQL: 標準的な SQL で操作可能 軽量: SQLite のように単一バイナリで動作 環境セットアップ 今回は Node.js (TypeScript) で DuckDB を使用します。
基本的なセットアップコードは以下の通りです。 :memory: を指定することで、メモリ上にデータベースを作成します。永続化が必要な場合は、ファイルパスを指定することもできます。
import duckdb from &#34;duckdb&#34;; import { promisify } from &#34;util&#34;; const db = new duckdb.Database(&#34;:memory:&#34;); const dbAll = promisify(db.all.bind(db)); const dbClose = promisify(db.close.bind(db)); 基本的な SELECT 操作 まずは基本的な SELECT 操作から見ていきます。
サンプルデータ 従業員データを JSON ファイルで用意します (employees.json)。
[ {&#34;id&#34;: 1, &#34;name&#34;: &#34;Alice&#34;, &#34;age&#34;: 28, &#34;department&#34;: &#34;Sales&#34;, &#34;salary&#34;: 50000}, {&#34;id&#34;: 2, &#34;name&#34;: &#34;Bob&#34;, &#34;age&#34;: 35, &#34;department&#34;: &#34;Engineering&#34;, &#34;salary&#34;: 75000}, {&#34;id&#34;: 3, &#34;name&#34;: &#34;Charlie&#34;, &#34;age&#34;: 42, &#34;department&#34;: &#34;Sales&#34;, &#34;salary&#34;: 65000}, {&#34;id&#34;: 4, &#34;name&#34;: &#34;Diana&#34;, &#34;age&#34;: 31, &#34;department&#34;: &#34;Engineering&#34;, &#34;salary&#34;: 80000}, {&#34;id&#34;: 5, &#34;name&#34;: &#34;Eve&#34;, &#34;age&#34;: 29, &#34;department&#34;: &#34;HR&#34;, &#34;salary&#34;: 55000} ] クエリ実行 DuckDB では、JSON ファイルを直接 FROM 句で指定できます。 ポイントは、CREATE TABLE などの事前準備なしに、ファイルパスを指定するだけでクエリを実行できる点です。DuckDB が自動的にスキーマを推論し、データを読み込みます。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to DuckDB に入門してみた" href="https://jedipunkz.github.io/post/duckdb/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Zig 入門: 構文集
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは @jedipunkz です。
コーディングを学習する機会を増やしている最中なのですが、自分は底レイヤが好きなのを思い出し、またたまに Mitchell Hashimoto 氏が Zig のことを呟いてるのを覚えていたので、突然 Zig に入門したくなりました。
ということで後に自分でも読み返せる形にしようと思い Zig の構文集を記します。
NOTICE ※ 現時点で Stable な 0.15.1 を前提に記します。 ※ 気が向いたときに言語仕様の変化に対応して修正していこうと思います。
はじめに このドキュメントは、Zig 言語の主要な構文を網羅的にまとめたチュートリアルです。すべてのサンプルコードは記事の修正時点で Stable なリリースバージョンの Zig で動作確認しています。
目次 基本構文 演算子 制御構文 関数 配列とスライス 構造体 列挙型とユニオン ポインタ エラーハンドリング オプショナル型 コンパイル時計算 メモリアロケータ テスト モジュール 1. 基本構文 変数宣言 Zig には 2 種類の変数宣言があります。const は不変変数（再代入不可）、var は可変変数（再代入可能）を表します。
const cat: i32 = 5; // const: 不変変数（再代入不可） var dog: i32 = 10; // var: 可変変数（再代入可能） dog = 15; // OK // cat = 10; // エラー: const は変更不可 型推論 型を明示的に指定しなくても、コンパイラが自動的に型を推論してくれます。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Zig 入門: 構文集" href="https://jedipunkz.github.io/post/zig-tutorial/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>TypeScript 入門: 構文集
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは @jedipunkz です。
TypeScript の学習を進める中で構文を網羅的に理解する必要性を感じてサンプルコード作成を作成し動作確認した上で構文集を作成しました。この記事では TypeScript の主要な構文をまとめたいと思います。
※ 気が向いたときに新しい構文が出てきた際に更新し続ける記事にしようと思っています。
目次 1. 基本的な型システム プリミティブ型 型注釈と型推論 TypeScript 拡張型 リテラル型 型アサーション 2. 複合型 配列とタプル オブジェクト型 ユニオン型とインターセクション型 列挙型 Discriminated Unions 3. 関数 関数の型定義 関数のオーバーロード 4. インターフェース 基本的なインターフェース インターフェースの継承 5. クラス クラスの基本 アクセス修飾子 継承と抽象クラス 6. ジェネリクス ジェネリクスの基本 型制約とユーティリティ型 7. 型エイリアス 8. モジュール エクスポートとインポート 9. 高度な型機能 型ガード 高度な型演算子 インデックスシグネチャ ユーティリティ型の拡張 Mapped Types 条件付き型 10. 高度な機能 デコレーター 名前空間 基本的な型システム プリミティブ型 プリミティブ型は JavaScript の基本的なデータ型です。TypeScript ではこれらに型注釈を付けることで型安全性を確保できます。
boolean 型 - 真偽値を表します。true または false のいずれかの値を持ちます。 number 型 - 数値を表します。整数・小数・16 進数・2 進数・8 進数すべてこの型で扱います。JavaScript と同様に内部的にはすべて浮動小数点数として扱われます。 string 型 - 文字列を表します。ダブルクォート、シングルクォート、バッククォート（テンプレートリテラル）で記述できます。 null 型と undefined 型 - 値が存在しないことを表します。null は明示的に値がないことを示し、undefined は値が未定義であることを示します。 bigint 型 - Number.MAX_SAFE_INTEGER を超える大きな整数を扱えます。末尾に n を付けて記述します。 symbol 型 - 一意で不変の値を作成します。オブジェクトのプロパティキーとして使用されることが多いです。 // 基本的な型 const dogName: string = &#34;Buddy&#34;; const dogAge: number = 3; const isDogHungry: boolean = true; console.log(dogName); // 出力: Buddy console.log(dogAge); // 出力: 3 console.log(isDogHungry); // 出力: true // null と undefined const location: null = null; let age: undefined = undefined; console.log(location); // 出力: null console.log(age); // 出力: undefined // bigint と symbol const weight: bigint = 9007199254740991n; const id: symbol = Symbol(&#34;unique&#34;); console.log(weight); // 出力: 9007199254740991n console.log(id); // 出力: Symbol(unique) 型注釈と型推論 型注釈 (Type Annotation) は変数や関数に明示的に型を指定する機能です。: 型名 の形式で記述します。型注釈によりその変数や関数が扱える値の種類を明確にできます。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to TypeScript 入門: 構文集" href="https://jedipunkz.github.io/post/typescript-learning/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Terraform Plan 差分をパースする GitHub Actions を作った
    </h2>
  </header>
  <section class="entry-content">
    <p>こんにちは。jedipunkz🚀 です。
Terraform を運用しているとたまに Plan 結果がどうしても出てしまう事があります。また Terraform を GitHub で実行する環境を運用していると Plan 結果をうまく扱って自動化したいモチベーションも湧いてきます。この場合に Plan の差分をうまく処理してくれる GitHub Action があればなと思って作ってみました。
GitHub Actions 作成した GitHub Action は下記のレポジトリで公開しています。
https://github.com/jedipunkz/tf-plan-parser
入力・オプション設定 この GitHub Action では2つの入力オプションが利用可能です：
terraform-plan (必須) パース対象となる Terraform Plan の出力結果を指定します。通常は前のステップで実行した terraform plan コマンドの標準出力を渡します。
ignore-resources (オプション) 無視したいリソースタイプや特定のリソースを配列形式で指定します。デフォルトは空の配列 [] です。
指定方法の例：
リソースタイプ全体を無視:
ignore-resources: &#39;[&#34;null_resource&#34;, &#34;local_file&#34;]&#39; 特定のリソースインスタンスを無視:
ignore-resources: &#39;[&#34;null_resource.temporary&#34;, &#34;local_file.cache&#34;]&#39; リソースタイプとインスタンスの混在:
ignore-resources: &#39;[&#34;null_resource&#34;, &#34;aws_s3_bucket.temp&#34;, &#34;local_file&#34;]&#39; 出力される情報 この Action は以下の出力を提供します。また下記は ignore-resources オプションの指定に沿って結果を出力してくれます。
diff-bool: 変更があるかどうかの真偽値（true または false） diff-count: 変更されるリソースの数 diff-resources: 変更されるリソースのアドレス一覧（カンマ区切り） diff-raw: 生の差分データ diff-json: s分データの JSON 形式 これらの出力を使って、後続のステップで条件分岐や通知の制御が可能です。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Terraform Plan 差分をパースする GitHub Actions を作った" href="https://jedipunkz.github.io/post/tf-plan-analyzer/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Go 初学者が学ぶクリーンアーキテクチャ
    </h2>
  </header>
  <section class="entry-content">
    <p>自分は Go の初学者なのですがクリーンアーキテクチャを学ぶために幾つかの書籍を読んでみたもののなかなかしっくりと理解が出来ていない状態でした。 そこで AI に極力シンプルなコードを書かせて理解するという事をやってみたのですが、なかなかいい感じに理解が進んだのでここで記事にしたいと思っています。
クリーンアーキテクチャとは？ クリーンアーキテクチャは、Robert C. Martin によって提唱されたソフトウェア設計原則で最も重要な特徴は依存関係の方向性にあります。
従来のアーキテクチャとは異なり、内側の層は外側の層を知らないという原則に基づいています。これにより以下のメリットが得られます。
テスタビリティ: ビジネスロジックを単体でテスト可能 柔軟性: データベースや Web フレームワークの変更が容易 保守性: 関心の分離により変更の影響範囲を限定 実装するシステムの全体像 今回 AI に実装させたのは RESTful API を提供するユーザー管理システムです。
コードは下記のレポジトリにあります。
https://github.com/jedipunkz/go-clean-architecture-playground
システムは以下の4つの層で構成されています：
Entity レイヤ - ビジネスの核となるルール Interface レイヤ - 抽象化による疎結合 Use Case レイヤ - ビジネスロジックの実装 Infrastructure レイヤ - 外部システムとの連携実装 Controller レイヤ - HTTP APIの提供 各層の詳細実装 1. Entity レイヤ - ビジネスの核となるルール 最も内側の層から実装を始めます。エンティティ層は他のどの層にも依存しない純粋なビジネスロジックです。
// entity/user.go package entity import ( &#34;errors&#34; &#34;time&#34; ) type User struct { ID int `json:&#34;id&#34;` Name string `json:&#34;name&#34;` Email string `json:&#34;email&#34;` CreatedAt time.Time `json:&#34;created_at&#34;` UpdatedAt time.Time `json:&#34;updated_at&#34;` } func NewUser(name, email string) (*User, error) { if name == &#34;&#34; { return nil, errors.New(&#34;名前は必須です&#34;) } if email == &#34;&#34; { return nil, errors.New(&#34;メールアドレスは必須です&#34;) } now := time.Now() return &amp;User{ Name: name, Email: email, CreatedAt: now, UpdatedAt: now, }, nil } func (u *User) UpdateInfo(name, email string) error { if name == &#34;&#34; { return errors.New(&#34;名前は必須です&#34;) } if email == &#34;&#34; { return nil, errors.New(&#34;メールアドレスは必須です&#34;) } u.Name = name u.Email = email u.UpdatedAt = time.Now() return nil } この User エンティティは、クリーンアーキテクチャの最も内側に位置する部分です。ここで重要なのは、このエンティティが外部の何にも依存していないことです。データベースがMySQLなのかPostgreSQLなのか、WebフレームワークがGinなのかEchoなのか、そういった技術的な詳細は一切知らないのが特徴になっています。
...</p>
  </section>
  
  <a class="entry-link" aria-label="post link to Go 初学者が学ぶクリーンアーキテクチャ" href="https://jedipunkz.github.io/post/go-clean-architecture/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://jedipunkz.github.io/page/2/">Next »</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jedipunkz.github.io/">jedipunkz 🚀 のブログ</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
